import{a as j,b as xe,c as D3,d as S3,e as gl}from"./chunk-FDERIQAA.js";var Zj=D3((Pd,gp)=>{"use strict";(function(){var n,e="4.17.21",t=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",d=1,h=2,p=4,g=1,_=2,v=1,w=2,x=4,D=8,T=16,A=32,O=64,N=128,U=256,G=512,W=30,$="...",Z=800,Ce=16,ae=1,ee=2,ze=3,te=1/0,pe=9007199254740991,re=17976931348623157e292,le=NaN,me=4294967295,et=me-1,gt=me>>>1,q=[["ary",N],["bind",v],["bindKey",w],["curry",D],["curryRight",T],["flip",G],["partial",A],["partialRight",O],["rearg",U]],Ht="[object Arguments]",dn="[object Array]",zt="[object AsyncFunction]",mn="[object Boolean]",Xt="[object Date]",ar="[object DOMException]",Gn="[object Error]",Cn="[object Function]",il="[object GeneratorFunction]",ri="[object Map]",Nr="[object Number]",Ko="[object Null]",Zt="[object Object]",Hi="[object Promise]",Ks="[object Proxy]",lr="[object RegExp]",Pn="[object Set]",zi="[object String]",Pr="[object Symbol]",Qs="[object Undefined]",kt="[object WeakMap]",Vd="[object WeakSet]",Qo="[object ArrayBuffer]",Fr="[object DataView]",Js="[object Float32Array]",jd="[object Float64Array]",vc="[object Int8Array]",Ec="[object Int16Array]",rl="[object Int32Array]",Bd="[object Uint8Array]",Ud="[object Uint8ClampedArray]",bc="[object Uint16Array]",wc="[object Uint32Array]",Hd=/\b__p \+= '';/g,Ep=/\b(__p \+=) '' \+/g,Jv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cc=/&(?:amp|lt|gt|quot|#39);/g,ea=/[&<>"']/g,ol=RegExp(Cc.source),sl=RegExp(ea.source),bp=/<%-([\s\S]+?)%>/g,wp=/<%([\s\S]+?)%>/g,oi=/<%=([\s\S]+?)%>/g,Jo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wi=/^\w*$/,cr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wn=/[\\^$.*+?()[\]{}|]/g,Lr=RegExp(Wn.source),Gi=/^\s+/,Vt=/\s/,Fn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kr=/\{\n\/\* \[wrapped with (.+)\] \*/,e0=/,? & /,lB=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cB=/[()=,{}\[\]\/\s]/,uB=/\\(\\)?/g,dB=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,JS=/\w*$/,fB=/^[-+]0x[0-9a-f]+$/i,hB=/^0b[01]+$/i,pB=/^\[object .+?Constructor\]$/,mB=/^0o[0-7]+$/i,gB=/^(?:0|[1-9]\d*)$/,_B=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cp=/($^)/,yB=/['\n\r\u2028\u2029\\]/g,xp="\\ud800-\\udfff",vB="\\u0300-\\u036f",EB="\\ufe20-\\ufe2f",bB="\\u20d0-\\u20ff",eT=vB+EB+bB,tT="\\u2700-\\u27bf",nT="a-z\\xdf-\\xf6\\xf8-\\xff",wB="\\xac\\xb1\\xd7\\xf7",CB="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xB="\\u2000-\\u206f",IB=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",iT="A-Z\\xc0-\\xd6\\xd8-\\xde",rT="\\ufe0e\\ufe0f",oT=wB+CB+xB+IB,t0="['\u2019]",DB="["+xp+"]",sT="["+oT+"]",Ip="["+eT+"]",aT="\\d+",SB="["+tT+"]",lT="["+nT+"]",cT="[^"+xp+oT+aT+tT+nT+iT+"]",n0="\\ud83c[\\udffb-\\udfff]",TB="(?:"+Ip+"|"+n0+")",uT="[^"+xp+"]",i0="(?:\\ud83c[\\udde6-\\uddff]){2}",r0="[\\ud800-\\udbff][\\udc00-\\udfff]",xc="["+iT+"]",dT="\\u200d",fT="(?:"+lT+"|"+cT+")",MB="(?:"+xc+"|"+cT+")",hT="(?:"+t0+"(?:d|ll|m|re|s|t|ve))?",pT="(?:"+t0+"(?:D|LL|M|RE|S|T|VE))?",mT=TB+"?",gT="["+rT+"]?",RB="(?:"+dT+"(?:"+[uT,i0,r0].join("|")+")"+gT+mT+")*",AB="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",OB="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_T=gT+mT+RB,NB="(?:"+[SB,i0,r0].join("|")+")"+_T,PB="(?:"+[uT+Ip+"?",Ip,i0,r0,DB].join("|")+")",FB=RegExp(t0,"g"),LB=RegExp(Ip,"g"),o0=RegExp(n0+"(?="+n0+")|"+PB+_T,"g"),kB=RegExp([xc+"?"+lT+"+"+hT+"(?="+[sT,xc,"$"].join("|")+")",MB+"+"+pT+"(?="+[sT,xc+fT,"$"].join("|")+")",xc+"?"+fT+"+"+hT,xc+"+"+pT,OB,AB,aT,NB].join("|"),"g"),VB=RegExp("["+dT+xp+eT+rT+"]"),jB=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,BB=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],UB=-1,Nt={};Nt[Js]=Nt[jd]=Nt[vc]=Nt[Ec]=Nt[rl]=Nt[Bd]=Nt[Ud]=Nt[bc]=Nt[wc]=!0,Nt[Ht]=Nt[dn]=Nt[Qo]=Nt[mn]=Nt[Fr]=Nt[Xt]=Nt[Gn]=Nt[Cn]=Nt[ri]=Nt[Nr]=Nt[Zt]=Nt[lr]=Nt[Pn]=Nt[zi]=Nt[kt]=!1;var Rt={};Rt[Ht]=Rt[dn]=Rt[Qo]=Rt[Fr]=Rt[mn]=Rt[Xt]=Rt[Js]=Rt[jd]=Rt[vc]=Rt[Ec]=Rt[rl]=Rt[ri]=Rt[Nr]=Rt[Zt]=Rt[lr]=Rt[Pn]=Rt[zi]=Rt[Pr]=Rt[Bd]=Rt[Ud]=Rt[bc]=Rt[wc]=!0,Rt[Gn]=Rt[Cn]=Rt[kt]=!1;var HB={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},zB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},GB={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},WB={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$B=parseFloat,qB=parseInt,yT=typeof global=="object"&&global&&global.Object===Object&&global,YB=typeof self=="object"&&self&&self.Object===Object&&self,xn=yT||YB||Function("return this")(),s0=typeof Pd=="object"&&Pd&&!Pd.nodeType&&Pd,al=s0&&typeof gp=="object"&&gp&&!gp.nodeType&&gp,vT=al&&al.exports===s0,a0=vT&&yT.process,ur=function(){try{var M=al&&al.require&&al.require("util").types;return M||a0&&a0.binding&&a0.binding("util")}catch{}}(),ET=ur&&ur.isArrayBuffer,bT=ur&&ur.isDate,wT=ur&&ur.isMap,CT=ur&&ur.isRegExp,xT=ur&&ur.isSet,IT=ur&&ur.isTypedArray;function Wi(M,L,P){switch(P.length){case 0:return M.call(L);case 1:return M.call(L,P[0]);case 2:return M.call(L,P[0],P[1]);case 3:return M.call(L,P[0],P[1],P[2])}return M.apply(L,P)}function XB(M,L,P,Q){for(var Ne=-1,ut=M==null?0:M.length;++Ne<ut;){var gn=M[Ne];L(Q,gn,P(gn),M)}return Q}function dr(M,L){for(var P=-1,Q=M==null?0:M.length;++P<Q&&L(M[P],P,M)!==!1;);return M}function ZB(M,L){for(var P=M==null?0:M.length;P--&&L(M[P],P,M)!==!1;);return M}function DT(M,L){for(var P=-1,Q=M==null?0:M.length;++P<Q;)if(!L(M[P],P,M))return!1;return!0}function ta(M,L){for(var P=-1,Q=M==null?0:M.length,Ne=0,ut=[];++P<Q;){var gn=M[P];L(gn,P,M)&&(ut[Ne++]=gn)}return ut}function Dp(M,L){var P=M==null?0:M.length;return!!P&&Ic(M,L,0)>-1}function l0(M,L,P){for(var Q=-1,Ne=M==null?0:M.length;++Q<Ne;)if(P(L,M[Q]))return!0;return!1}function jt(M,L){for(var P=-1,Q=M==null?0:M.length,Ne=Array(Q);++P<Q;)Ne[P]=L(M[P],P,M);return Ne}function na(M,L){for(var P=-1,Q=L.length,Ne=M.length;++P<Q;)M[Ne+P]=L[P];return M}function c0(M,L,P,Q){var Ne=-1,ut=M==null?0:M.length;for(Q&&ut&&(P=M[++Ne]);++Ne<ut;)P=L(P,M[Ne],Ne,M);return P}function KB(M,L,P,Q){var Ne=M==null?0:M.length;for(Q&&Ne&&(P=M[--Ne]);Ne--;)P=L(P,M[Ne],Ne,M);return P}function u0(M,L){for(var P=-1,Q=M==null?0:M.length;++P<Q;)if(L(M[P],P,M))return!0;return!1}var QB=d0("length");function JB(M){return M.split("")}function eU(M){return M.match(lB)||[]}function ST(M,L,P){var Q;return P(M,function(Ne,ut,gn){if(L(Ne,ut,gn))return Q=ut,!1}),Q}function Sp(M,L,P,Q){for(var Ne=M.length,ut=P+(Q?1:-1);Q?ut--:++ut<Ne;)if(L(M[ut],ut,M))return ut;return-1}function Ic(M,L,P){return L===L?fU(M,L,P):Sp(M,TT,P)}function tU(M,L,P,Q){for(var Ne=P-1,ut=M.length;++Ne<ut;)if(Q(M[Ne],L))return Ne;return-1}function TT(M){return M!==M}function MT(M,L){var P=M==null?0:M.length;return P?h0(M,L)/P:le}function d0(M){return function(L){return L==null?n:L[M]}}function f0(M){return function(L){return M==null?n:M[L]}}function RT(M,L,P,Q,Ne){return Ne(M,function(ut,gn,Dt){P=Q?(Q=!1,ut):L(P,ut,gn,Dt)}),P}function nU(M,L){var P=M.length;for(M.sort(L);P--;)M[P]=M[P].value;return M}function h0(M,L){for(var P,Q=-1,Ne=M.length;++Q<Ne;){var ut=L(M[Q]);ut!==n&&(P=P===n?ut:P+ut)}return P}function p0(M,L){for(var P=-1,Q=Array(M);++P<M;)Q[P]=L(P);return Q}function iU(M,L){return jt(L,function(P){return[P,M[P]]})}function AT(M){return M&&M.slice(0,FT(M)+1).replace(Gi,"")}function $i(M){return function(L){return M(L)}}function m0(M,L){return jt(L,function(P){return M[P]})}function zd(M,L){return M.has(L)}function OT(M,L){for(var P=-1,Q=M.length;++P<Q&&Ic(L,M[P],0)>-1;);return P}function NT(M,L){for(var P=M.length;P--&&Ic(L,M[P],0)>-1;);return P}function rU(M,L){for(var P=M.length,Q=0;P--;)M[P]===L&&++Q;return Q}var oU=f0(HB),sU=f0(zB);function aU(M){return"\\"+WB[M]}function lU(M,L){return M==null?n:M[L]}function Dc(M){return VB.test(M)}function cU(M){return jB.test(M)}function uU(M){for(var L,P=[];!(L=M.next()).done;)P.push(L.value);return P}function g0(M){var L=-1,P=Array(M.size);return M.forEach(function(Q,Ne){P[++L]=[Ne,Q]}),P}function PT(M,L){return function(P){return M(L(P))}}function ia(M,L){for(var P=-1,Q=M.length,Ne=0,ut=[];++P<Q;){var gn=M[P];(gn===L||gn===u)&&(M[P]=u,ut[Ne++]=P)}return ut}function Tp(M){var L=-1,P=Array(M.size);return M.forEach(function(Q){P[++L]=Q}),P}function dU(M){var L=-1,P=Array(M.size);return M.forEach(function(Q){P[++L]=[Q,Q]}),P}function fU(M,L,P){for(var Q=P-1,Ne=M.length;++Q<Ne;)if(M[Q]===L)return Q;return-1}function hU(M,L,P){for(var Q=P+1;Q--;)if(M[Q]===L)return Q;return Q}function Sc(M){return Dc(M)?mU(M):QB(M)}function Vr(M){return Dc(M)?gU(M):JB(M)}function FT(M){for(var L=M.length;L--&&Vt.test(M.charAt(L)););return L}var pU=f0(GB);function mU(M){for(var L=o0.lastIndex=0;o0.test(M);)++L;return L}function gU(M){return M.match(o0)||[]}function _U(M){return M.match(kB)||[]}var yU=function M(L){L=L==null?xn:ra.defaults(xn.Object(),L,ra.pick(xn,BB));var P=L.Array,Q=L.Date,Ne=L.Error,ut=L.Function,gn=L.Math,Dt=L.Object,_0=L.RegExp,vU=L.String,fr=L.TypeError,Mp=P.prototype,EU=ut.prototype,Tc=Dt.prototype,Rp=L["__core-js_shared__"],Ap=EU.toString,bt=Tc.hasOwnProperty,bU=0,LT=function(){var a=/[^.]+$/.exec(Rp&&Rp.keys&&Rp.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Op=Tc.toString,wU=Ap.call(Dt),CU=xn._,xU=_0("^"+Ap.call(bt).replace(Wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Np=vT?L.Buffer:n,oa=L.Symbol,Pp=L.Uint8Array,kT=Np?Np.allocUnsafe:n,Fp=PT(Dt.getPrototypeOf,Dt),VT=Dt.create,jT=Tc.propertyIsEnumerable,Lp=Mp.splice,BT=oa?oa.isConcatSpreadable:n,Gd=oa?oa.iterator:n,ll=oa?oa.toStringTag:n,kp=function(){try{var a=hl(Dt,"defineProperty");return a({},"",{}),a}catch{}}(),IU=L.clearTimeout!==xn.clearTimeout&&L.clearTimeout,DU=Q&&Q.now!==xn.Date.now&&Q.now,SU=L.setTimeout!==xn.setTimeout&&L.setTimeout,Vp=gn.ceil,jp=gn.floor,y0=Dt.getOwnPropertySymbols,TU=Np?Np.isBuffer:n,UT=L.isFinite,MU=Mp.join,RU=PT(Dt.keys,Dt),_n=gn.max,$n=gn.min,AU=Q.now,OU=L.parseInt,HT=gn.random,NU=Mp.reverse,v0=hl(L,"DataView"),Wd=hl(L,"Map"),E0=hl(L,"Promise"),Mc=hl(L,"Set"),$d=hl(L,"WeakMap"),qd=hl(Dt,"create"),Bp=$d&&new $d,Rc={},PU=pl(v0),FU=pl(Wd),LU=pl(E0),kU=pl(Mc),VU=pl($d),Up=oa?oa.prototype:n,Yd=Up?Up.valueOf:n,zT=Up?Up.toString:n;function E(a){if(Kt(a)&&!Le(a)&&!(a instanceof it)){if(a instanceof hr)return a;if(bt.call(a,"__wrapped__"))return GM(a)}return new hr(a)}var Ac=function(){function a(){}return function(c){if(!Gt(c))return{};if(VT)return VT(c);a.prototype=c;var f=new a;return a.prototype=n,f}}();function Hp(){}function hr(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}E.templateSettings={escape:bp,evaluate:wp,interpolate:oi,variable:"",imports:{_:E}},E.prototype=Hp.prototype,E.prototype.constructor=E,hr.prototype=Ac(Hp.prototype),hr.prototype.constructor=hr;function it(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function jU(){var a=new it(this.__wrapped__);return a.__actions__=Ci(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ci(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Ci(this.__views__),a}function BU(){if(this.__filtered__){var a=new it(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function UU(){var a=this.__wrapped__.value(),c=this.__dir__,f=Le(a),m=c<0,y=f?a.length:0,b=JH(0,y,this.__views__),I=b.start,S=b.end,R=S-I,V=m?S:I-1,B=this.__iteratees__,z=B.length,Y=0,oe=$n(R,this.__takeCount__);if(!f||!m&&y==R&&oe==R)return hM(a,this.__actions__);var ye=[];e:for(;R--&&Y<oe;){V+=c;for(var Ge=-1,ve=a[V];++Ge<z;){var tt=B[Ge],st=tt.iteratee,Xi=tt.type,li=st(ve);if(Xi==ee)ve=li;else if(!li){if(Xi==ae)continue e;break e}}ye[Y++]=ve}return ye}it.prototype=Ac(Hp.prototype),it.prototype.constructor=it;function cl(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function HU(){this.__data__=qd?qd(null):{},this.size=0}function zU(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function GU(a){var c=this.__data__;if(qd){var f=c[a];return f===s?n:f}return bt.call(c,a)?c[a]:n}function WU(a){var c=this.__data__;return qd?c[a]!==n:bt.call(c,a)}function $U(a,c){var f=this.__data__;return this.size+=this.has(a)?0:1,f[a]=qd&&c===n?s:c,this}cl.prototype.clear=HU,cl.prototype.delete=zU,cl.prototype.get=GU,cl.prototype.has=WU,cl.prototype.set=$U;function es(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function qU(){this.__data__=[],this.size=0}function YU(a){var c=this.__data__,f=zp(c,a);if(f<0)return!1;var m=c.length-1;return f==m?c.pop():Lp.call(c,f,1),--this.size,!0}function XU(a){var c=this.__data__,f=zp(c,a);return f<0?n:c[f][1]}function ZU(a){return zp(this.__data__,a)>-1}function KU(a,c){var f=this.__data__,m=zp(f,a);return m<0?(++this.size,f.push([a,c])):f[m][1]=c,this}es.prototype.clear=qU,es.prototype.delete=YU,es.prototype.get=XU,es.prototype.has=ZU,es.prototype.set=KU;function ts(a){var c=-1,f=a==null?0:a.length;for(this.clear();++c<f;){var m=a[c];this.set(m[0],m[1])}}function QU(){this.size=0,this.__data__={hash:new cl,map:new(Wd||es),string:new cl}}function JU(a){var c=tm(this,a).delete(a);return this.size-=c?1:0,c}function eH(a){return tm(this,a).get(a)}function tH(a){return tm(this,a).has(a)}function nH(a,c){var f=tm(this,a),m=f.size;return f.set(a,c),this.size+=f.size==m?0:1,this}ts.prototype.clear=QU,ts.prototype.delete=JU,ts.prototype.get=eH,ts.prototype.has=tH,ts.prototype.set=nH;function ul(a){var c=-1,f=a==null?0:a.length;for(this.__data__=new ts;++c<f;)this.add(a[c])}function iH(a){return this.__data__.set(a,s),this}function rH(a){return this.__data__.has(a)}ul.prototype.add=ul.prototype.push=iH,ul.prototype.has=rH;function jr(a){var c=this.__data__=new es(a);this.size=c.size}function oH(){this.__data__=new es,this.size=0}function sH(a){var c=this.__data__,f=c.delete(a);return this.size=c.size,f}function aH(a){return this.__data__.get(a)}function lH(a){return this.__data__.has(a)}function cH(a,c){var f=this.__data__;if(f instanceof es){var m=f.__data__;if(!Wd||m.length<t-1)return m.push([a,c]),this.size=++f.size,this;f=this.__data__=new ts(m)}return f.set(a,c),this.size=f.size,this}jr.prototype.clear=oH,jr.prototype.delete=sH,jr.prototype.get=aH,jr.prototype.has=lH,jr.prototype.set=cH;function GT(a,c){var f=Le(a),m=!f&&ml(a),y=!f&&!m&&ua(a),b=!f&&!m&&!y&&Fc(a),I=f||m||y||b,S=I?p0(a.length,vU):[],R=S.length;for(var V in a)(c||bt.call(a,V))&&!(I&&(V=="length"||y&&(V=="offset"||V=="parent")||b&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||os(V,R)))&&S.push(V);return S}function WT(a){var c=a.length;return c?a[A0(0,c-1)]:n}function uH(a,c){return nm(Ci(a),dl(c,0,a.length))}function dH(a){return nm(Ci(a))}function b0(a,c,f){(f!==n&&!Br(a[c],f)||f===n&&!(c in a))&&ns(a,c,f)}function Xd(a,c,f){var m=a[c];(!(bt.call(a,c)&&Br(m,f))||f===n&&!(c in a))&&ns(a,c,f)}function zp(a,c){for(var f=a.length;f--;)if(Br(a[f][0],c))return f;return-1}function fH(a,c,f,m){return sa(a,function(y,b,I){c(m,y,f(y),I)}),m}function $T(a,c){return a&&uo(c,In(c),a)}function hH(a,c){return a&&uo(c,Ii(c),a)}function ns(a,c,f){c=="__proto__"&&kp?kp(a,c,{configurable:!0,enumerable:!0,value:f,writable:!0}):a[c]=f}function w0(a,c){for(var f=-1,m=c.length,y=P(m),b=a==null;++f<m;)y[f]=b?n:nE(a,c[f]);return y}function dl(a,c,f){return a===a&&(f!==n&&(a=a<=f?a:f),c!==n&&(a=a>=c?a:c)),a}function pr(a,c,f,m,y,b){var I,S=c&d,R=c&h,V=c&p;if(f&&(I=y?f(a,m,y,b):f(a)),I!==n)return I;if(!Gt(a))return a;var B=Le(a);if(B){if(I=tz(a),!S)return Ci(a,I)}else{var z=qn(a),Y=z==Cn||z==il;if(ua(a))return gM(a,S);if(z==Zt||z==Ht||Y&&!y){if(I=R||Y?{}:FM(a),!S)return R?GH(a,hH(I,a)):zH(a,$T(I,a))}else{if(!Rt[z])return y?a:{};I=nz(a,z,S)}}b||(b=new jr);var oe=b.get(a);if(oe)return oe;b.set(a,I),uR(a)?a.forEach(function(ve){I.add(pr(ve,c,f,ve,a,b))}):lR(a)&&a.forEach(function(ve,tt){I.set(tt,pr(ve,c,f,tt,a,b))});var ye=V?R?H0:U0:R?Ii:In,Ge=B?n:ye(a);return dr(Ge||a,function(ve,tt){Ge&&(tt=ve,ve=a[tt]),Xd(I,tt,pr(ve,c,f,tt,a,b))}),I}function pH(a){var c=In(a);return function(f){return qT(f,a,c)}}function qT(a,c,f){var m=f.length;if(a==null)return!m;for(a=Dt(a);m--;){var y=f[m],b=c[y],I=a[y];if(I===n&&!(y in a)||!b(I))return!1}return!0}function YT(a,c,f){if(typeof a!="function")throw new fr(r);return nf(function(){a.apply(n,f)},c)}function Zd(a,c,f,m){var y=-1,b=Dp,I=!0,S=a.length,R=[],V=c.length;if(!S)return R;f&&(c=jt(c,$i(f))),m?(b=l0,I=!1):c.length>=t&&(b=zd,I=!1,c=new ul(c));e:for(;++y<S;){var B=a[y],z=f==null?B:f(B);if(B=m||B!==0?B:0,I&&z===z){for(var Y=V;Y--;)if(c[Y]===z)continue e;R.push(B)}else b(c,z,m)||R.push(B)}return R}var sa=bM(co),XT=bM(x0,!0);function mH(a,c){var f=!0;return sa(a,function(m,y,b){return f=!!c(m,y,b),f}),f}function Gp(a,c,f){for(var m=-1,y=a.length;++m<y;){var b=a[m],I=c(b);if(I!=null&&(S===n?I===I&&!Yi(I):f(I,S)))var S=I,R=b}return R}function gH(a,c,f,m){var y=a.length;for(f=je(f),f<0&&(f=-f>y?0:y+f),m=m===n||m>y?y:je(m),m<0&&(m+=y),m=f>m?0:fR(m);f<m;)a[f++]=c;return a}function ZT(a,c){var f=[];return sa(a,function(m,y,b){c(m,y,b)&&f.push(m)}),f}function Ln(a,c,f,m,y){var b=-1,I=a.length;for(f||(f=rz),y||(y=[]);++b<I;){var S=a[b];c>0&&f(S)?c>1?Ln(S,c-1,f,m,y):na(y,S):m||(y[y.length]=S)}return y}var C0=wM(),KT=wM(!0);function co(a,c){return a&&C0(a,c,In)}function x0(a,c){return a&&KT(a,c,In)}function Wp(a,c){return ta(c,function(f){return ss(a[f])})}function fl(a,c){c=la(c,a);for(var f=0,m=c.length;a!=null&&f<m;)a=a[fo(c[f++])];return f&&f==m?a:n}function QT(a,c,f){var m=c(a);return Le(a)?m:na(m,f(a))}function si(a){return a==null?a===n?Qs:Ko:ll&&ll in Dt(a)?QH(a):dz(a)}function I0(a,c){return a>c}function _H(a,c){return a!=null&&bt.call(a,c)}function yH(a,c){return a!=null&&c in Dt(a)}function vH(a,c,f){return a>=$n(c,f)&&a<_n(c,f)}function D0(a,c,f){for(var m=f?l0:Dp,y=a[0].length,b=a.length,I=b,S=P(b),R=1/0,V=[];I--;){var B=a[I];I&&c&&(B=jt(B,$i(c))),R=$n(B.length,R),S[I]=!f&&(c||y>=120&&B.length>=120)?new ul(I&&B):n}B=a[0];var z=-1,Y=S[0];e:for(;++z<y&&V.length<R;){var oe=B[z],ye=c?c(oe):oe;if(oe=f||oe!==0?oe:0,!(Y?zd(Y,ye):m(V,ye,f))){for(I=b;--I;){var Ge=S[I];if(!(Ge?zd(Ge,ye):m(a[I],ye,f)))continue e}Y&&Y.push(ye),V.push(oe)}}return V}function EH(a,c,f,m){return co(a,function(y,b,I){c(m,f(y),b,I)}),m}function Kd(a,c,f){c=la(c,a),a=jM(a,c);var m=a==null?a:a[fo(gr(c))];return m==null?n:Wi(m,a,f)}function JT(a){return Kt(a)&&si(a)==Ht}function bH(a){return Kt(a)&&si(a)==Qo}function wH(a){return Kt(a)&&si(a)==Xt}function Qd(a,c,f,m,y){return a===c?!0:a==null||c==null||!Kt(a)&&!Kt(c)?a!==a&&c!==c:CH(a,c,f,m,Qd,y)}function CH(a,c,f,m,y,b){var I=Le(a),S=Le(c),R=I?dn:qn(a),V=S?dn:qn(c);R=R==Ht?Zt:R,V=V==Ht?Zt:V;var B=R==Zt,z=V==Zt,Y=R==V;if(Y&&ua(a)){if(!ua(c))return!1;I=!0,B=!1}if(Y&&!B)return b||(b=new jr),I||Fc(a)?OM(a,c,f,m,y,b):ZH(a,c,R,f,m,y,b);if(!(f&g)){var oe=B&&bt.call(a,"__wrapped__"),ye=z&&bt.call(c,"__wrapped__");if(oe||ye){var Ge=oe?a.value():a,ve=ye?c.value():c;return b||(b=new jr),y(Ge,ve,f,m,b)}}return Y?(b||(b=new jr),KH(a,c,f,m,y,b)):!1}function xH(a){return Kt(a)&&qn(a)==ri}function S0(a,c,f,m){var y=f.length,b=y,I=!m;if(a==null)return!b;for(a=Dt(a);y--;){var S=f[y];if(I&&S[2]?S[1]!==a[S[0]]:!(S[0]in a))return!1}for(;++y<b;){S=f[y];var R=S[0],V=a[R],B=S[1];if(I&&S[2]){if(V===n&&!(R in a))return!1}else{var z=new jr;if(m)var Y=m(V,B,R,a,c,z);if(!(Y===n?Qd(B,V,g|_,m,z):Y))return!1}}return!0}function eM(a){if(!Gt(a)||sz(a))return!1;var c=ss(a)?xU:pB;return c.test(pl(a))}function IH(a){return Kt(a)&&si(a)==lr}function DH(a){return Kt(a)&&qn(a)==Pn}function SH(a){return Kt(a)&&lm(a.length)&&!!Nt[si(a)]}function tM(a){return typeof a=="function"?a:a==null?Di:typeof a=="object"?Le(a)?rM(a[0],a[1]):iM(a):CR(a)}function T0(a){if(!tf(a))return RU(a);var c=[];for(var f in Dt(a))bt.call(a,f)&&f!="constructor"&&c.push(f);return c}function TH(a){if(!Gt(a))return uz(a);var c=tf(a),f=[];for(var m in a)m=="constructor"&&(c||!bt.call(a,m))||f.push(m);return f}function M0(a,c){return a<c}function nM(a,c){var f=-1,m=xi(a)?P(a.length):[];return sa(a,function(y,b,I){m[++f]=c(y,b,I)}),m}function iM(a){var c=G0(a);return c.length==1&&c[0][2]?kM(c[0][0],c[0][1]):function(f){return f===a||S0(f,a,c)}}function rM(a,c){return $0(a)&&LM(c)?kM(fo(a),c):function(f){var m=nE(f,a);return m===n&&m===c?iE(f,a):Qd(c,m,g|_)}}function $p(a,c,f,m,y){a!==c&&C0(c,function(b,I){if(y||(y=new jr),Gt(b))MH(a,c,I,f,$p,m,y);else{var S=m?m(Y0(a,I),b,I+"",a,c,y):n;S===n&&(S=b),b0(a,I,S)}},Ii)}function MH(a,c,f,m,y,b,I){var S=Y0(a,f),R=Y0(c,f),V=I.get(R);if(V){b0(a,f,V);return}var B=b?b(S,R,f+"",a,c,I):n,z=B===n;if(z){var Y=Le(R),oe=!Y&&ua(R),ye=!Y&&!oe&&Fc(R);B=R,Y||oe||ye?Le(S)?B=S:rn(S)?B=Ci(S):oe?(z=!1,B=gM(R,!0)):ye?(z=!1,B=_M(R,!0)):B=[]:rf(R)||ml(R)?(B=S,ml(S)?B=hR(S):(!Gt(S)||ss(S))&&(B=FM(R))):z=!1}z&&(I.set(R,B),y(B,R,m,b,I),I.delete(R)),b0(a,f,B)}function oM(a,c){var f=a.length;if(f)return c+=c<0?f:0,os(c,f)?a[c]:n}function sM(a,c,f){c.length?c=jt(c,function(b){return Le(b)?function(I){return fl(I,b.length===1?b[0]:b)}:b}):c=[Di];var m=-1;c=jt(c,$i(ge()));var y=nM(a,function(b,I,S){var R=jt(c,function(V){return V(b)});return{criteria:R,index:++m,value:b}});return nU(y,function(b,I){return HH(b,I,f)})}function RH(a,c){return aM(a,c,function(f,m){return iE(a,m)})}function aM(a,c,f){for(var m=-1,y=c.length,b={};++m<y;){var I=c[m],S=fl(a,I);f(S,I)&&Jd(b,la(I,a),S)}return b}function AH(a){return function(c){return fl(c,a)}}function R0(a,c,f,m){var y=m?tU:Ic,b=-1,I=c.length,S=a;for(a===c&&(c=Ci(c)),f&&(S=jt(a,$i(f)));++b<I;)for(var R=0,V=c[b],B=f?f(V):V;(R=y(S,B,R,m))>-1;)S!==a&&Lp.call(S,R,1),Lp.call(a,R,1);return a}function lM(a,c){for(var f=a?c.length:0,m=f-1;f--;){var y=c[f];if(f==m||y!==b){var b=y;os(y)?Lp.call(a,y,1):P0(a,y)}}return a}function A0(a,c){return a+jp(HT()*(c-a+1))}function OH(a,c,f,m){for(var y=-1,b=_n(Vp((c-a)/(f||1)),0),I=P(b);b--;)I[m?b:++y]=a,a+=f;return I}function O0(a,c){var f="";if(!a||c<1||c>pe)return f;do c%2&&(f+=a),c=jp(c/2),c&&(a+=a);while(c);return f}function qe(a,c){return X0(VM(a,c,Di),a+"")}function NH(a){return WT(Lc(a))}function PH(a,c){var f=Lc(a);return nm(f,dl(c,0,f.length))}function Jd(a,c,f,m){if(!Gt(a))return a;c=la(c,a);for(var y=-1,b=c.length,I=b-1,S=a;S!=null&&++y<b;){var R=fo(c[y]),V=f;if(R==="__proto__"||R==="constructor"||R==="prototype")return a;if(y!=I){var B=S[R];V=m?m(B,R,S):n,V===n&&(V=Gt(B)?B:os(c[y+1])?[]:{})}Xd(S,R,V),S=S[R]}return a}var cM=Bp?function(a,c){return Bp.set(a,c),a}:Di,FH=kp?function(a,c){return kp(a,"toString",{configurable:!0,enumerable:!1,value:oE(c),writable:!0})}:Di;function LH(a){return nm(Lc(a))}function mr(a,c,f){var m=-1,y=a.length;c<0&&(c=-c>y?0:y+c),f=f>y?y:f,f<0&&(f+=y),y=c>f?0:f-c>>>0,c>>>=0;for(var b=P(y);++m<y;)b[m]=a[m+c];return b}function kH(a,c){var f;return sa(a,function(m,y,b){return f=c(m,y,b),!f}),!!f}function qp(a,c,f){var m=0,y=a==null?m:a.length;if(typeof c=="number"&&c===c&&y<=gt){for(;m<y;){var b=m+y>>>1,I=a[b];I!==null&&!Yi(I)&&(f?I<=c:I<c)?m=b+1:y=b}return y}return N0(a,c,Di,f)}function N0(a,c,f,m){var y=0,b=a==null?0:a.length;if(b===0)return 0;c=f(c);for(var I=c!==c,S=c===null,R=Yi(c),V=c===n;y<b;){var B=jp((y+b)/2),z=f(a[B]),Y=z!==n,oe=z===null,ye=z===z,Ge=Yi(z);if(I)var ve=m||ye;else V?ve=ye&&(m||Y):S?ve=ye&&Y&&(m||!oe):R?ve=ye&&Y&&!oe&&(m||!Ge):oe||Ge?ve=!1:ve=m?z<=c:z<c;ve?y=B+1:b=B}return $n(b,et)}function uM(a,c){for(var f=-1,m=a.length,y=0,b=[];++f<m;){var I=a[f],S=c?c(I):I;if(!f||!Br(S,R)){var R=S;b[y++]=I===0?0:I}}return b}function dM(a){return typeof a=="number"?a:Yi(a)?le:+a}function qi(a){if(typeof a=="string")return a;if(Le(a))return jt(a,qi)+"";if(Yi(a))return zT?zT.call(a):"";var c=a+"";return c=="0"&&1/a==-te?"-0":c}function aa(a,c,f){var m=-1,y=Dp,b=a.length,I=!0,S=[],R=S;if(f)I=!1,y=l0;else if(b>=t){var V=c?null:YH(a);if(V)return Tp(V);I=!1,y=zd,R=new ul}else R=c?[]:S;e:for(;++m<b;){var B=a[m],z=c?c(B):B;if(B=f||B!==0?B:0,I&&z===z){for(var Y=R.length;Y--;)if(R[Y]===z)continue e;c&&R.push(z),S.push(B)}else y(R,z,f)||(R!==S&&R.push(z),S.push(B))}return S}function P0(a,c){return c=la(c,a),a=jM(a,c),a==null||delete a[fo(gr(c))]}function fM(a,c,f,m){return Jd(a,c,f(fl(a,c)),m)}function Yp(a,c,f,m){for(var y=a.length,b=m?y:-1;(m?b--:++b<y)&&c(a[b],b,a););return f?mr(a,m?0:b,m?b+1:y):mr(a,m?b+1:0,m?y:b)}function hM(a,c){var f=a;return f instanceof it&&(f=f.value()),c0(c,function(m,y){return y.func.apply(y.thisArg,na([m],y.args))},f)}function F0(a,c,f){var m=a.length;if(m<2)return m?aa(a[0]):[];for(var y=-1,b=P(m);++y<m;)for(var I=a[y],S=-1;++S<m;)S!=y&&(b[y]=Zd(b[y]||I,a[S],c,f));return aa(Ln(b,1),c,f)}function pM(a,c,f){for(var m=-1,y=a.length,b=c.length,I={};++m<y;){var S=m<b?c[m]:n;f(I,a[m],S)}return I}function L0(a){return rn(a)?a:[]}function k0(a){return typeof a=="function"?a:Di}function la(a,c){return Le(a)?a:$0(a,c)?[a]:zM(_t(a))}var VH=qe;function ca(a,c,f){var m=a.length;return f=f===n?m:f,!c&&f>=m?a:mr(a,c,f)}var mM=IU||function(a){return xn.clearTimeout(a)};function gM(a,c){if(c)return a.slice();var f=a.length,m=kT?kT(f):new a.constructor(f);return a.copy(m),m}function V0(a){var c=new a.constructor(a.byteLength);return new Pp(c).set(new Pp(a)),c}function jH(a,c){var f=c?V0(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.byteLength)}function BH(a){var c=new a.constructor(a.source,JS.exec(a));return c.lastIndex=a.lastIndex,c}function UH(a){return Yd?Dt(Yd.call(a)):{}}function _M(a,c){var f=c?V0(a.buffer):a.buffer;return new a.constructor(f,a.byteOffset,a.length)}function yM(a,c){if(a!==c){var f=a!==n,m=a===null,y=a===a,b=Yi(a),I=c!==n,S=c===null,R=c===c,V=Yi(c);if(!S&&!V&&!b&&a>c||b&&I&&R&&!S&&!V||m&&I&&R||!f&&R||!y)return 1;if(!m&&!b&&!V&&a<c||V&&f&&y&&!m&&!b||S&&f&&y||!I&&y||!R)return-1}return 0}function HH(a,c,f){for(var m=-1,y=a.criteria,b=c.criteria,I=y.length,S=f.length;++m<I;){var R=yM(y[m],b[m]);if(R){if(m>=S)return R;var V=f[m];return R*(V=="desc"?-1:1)}}return a.index-c.index}function vM(a,c,f,m){for(var y=-1,b=a.length,I=f.length,S=-1,R=c.length,V=_n(b-I,0),B=P(R+V),z=!m;++S<R;)B[S]=c[S];for(;++y<I;)(z||y<b)&&(B[f[y]]=a[y]);for(;V--;)B[S++]=a[y++];return B}function EM(a,c,f,m){for(var y=-1,b=a.length,I=-1,S=f.length,R=-1,V=c.length,B=_n(b-S,0),z=P(B+V),Y=!m;++y<B;)z[y]=a[y];for(var oe=y;++R<V;)z[oe+R]=c[R];for(;++I<S;)(Y||y<b)&&(z[oe+f[I]]=a[y++]);return z}function Ci(a,c){var f=-1,m=a.length;for(c||(c=P(m));++f<m;)c[f]=a[f];return c}function uo(a,c,f,m){var y=!f;f||(f={});for(var b=-1,I=c.length;++b<I;){var S=c[b],R=m?m(f[S],a[S],S,f,a):n;R===n&&(R=a[S]),y?ns(f,S,R):Xd(f,S,R)}return f}function zH(a,c){return uo(a,W0(a),c)}function GH(a,c){return uo(a,NM(a),c)}function Xp(a,c){return function(f,m){var y=Le(f)?XB:fH,b=c?c():{};return y(f,a,ge(m,2),b)}}function Oc(a){return qe(function(c,f){var m=-1,y=f.length,b=y>1?f[y-1]:n,I=y>2?f[2]:n;for(b=a.length>3&&typeof b=="function"?(y--,b):n,I&&ai(f[0],f[1],I)&&(b=y<3?n:b,y=1),c=Dt(c);++m<y;){var S=f[m];S&&a(c,S,m,b)}return c})}function bM(a,c){return function(f,m){if(f==null)return f;if(!xi(f))return a(f,m);for(var y=f.length,b=c?y:-1,I=Dt(f);(c?b--:++b<y)&&m(I[b],b,I)!==!1;);return f}}function wM(a){return function(c,f,m){for(var y=-1,b=Dt(c),I=m(c),S=I.length;S--;){var R=I[a?S:++y];if(f(b[R],R,b)===!1)break}return c}}function WH(a,c,f){var m=c&v,y=ef(a);function b(){var I=this&&this!==xn&&this instanceof b?y:a;return I.apply(m?f:this,arguments)}return b}function CM(a){return function(c){c=_t(c);var f=Dc(c)?Vr(c):n,m=f?f[0]:c.charAt(0),y=f?ca(f,1).join(""):c.slice(1);return m[a]()+y}}function Nc(a){return function(c){return c0(bR(ER(c).replace(FB,"")),a,"")}}function ef(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var f=Ac(a.prototype),m=a.apply(f,c);return Gt(m)?m:f}}function $H(a,c,f){var m=ef(a);function y(){for(var b=arguments.length,I=P(b),S=b,R=Pc(y);S--;)I[S]=arguments[S];var V=b<3&&I[0]!==R&&I[b-1]!==R?[]:ia(I,R);if(b-=V.length,b<f)return TM(a,c,Zp,y.placeholder,n,I,V,n,n,f-b);var B=this&&this!==xn&&this instanceof y?m:a;return Wi(B,this,I)}return y}function xM(a){return function(c,f,m){var y=Dt(c);if(!xi(c)){var b=ge(f,3);c=In(c),f=function(S){return b(y[S],S,y)}}var I=a(c,f,m);return I>-1?y[b?c[I]:I]:n}}function IM(a){return rs(function(c){var f=c.length,m=f,y=hr.prototype.thru;for(a&&c.reverse();m--;){var b=c[m];if(typeof b!="function")throw new fr(r);if(y&&!I&&em(b)=="wrapper")var I=new hr([],!0)}for(m=I?m:f;++m<f;){b=c[m];var S=em(b),R=S=="wrapper"?z0(b):n;R&&q0(R[0])&&R[1]==(N|D|A|U)&&!R[4].length&&R[9]==1?I=I[em(R[0])].apply(I,R[3]):I=b.length==1&&q0(b)?I[S]():I.thru(b)}return function(){var V=arguments,B=V[0];if(I&&V.length==1&&Le(B))return I.plant(B).value();for(var z=0,Y=f?c[z].apply(this,V):B;++z<f;)Y=c[z].call(this,Y);return Y}})}function Zp(a,c,f,m,y,b,I,S,R,V){var B=c&N,z=c&v,Y=c&w,oe=c&(D|T),ye=c&G,Ge=Y?n:ef(a);function ve(){for(var tt=arguments.length,st=P(tt),Xi=tt;Xi--;)st[Xi]=arguments[Xi];if(oe)var li=Pc(ve),Zi=rU(st,li);if(m&&(st=vM(st,m,y,oe)),b&&(st=EM(st,b,I,oe)),tt-=Zi,oe&&tt<V){var on=ia(st,li);return TM(a,c,Zp,ve.placeholder,f,st,on,S,R,V-tt)}var Ur=z?f:this,ls=Y?Ur[a]:a;return tt=st.length,S?st=fz(st,S):ye&&tt>1&&st.reverse(),B&&R<tt&&(st.length=R),this&&this!==xn&&this instanceof ve&&(ls=Ge||ef(ls)),ls.apply(Ur,st)}return ve}function DM(a,c){return function(f,m){return EH(f,a,c(m),{})}}function Kp(a,c){return function(f,m){var y;if(f===n&&m===n)return c;if(f!==n&&(y=f),m!==n){if(y===n)return m;typeof f=="string"||typeof m=="string"?(f=qi(f),m=qi(m)):(f=dM(f),m=dM(m)),y=a(f,m)}return y}}function j0(a){return rs(function(c){return c=jt(c,$i(ge())),qe(function(f){var m=this;return a(c,function(y){return Wi(y,m,f)})})})}function Qp(a,c){c=c===n?" ":qi(c);var f=c.length;if(f<2)return f?O0(c,a):c;var m=O0(c,Vp(a/Sc(c)));return Dc(c)?ca(Vr(m),0,a).join(""):m.slice(0,a)}function qH(a,c,f,m){var y=c&v,b=ef(a);function I(){for(var S=-1,R=arguments.length,V=-1,B=m.length,z=P(B+R),Y=this&&this!==xn&&this instanceof I?b:a;++V<B;)z[V]=m[V];for(;R--;)z[V++]=arguments[++S];return Wi(Y,y?f:this,z)}return I}function SM(a){return function(c,f,m){return m&&typeof m!="number"&&ai(c,f,m)&&(f=m=n),c=as(c),f===n?(f=c,c=0):f=as(f),m=m===n?c<f?1:-1:as(m),OH(c,f,m,a)}}function Jp(a){return function(c,f){return typeof c=="string"&&typeof f=="string"||(c=_r(c),f=_r(f)),a(c,f)}}function TM(a,c,f,m,y,b,I,S,R,V){var B=c&D,z=B?I:n,Y=B?n:I,oe=B?b:n,ye=B?n:b;c|=B?A:O,c&=~(B?O:A),c&x||(c&=~(v|w));var Ge=[a,c,y,oe,z,ye,Y,S,R,V],ve=f.apply(n,Ge);return q0(a)&&BM(ve,Ge),ve.placeholder=m,UM(ve,a,c)}function B0(a){var c=gn[a];return function(f,m){if(f=_r(f),m=m==null?0:$n(je(m),292),m&&UT(f)){var y=(_t(f)+"e").split("e"),b=c(y[0]+"e"+(+y[1]+m));return y=(_t(b)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return c(f)}}var YH=Mc&&1/Tp(new Mc([,-0]))[1]==te?function(a){return new Mc(a)}:lE;function MM(a){return function(c){var f=qn(c);return f==ri?g0(c):f==Pn?dU(c):iU(c,a(c))}}function is(a,c,f,m,y,b,I,S){var R=c&w;if(!R&&typeof a!="function")throw new fr(r);var V=m?m.length:0;if(V||(c&=~(A|O),m=y=n),I=I===n?I:_n(je(I),0),S=S===n?S:je(S),V-=y?y.length:0,c&O){var B=m,z=y;m=y=n}var Y=R?n:z0(a),oe=[a,c,f,m,y,B,z,b,I,S];if(Y&&cz(oe,Y),a=oe[0],c=oe[1],f=oe[2],m=oe[3],y=oe[4],S=oe[9]=oe[9]===n?R?0:a.length:_n(oe[9]-V,0),!S&&c&(D|T)&&(c&=~(D|T)),!c||c==v)var ye=WH(a,c,f);else c==D||c==T?ye=$H(a,c,S):(c==A||c==(v|A))&&!y.length?ye=qH(a,c,f,m):ye=Zp.apply(n,oe);var Ge=Y?cM:BM;return UM(Ge(ye,oe),a,c)}function RM(a,c,f,m){return a===n||Br(a,Tc[f])&&!bt.call(m,f)?c:a}function AM(a,c,f,m,y,b){return Gt(a)&&Gt(c)&&(b.set(c,a),$p(a,c,n,AM,b),b.delete(c)),a}function XH(a){return rf(a)?n:a}function OM(a,c,f,m,y,b){var I=f&g,S=a.length,R=c.length;if(S!=R&&!(I&&R>S))return!1;var V=b.get(a),B=b.get(c);if(V&&B)return V==c&&B==a;var z=-1,Y=!0,oe=f&_?new ul:n;for(b.set(a,c),b.set(c,a);++z<S;){var ye=a[z],Ge=c[z];if(m)var ve=I?m(Ge,ye,z,c,a,b):m(ye,Ge,z,a,c,b);if(ve!==n){if(ve)continue;Y=!1;break}if(oe){if(!u0(c,function(tt,st){if(!zd(oe,st)&&(ye===tt||y(ye,tt,f,m,b)))return oe.push(st)})){Y=!1;break}}else if(!(ye===Ge||y(ye,Ge,f,m,b))){Y=!1;break}}return b.delete(a),b.delete(c),Y}function ZH(a,c,f,m,y,b,I){switch(f){case Fr:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Qo:return!(a.byteLength!=c.byteLength||!b(new Pp(a),new Pp(c)));case mn:case Xt:case Nr:return Br(+a,+c);case Gn:return a.name==c.name&&a.message==c.message;case lr:case zi:return a==c+"";case ri:var S=g0;case Pn:var R=m&g;if(S||(S=Tp),a.size!=c.size&&!R)return!1;var V=I.get(a);if(V)return V==c;m|=_,I.set(a,c);var B=OM(S(a),S(c),m,y,b,I);return I.delete(a),B;case Pr:if(Yd)return Yd.call(a)==Yd.call(c)}return!1}function KH(a,c,f,m,y,b){var I=f&g,S=U0(a),R=S.length,V=U0(c),B=V.length;if(R!=B&&!I)return!1;for(var z=R;z--;){var Y=S[z];if(!(I?Y in c:bt.call(c,Y)))return!1}var oe=b.get(a),ye=b.get(c);if(oe&&ye)return oe==c&&ye==a;var Ge=!0;b.set(a,c),b.set(c,a);for(var ve=I;++z<R;){Y=S[z];var tt=a[Y],st=c[Y];if(m)var Xi=I?m(st,tt,Y,c,a,b):m(tt,st,Y,a,c,b);if(!(Xi===n?tt===st||y(tt,st,f,m,b):Xi)){Ge=!1;break}ve||(ve=Y=="constructor")}if(Ge&&!ve){var li=a.constructor,Zi=c.constructor;li!=Zi&&"constructor"in a&&"constructor"in c&&!(typeof li=="function"&&li instanceof li&&typeof Zi=="function"&&Zi instanceof Zi)&&(Ge=!1)}return b.delete(a),b.delete(c),Ge}function rs(a){return X0(VM(a,n,qM),a+"")}function U0(a){return QT(a,In,W0)}function H0(a){return QT(a,Ii,NM)}var z0=Bp?function(a){return Bp.get(a)}:lE;function em(a){for(var c=a.name+"",f=Rc[c],m=bt.call(Rc,c)?f.length:0;m--;){var y=f[m],b=y.func;if(b==null||b==a)return y.name}return c}function Pc(a){var c=bt.call(E,"placeholder")?E:a;return c.placeholder}function ge(){var a=E.iteratee||sE;return a=a===sE?tM:a,arguments.length?a(arguments[0],arguments[1]):a}function tm(a,c){var f=a.__data__;return oz(c)?f[typeof c=="string"?"string":"hash"]:f.map}function G0(a){for(var c=In(a),f=c.length;f--;){var m=c[f],y=a[m];c[f]=[m,y,LM(y)]}return c}function hl(a,c){var f=lU(a,c);return eM(f)?f:n}function QH(a){var c=bt.call(a,ll),f=a[ll];try{a[ll]=n;var m=!0}catch{}var y=Op.call(a);return m&&(c?a[ll]=f:delete a[ll]),y}var W0=y0?function(a){return a==null?[]:(a=Dt(a),ta(y0(a),function(c){return jT.call(a,c)}))}:cE,NM=y0?function(a){for(var c=[];a;)na(c,W0(a)),a=Fp(a);return c}:cE,qn=si;(v0&&qn(new v0(new ArrayBuffer(1)))!=Fr||Wd&&qn(new Wd)!=ri||E0&&qn(E0.resolve())!=Hi||Mc&&qn(new Mc)!=Pn||$d&&qn(new $d)!=kt)&&(qn=function(a){var c=si(a),f=c==Zt?a.constructor:n,m=f?pl(f):"";if(m)switch(m){case PU:return Fr;case FU:return ri;case LU:return Hi;case kU:return Pn;case VU:return kt}return c});function JH(a,c,f){for(var m=-1,y=f.length;++m<y;){var b=f[m],I=b.size;switch(b.type){case"drop":a+=I;break;case"dropRight":c-=I;break;case"take":c=$n(c,a+I);break;case"takeRight":a=_n(a,c-I);break}}return{start:a,end:c}}function ez(a){var c=a.match(kr);return c?c[1].split(e0):[]}function PM(a,c,f){c=la(c,a);for(var m=-1,y=c.length,b=!1;++m<y;){var I=fo(c[m]);if(!(b=a!=null&&f(a,I)))break;a=a[I]}return b||++m!=y?b:(y=a==null?0:a.length,!!y&&lm(y)&&os(I,y)&&(Le(a)||ml(a)))}function tz(a){var c=a.length,f=new a.constructor(c);return c&&typeof a[0]=="string"&&bt.call(a,"index")&&(f.index=a.index,f.input=a.input),f}function FM(a){return typeof a.constructor=="function"&&!tf(a)?Ac(Fp(a)):{}}function nz(a,c,f){var m=a.constructor;switch(c){case Qo:return V0(a);case mn:case Xt:return new m(+a);case Fr:return jH(a,f);case Js:case jd:case vc:case Ec:case rl:case Bd:case Ud:case bc:case wc:return _M(a,f);case ri:return new m;case Nr:case zi:return new m(a);case lr:return BH(a);case Pn:return new m;case Pr:return UH(a)}}function iz(a,c){var f=c.length;if(!f)return a;var m=f-1;return c[m]=(f>1?"& ":"")+c[m],c=c.join(f>2?", ":" "),a.replace(Fn,`{
/* [wrapped with `+c+`] */
`)}function rz(a){return Le(a)||ml(a)||!!(BT&&a&&a[BT])}function os(a,c){var f=typeof a;return c=c??pe,!!c&&(f=="number"||f!="symbol"&&gB.test(a))&&a>-1&&a%1==0&&a<c}function ai(a,c,f){if(!Gt(f))return!1;var m=typeof c;return(m=="number"?xi(f)&&os(c,f.length):m=="string"&&c in f)?Br(f[c],a):!1}function $0(a,c){if(Le(a))return!1;var f=typeof a;return f=="number"||f=="symbol"||f=="boolean"||a==null||Yi(a)?!0:wi.test(a)||!Jo.test(a)||c!=null&&a in Dt(c)}function oz(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function q0(a){var c=em(a),f=E[c];if(typeof f!="function"||!(c in it.prototype))return!1;if(a===f)return!0;var m=z0(f);return!!m&&a===m[0]}function sz(a){return!!LT&&LT in a}var az=Rp?ss:uE;function tf(a){var c=a&&a.constructor,f=typeof c=="function"&&c.prototype||Tc;return a===f}function LM(a){return a===a&&!Gt(a)}function kM(a,c){return function(f){return f==null?!1:f[a]===c&&(c!==n||a in Dt(f))}}function lz(a){var c=sm(a,function(m){return f.size===l&&f.clear(),m}),f=c.cache;return c}function cz(a,c){var f=a[1],m=c[1],y=f|m,b=y<(v|w|N),I=m==N&&f==D||m==N&&f==U&&a[7].length<=c[8]||m==(N|U)&&c[7].length<=c[8]&&f==D;if(!(b||I))return a;m&v&&(a[2]=c[2],y|=f&v?0:x);var S=c[3];if(S){var R=a[3];a[3]=R?vM(R,S,c[4]):S,a[4]=R?ia(a[3],u):c[4]}return S=c[5],S&&(R=a[5],a[5]=R?EM(R,S,c[6]):S,a[6]=R?ia(a[5],u):c[6]),S=c[7],S&&(a[7]=S),m&N&&(a[8]=a[8]==null?c[8]:$n(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=y,a}function uz(a){var c=[];if(a!=null)for(var f in Dt(a))c.push(f);return c}function dz(a){return Op.call(a)}function VM(a,c,f){return c=_n(c===n?a.length-1:c,0),function(){for(var m=arguments,y=-1,b=_n(m.length-c,0),I=P(b);++y<b;)I[y]=m[c+y];y=-1;for(var S=P(c+1);++y<c;)S[y]=m[y];return S[c]=f(I),Wi(a,this,S)}}function jM(a,c){return c.length<2?a:fl(a,mr(c,0,-1))}function fz(a,c){for(var f=a.length,m=$n(c.length,f),y=Ci(a);m--;){var b=c[m];a[m]=os(b,f)?y[b]:n}return a}function Y0(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var BM=HM(cM),nf=SU||function(a,c){return xn.setTimeout(a,c)},X0=HM(FH);function UM(a,c,f){var m=c+"";return X0(a,iz(m,hz(ez(m),f)))}function HM(a){var c=0,f=0;return function(){var m=AU(),y=Ce-(m-f);if(f=m,y>0){if(++c>=Z)return arguments[0]}else c=0;return a.apply(n,arguments)}}function nm(a,c){var f=-1,m=a.length,y=m-1;for(c=c===n?m:c;++f<c;){var b=A0(f,y),I=a[b];a[b]=a[f],a[f]=I}return a.length=c,a}var zM=lz(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(cr,function(f,m,y,b){c.push(y?b.replace(uB,"$1"):m||f)}),c});function fo(a){if(typeof a=="string"||Yi(a))return a;var c=a+"";return c=="0"&&1/a==-te?"-0":c}function pl(a){if(a!=null){try{return Ap.call(a)}catch{}try{return a+""}catch{}}return""}function hz(a,c){return dr(q,function(f){var m="_."+f[0];c&f[1]&&!Dp(a,m)&&a.push(m)}),a.sort()}function GM(a){if(a instanceof it)return a.clone();var c=new hr(a.__wrapped__,a.__chain__);return c.__actions__=Ci(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function pz(a,c,f){(f?ai(a,c,f):c===n)?c=1:c=_n(je(c),0);var m=a==null?0:a.length;if(!m||c<1)return[];for(var y=0,b=0,I=P(Vp(m/c));y<m;)I[b++]=mr(a,y,y+=c);return I}function mz(a){for(var c=-1,f=a==null?0:a.length,m=0,y=[];++c<f;){var b=a[c];b&&(y[m++]=b)}return y}function gz(){var a=arguments.length;if(!a)return[];for(var c=P(a-1),f=arguments[0],m=a;m--;)c[m-1]=arguments[m];return na(Le(f)?Ci(f):[f],Ln(c,1))}var _z=qe(function(a,c){return rn(a)?Zd(a,Ln(c,1,rn,!0)):[]}),yz=qe(function(a,c){var f=gr(c);return rn(f)&&(f=n),rn(a)?Zd(a,Ln(c,1,rn,!0),ge(f,2)):[]}),vz=qe(function(a,c){var f=gr(c);return rn(f)&&(f=n),rn(a)?Zd(a,Ln(c,1,rn,!0),n,f):[]});function Ez(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:je(c),mr(a,c<0?0:c,m)):[]}function bz(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:je(c),c=m-c,mr(a,0,c<0?0:c)):[]}function wz(a,c){return a&&a.length?Yp(a,ge(c,3),!0,!0):[]}function Cz(a,c){return a&&a.length?Yp(a,ge(c,3),!0):[]}function xz(a,c,f,m){var y=a==null?0:a.length;return y?(f&&typeof f!="number"&&ai(a,c,f)&&(f=0,m=y),gH(a,c,f,m)):[]}function WM(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=f==null?0:je(f);return y<0&&(y=_n(m+y,0)),Sp(a,ge(c,3),y)}function $M(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=m-1;return f!==n&&(y=je(f),y=f<0?_n(m+y,0):$n(y,m-1)),Sp(a,ge(c,3),y,!0)}function qM(a){var c=a==null?0:a.length;return c?Ln(a,1):[]}function Iz(a){var c=a==null?0:a.length;return c?Ln(a,te):[]}function Dz(a,c){var f=a==null?0:a.length;return f?(c=c===n?1:je(c),Ln(a,c)):[]}function Sz(a){for(var c=-1,f=a==null?0:a.length,m={};++c<f;){var y=a[c];m[y[0]]=y[1]}return m}function YM(a){return a&&a.length?a[0]:n}function Tz(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=f==null?0:je(f);return y<0&&(y=_n(m+y,0)),Ic(a,c,y)}function Mz(a){var c=a==null?0:a.length;return c?mr(a,0,-1):[]}var Rz=qe(function(a){var c=jt(a,L0);return c.length&&c[0]===a[0]?D0(c):[]}),Az=qe(function(a){var c=gr(a),f=jt(a,L0);return c===gr(f)?c=n:f.pop(),f.length&&f[0]===a[0]?D0(f,ge(c,2)):[]}),Oz=qe(function(a){var c=gr(a),f=jt(a,L0);return c=typeof c=="function"?c:n,c&&f.pop(),f.length&&f[0]===a[0]?D0(f,n,c):[]});function Nz(a,c){return a==null?"":MU.call(a,c)}function gr(a){var c=a==null?0:a.length;return c?a[c-1]:n}function Pz(a,c,f){var m=a==null?0:a.length;if(!m)return-1;var y=m;return f!==n&&(y=je(f),y=y<0?_n(m+y,0):$n(y,m-1)),c===c?hU(a,c,y):Sp(a,TT,y,!0)}function Fz(a,c){return a&&a.length?oM(a,je(c)):n}var Lz=qe(XM);function XM(a,c){return a&&a.length&&c&&c.length?R0(a,c):a}function kz(a,c,f){return a&&a.length&&c&&c.length?R0(a,c,ge(f,2)):a}function Vz(a,c,f){return a&&a.length&&c&&c.length?R0(a,c,n,f):a}var jz=rs(function(a,c){var f=a==null?0:a.length,m=w0(a,c);return lM(a,jt(c,function(y){return os(y,f)?+y:y}).sort(yM)),m});function Bz(a,c){var f=[];if(!(a&&a.length))return f;var m=-1,y=[],b=a.length;for(c=ge(c,3);++m<b;){var I=a[m];c(I,m,a)&&(f.push(I),y.push(m))}return lM(a,y),f}function Z0(a){return a==null?a:NU.call(a)}function Uz(a,c,f){var m=a==null?0:a.length;return m?(f&&typeof f!="number"&&ai(a,c,f)?(c=0,f=m):(c=c==null?0:je(c),f=f===n?m:je(f)),mr(a,c,f)):[]}function Hz(a,c){return qp(a,c)}function zz(a,c,f){return N0(a,c,ge(f,2))}function Gz(a,c){var f=a==null?0:a.length;if(f){var m=qp(a,c);if(m<f&&Br(a[m],c))return m}return-1}function Wz(a,c){return qp(a,c,!0)}function $z(a,c,f){return N0(a,c,ge(f,2),!0)}function qz(a,c){var f=a==null?0:a.length;if(f){var m=qp(a,c,!0)-1;if(Br(a[m],c))return m}return-1}function Yz(a){return a&&a.length?uM(a):[]}function Xz(a,c){return a&&a.length?uM(a,ge(c,2)):[]}function Zz(a){var c=a==null?0:a.length;return c?mr(a,1,c):[]}function Kz(a,c,f){return a&&a.length?(c=f||c===n?1:je(c),mr(a,0,c<0?0:c)):[]}function Qz(a,c,f){var m=a==null?0:a.length;return m?(c=f||c===n?1:je(c),c=m-c,mr(a,c<0?0:c,m)):[]}function Jz(a,c){return a&&a.length?Yp(a,ge(c,3),!1,!0):[]}function eG(a,c){return a&&a.length?Yp(a,ge(c,3)):[]}var tG=qe(function(a){return aa(Ln(a,1,rn,!0))}),nG=qe(function(a){var c=gr(a);return rn(c)&&(c=n),aa(Ln(a,1,rn,!0),ge(c,2))}),iG=qe(function(a){var c=gr(a);return c=typeof c=="function"?c:n,aa(Ln(a,1,rn,!0),n,c)});function rG(a){return a&&a.length?aa(a):[]}function oG(a,c){return a&&a.length?aa(a,ge(c,2)):[]}function sG(a,c){return c=typeof c=="function"?c:n,a&&a.length?aa(a,n,c):[]}function K0(a){if(!(a&&a.length))return[];var c=0;return a=ta(a,function(f){if(rn(f))return c=_n(f.length,c),!0}),p0(c,function(f){return jt(a,d0(f))})}function ZM(a,c){if(!(a&&a.length))return[];var f=K0(a);return c==null?f:jt(f,function(m){return Wi(c,n,m)})}var aG=qe(function(a,c){return rn(a)?Zd(a,c):[]}),lG=qe(function(a){return F0(ta(a,rn))}),cG=qe(function(a){var c=gr(a);return rn(c)&&(c=n),F0(ta(a,rn),ge(c,2))}),uG=qe(function(a){var c=gr(a);return c=typeof c=="function"?c:n,F0(ta(a,rn),n,c)}),dG=qe(K0);function fG(a,c){return pM(a||[],c||[],Xd)}function hG(a,c){return pM(a||[],c||[],Jd)}var pG=qe(function(a){var c=a.length,f=c>1?a[c-1]:n;return f=typeof f=="function"?(a.pop(),f):n,ZM(a,f)});function KM(a){var c=E(a);return c.__chain__=!0,c}function mG(a,c){return c(a),a}function im(a,c){return c(a)}var gG=rs(function(a){var c=a.length,f=c?a[0]:0,m=this.__wrapped__,y=function(b){return w0(b,a)};return c>1||this.__actions__.length||!(m instanceof it)||!os(f)?this.thru(y):(m=m.slice(f,+f+(c?1:0)),m.__actions__.push({func:im,args:[y],thisArg:n}),new hr(m,this.__chain__).thru(function(b){return c&&!b.length&&b.push(n),b}))});function _G(){return KM(this)}function yG(){return new hr(this.value(),this.__chain__)}function vG(){this.__values__===n&&(this.__values__=dR(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function EG(){return this}function bG(a){for(var c,f=this;f instanceof Hp;){var m=GM(f);m.__index__=0,m.__values__=n,c?y.__wrapped__=m:c=m;var y=m;f=f.__wrapped__}return y.__wrapped__=a,c}function wG(){var a=this.__wrapped__;if(a instanceof it){var c=a;return this.__actions__.length&&(c=new it(this)),c=c.reverse(),c.__actions__.push({func:im,args:[Z0],thisArg:n}),new hr(c,this.__chain__)}return this.thru(Z0)}function CG(){return hM(this.__wrapped__,this.__actions__)}var xG=Xp(function(a,c,f){bt.call(a,f)?++a[f]:ns(a,f,1)});function IG(a,c,f){var m=Le(a)?DT:mH;return f&&ai(a,c,f)&&(c=n),m(a,ge(c,3))}function DG(a,c){var f=Le(a)?ta:ZT;return f(a,ge(c,3))}var SG=xM(WM),TG=xM($M);function MG(a,c){return Ln(rm(a,c),1)}function RG(a,c){return Ln(rm(a,c),te)}function AG(a,c,f){return f=f===n?1:je(f),Ln(rm(a,c),f)}function QM(a,c){var f=Le(a)?dr:sa;return f(a,ge(c,3))}function JM(a,c){var f=Le(a)?ZB:XT;return f(a,ge(c,3))}var OG=Xp(function(a,c,f){bt.call(a,f)?a[f].push(c):ns(a,f,[c])});function NG(a,c,f,m){a=xi(a)?a:Lc(a),f=f&&!m?je(f):0;var y=a.length;return f<0&&(f=_n(y+f,0)),cm(a)?f<=y&&a.indexOf(c,f)>-1:!!y&&Ic(a,c,f)>-1}var PG=qe(function(a,c,f){var m=-1,y=typeof c=="function",b=xi(a)?P(a.length):[];return sa(a,function(I){b[++m]=y?Wi(c,I,f):Kd(I,c,f)}),b}),FG=Xp(function(a,c,f){ns(a,f,c)});function rm(a,c){var f=Le(a)?jt:nM;return f(a,ge(c,3))}function LG(a,c,f,m){return a==null?[]:(Le(c)||(c=c==null?[]:[c]),f=m?n:f,Le(f)||(f=f==null?[]:[f]),sM(a,c,f))}var kG=Xp(function(a,c,f){a[f?0:1].push(c)},function(){return[[],[]]});function VG(a,c,f){var m=Le(a)?c0:RT,y=arguments.length<3;return m(a,ge(c,4),f,y,sa)}function jG(a,c,f){var m=Le(a)?KB:RT,y=arguments.length<3;return m(a,ge(c,4),f,y,XT)}function BG(a,c){var f=Le(a)?ta:ZT;return f(a,am(ge(c,3)))}function UG(a){var c=Le(a)?WT:NH;return c(a)}function HG(a,c,f){(f?ai(a,c,f):c===n)?c=1:c=je(c);var m=Le(a)?uH:PH;return m(a,c)}function zG(a){var c=Le(a)?dH:LH;return c(a)}function GG(a){if(a==null)return 0;if(xi(a))return cm(a)?Sc(a):a.length;var c=qn(a);return c==ri||c==Pn?a.size:T0(a).length}function WG(a,c,f){var m=Le(a)?u0:kH;return f&&ai(a,c,f)&&(c=n),m(a,ge(c,3))}var $G=qe(function(a,c){if(a==null)return[];var f=c.length;return f>1&&ai(a,c[0],c[1])?c=[]:f>2&&ai(c[0],c[1],c[2])&&(c=[c[0]]),sM(a,Ln(c,1),[])}),om=DU||function(){return xn.Date.now()};function qG(a,c){if(typeof c!="function")throw new fr(r);return a=je(a),function(){if(--a<1)return c.apply(this,arguments)}}function eR(a,c,f){return c=f?n:c,c=a&&c==null?a.length:c,is(a,N,n,n,n,n,c)}function tR(a,c){var f;if(typeof c!="function")throw new fr(r);return a=je(a),function(){return--a>0&&(f=c.apply(this,arguments)),a<=1&&(c=n),f}}var Q0=qe(function(a,c,f){var m=v;if(f.length){var y=ia(f,Pc(Q0));m|=A}return is(a,m,c,f,y)}),nR=qe(function(a,c,f){var m=v|w;if(f.length){var y=ia(f,Pc(nR));m|=A}return is(c,m,a,f,y)});function iR(a,c,f){c=f?n:c;var m=is(a,D,n,n,n,n,n,c);return m.placeholder=iR.placeholder,m}function rR(a,c,f){c=f?n:c;var m=is(a,T,n,n,n,n,n,c);return m.placeholder=rR.placeholder,m}function oR(a,c,f){var m,y,b,I,S,R,V=0,B=!1,z=!1,Y=!0;if(typeof a!="function")throw new fr(r);c=_r(c)||0,Gt(f)&&(B=!!f.leading,z="maxWait"in f,b=z?_n(_r(f.maxWait)||0,c):b,Y="trailing"in f?!!f.trailing:Y);function oe(on){var Ur=m,ls=y;return m=y=n,V=on,I=a.apply(ls,Ur),I}function ye(on){return V=on,S=nf(tt,c),B?oe(on):I}function Ge(on){var Ur=on-R,ls=on-V,xR=c-Ur;return z?$n(xR,b-ls):xR}function ve(on){var Ur=on-R,ls=on-V;return R===n||Ur>=c||Ur<0||z&&ls>=b}function tt(){var on=om();if(ve(on))return st(on);S=nf(tt,Ge(on))}function st(on){return S=n,Y&&m?oe(on):(m=y=n,I)}function Xi(){S!==n&&mM(S),V=0,m=R=y=S=n}function li(){return S===n?I:st(om())}function Zi(){var on=om(),Ur=ve(on);if(m=arguments,y=this,R=on,Ur){if(S===n)return ye(R);if(z)return mM(S),S=nf(tt,c),oe(R)}return S===n&&(S=nf(tt,c)),I}return Zi.cancel=Xi,Zi.flush=li,Zi}var YG=qe(function(a,c){return YT(a,1,c)}),XG=qe(function(a,c,f){return YT(a,_r(c)||0,f)});function ZG(a){return is(a,G)}function sm(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new fr(r);var f=function(){var m=arguments,y=c?c.apply(this,m):m[0],b=f.cache;if(b.has(y))return b.get(y);var I=a.apply(this,m);return f.cache=b.set(y,I)||b,I};return f.cache=new(sm.Cache||ts),f}sm.Cache=ts;function am(a){if(typeof a!="function")throw new fr(r);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function KG(a){return tR(2,a)}var QG=VH(function(a,c){c=c.length==1&&Le(c[0])?jt(c[0],$i(ge())):jt(Ln(c,1),$i(ge()));var f=c.length;return qe(function(m){for(var y=-1,b=$n(m.length,f);++y<b;)m[y]=c[y].call(this,m[y]);return Wi(a,this,m)})}),J0=qe(function(a,c){var f=ia(c,Pc(J0));return is(a,A,n,c,f)}),sR=qe(function(a,c){var f=ia(c,Pc(sR));return is(a,O,n,c,f)}),JG=rs(function(a,c){return is(a,U,n,n,n,c)});function eW(a,c){if(typeof a!="function")throw new fr(r);return c=c===n?c:je(c),qe(a,c)}function tW(a,c){if(typeof a!="function")throw new fr(r);return c=c==null?0:_n(je(c),0),qe(function(f){var m=f[c],y=ca(f,0,c);return m&&na(y,m),Wi(a,this,y)})}function nW(a,c,f){var m=!0,y=!0;if(typeof a!="function")throw new fr(r);return Gt(f)&&(m="leading"in f?!!f.leading:m,y="trailing"in f?!!f.trailing:y),oR(a,c,{leading:m,maxWait:c,trailing:y})}function iW(a){return eR(a,1)}function rW(a,c){return J0(k0(c),a)}function oW(){if(!arguments.length)return[];var a=arguments[0];return Le(a)?a:[a]}function sW(a){return pr(a,p)}function aW(a,c){return c=typeof c=="function"?c:n,pr(a,p,c)}function lW(a){return pr(a,d|p)}function cW(a,c){return c=typeof c=="function"?c:n,pr(a,d|p,c)}function uW(a,c){return c==null||qT(a,c,In(c))}function Br(a,c){return a===c||a!==a&&c!==c}var dW=Jp(I0),fW=Jp(function(a,c){return a>=c}),ml=JT(function(){return arguments}())?JT:function(a){return Kt(a)&&bt.call(a,"callee")&&!jT.call(a,"callee")},Le=P.isArray,hW=ET?$i(ET):bH;function xi(a){return a!=null&&lm(a.length)&&!ss(a)}function rn(a){return Kt(a)&&xi(a)}function pW(a){return a===!0||a===!1||Kt(a)&&si(a)==mn}var ua=TU||uE,mW=bT?$i(bT):wH;function gW(a){return Kt(a)&&a.nodeType===1&&!rf(a)}function _W(a){if(a==null)return!0;if(xi(a)&&(Le(a)||typeof a=="string"||typeof a.splice=="function"||ua(a)||Fc(a)||ml(a)))return!a.length;var c=qn(a);if(c==ri||c==Pn)return!a.size;if(tf(a))return!T0(a).length;for(var f in a)if(bt.call(a,f))return!1;return!0}function yW(a,c){return Qd(a,c)}function vW(a,c,f){f=typeof f=="function"?f:n;var m=f?f(a,c):n;return m===n?Qd(a,c,n,f):!!m}function eE(a){if(!Kt(a))return!1;var c=si(a);return c==Gn||c==ar||typeof a.message=="string"&&typeof a.name=="string"&&!rf(a)}function EW(a){return typeof a=="number"&&UT(a)}function ss(a){if(!Gt(a))return!1;var c=si(a);return c==Cn||c==il||c==zt||c==Ks}function aR(a){return typeof a=="number"&&a==je(a)}function lm(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=pe}function Gt(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Kt(a){return a!=null&&typeof a=="object"}var lR=wT?$i(wT):xH;function bW(a,c){return a===c||S0(a,c,G0(c))}function wW(a,c,f){return f=typeof f=="function"?f:n,S0(a,c,G0(c),f)}function CW(a){return cR(a)&&a!=+a}function xW(a){if(az(a))throw new Ne(i);return eM(a)}function IW(a){return a===null}function DW(a){return a==null}function cR(a){return typeof a=="number"||Kt(a)&&si(a)==Nr}function rf(a){if(!Kt(a)||si(a)!=Zt)return!1;var c=Fp(a);if(c===null)return!0;var f=bt.call(c,"constructor")&&c.constructor;return typeof f=="function"&&f instanceof f&&Ap.call(f)==wU}var tE=CT?$i(CT):IH;function SW(a){return aR(a)&&a>=-pe&&a<=pe}var uR=xT?$i(xT):DH;function cm(a){return typeof a=="string"||!Le(a)&&Kt(a)&&si(a)==zi}function Yi(a){return typeof a=="symbol"||Kt(a)&&si(a)==Pr}var Fc=IT?$i(IT):SH;function TW(a){return a===n}function MW(a){return Kt(a)&&qn(a)==kt}function RW(a){return Kt(a)&&si(a)==Vd}var AW=Jp(M0),OW=Jp(function(a,c){return a<=c});function dR(a){if(!a)return[];if(xi(a))return cm(a)?Vr(a):Ci(a);if(Gd&&a[Gd])return uU(a[Gd]());var c=qn(a),f=c==ri?g0:c==Pn?Tp:Lc;return f(a)}function as(a){if(!a)return a===0?a:0;if(a=_r(a),a===te||a===-te){var c=a<0?-1:1;return c*re}return a===a?a:0}function je(a){var c=as(a),f=c%1;return c===c?f?c-f:c:0}function fR(a){return a?dl(je(a),0,me):0}function _r(a){if(typeof a=="number")return a;if(Yi(a))return le;if(Gt(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Gt(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=AT(a);var f=hB.test(a);return f||mB.test(a)?qB(a.slice(2),f?2:8):fB.test(a)?le:+a}function hR(a){return uo(a,Ii(a))}function NW(a){return a?dl(je(a),-pe,pe):a===0?a:0}function _t(a){return a==null?"":qi(a)}var PW=Oc(function(a,c){if(tf(c)||xi(c)){uo(c,In(c),a);return}for(var f in c)bt.call(c,f)&&Xd(a,f,c[f])}),pR=Oc(function(a,c){uo(c,Ii(c),a)}),um=Oc(function(a,c,f,m){uo(c,Ii(c),a,m)}),FW=Oc(function(a,c,f,m){uo(c,In(c),a,m)}),LW=rs(w0);function kW(a,c){var f=Ac(a);return c==null?f:$T(f,c)}var VW=qe(function(a,c){a=Dt(a);var f=-1,m=c.length,y=m>2?c[2]:n;for(y&&ai(c[0],c[1],y)&&(m=1);++f<m;)for(var b=c[f],I=Ii(b),S=-1,R=I.length;++S<R;){var V=I[S],B=a[V];(B===n||Br(B,Tc[V])&&!bt.call(a,V))&&(a[V]=b[V])}return a}),jW=qe(function(a){return a.push(n,AM),Wi(mR,n,a)});function BW(a,c){return ST(a,ge(c,3),co)}function UW(a,c){return ST(a,ge(c,3),x0)}function HW(a,c){return a==null?a:C0(a,ge(c,3),Ii)}function zW(a,c){return a==null?a:KT(a,ge(c,3),Ii)}function GW(a,c){return a&&co(a,ge(c,3))}function WW(a,c){return a&&x0(a,ge(c,3))}function $W(a){return a==null?[]:Wp(a,In(a))}function qW(a){return a==null?[]:Wp(a,Ii(a))}function nE(a,c,f){var m=a==null?n:fl(a,c);return m===n?f:m}function YW(a,c){return a!=null&&PM(a,c,_H)}function iE(a,c){return a!=null&&PM(a,c,yH)}var XW=DM(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=Op.call(c)),a[c]=f},oE(Di)),ZW=DM(function(a,c,f){c!=null&&typeof c.toString!="function"&&(c=Op.call(c)),bt.call(a,c)?a[c].push(f):a[c]=[f]},ge),KW=qe(Kd);function In(a){return xi(a)?GT(a):T0(a)}function Ii(a){return xi(a)?GT(a,!0):TH(a)}function QW(a,c){var f={};return c=ge(c,3),co(a,function(m,y,b){ns(f,c(m,y,b),m)}),f}function JW(a,c){var f={};return c=ge(c,3),co(a,function(m,y,b){ns(f,y,c(m,y,b))}),f}var e$=Oc(function(a,c,f){$p(a,c,f)}),mR=Oc(function(a,c,f,m){$p(a,c,f,m)}),t$=rs(function(a,c){var f={};if(a==null)return f;var m=!1;c=jt(c,function(b){return b=la(b,a),m||(m=b.length>1),b}),uo(a,H0(a),f),m&&(f=pr(f,d|h|p,XH));for(var y=c.length;y--;)P0(f,c[y]);return f});function n$(a,c){return gR(a,am(ge(c)))}var i$=rs(function(a,c){return a==null?{}:RH(a,c)});function gR(a,c){if(a==null)return{};var f=jt(H0(a),function(m){return[m]});return c=ge(c),aM(a,f,function(m,y){return c(m,y[0])})}function r$(a,c,f){c=la(c,a);var m=-1,y=c.length;for(y||(y=1,a=n);++m<y;){var b=a==null?n:a[fo(c[m])];b===n&&(m=y,b=f),a=ss(b)?b.call(a):b}return a}function o$(a,c,f){return a==null?a:Jd(a,c,f)}function s$(a,c,f,m){return m=typeof m=="function"?m:n,a==null?a:Jd(a,c,f,m)}var _R=MM(In),yR=MM(Ii);function a$(a,c,f){var m=Le(a),y=m||ua(a)||Fc(a);if(c=ge(c,4),f==null){var b=a&&a.constructor;y?f=m?new b:[]:Gt(a)?f=ss(b)?Ac(Fp(a)):{}:f={}}return(y?dr:co)(a,function(I,S,R){return c(f,I,S,R)}),f}function l$(a,c){return a==null?!0:P0(a,c)}function c$(a,c,f){return a==null?a:fM(a,c,k0(f))}function u$(a,c,f,m){return m=typeof m=="function"?m:n,a==null?a:fM(a,c,k0(f),m)}function Lc(a){return a==null?[]:m0(a,In(a))}function d$(a){return a==null?[]:m0(a,Ii(a))}function f$(a,c,f){return f===n&&(f=c,c=n),f!==n&&(f=_r(f),f=f===f?f:0),c!==n&&(c=_r(c),c=c===c?c:0),dl(_r(a),c,f)}function h$(a,c,f){return c=as(c),f===n?(f=c,c=0):f=as(f),a=_r(a),vH(a,c,f)}function p$(a,c,f){if(f&&typeof f!="boolean"&&ai(a,c,f)&&(c=f=n),f===n&&(typeof c=="boolean"?(f=c,c=n):typeof a=="boolean"&&(f=a,a=n)),a===n&&c===n?(a=0,c=1):(a=as(a),c===n?(c=a,a=0):c=as(c)),a>c){var m=a;a=c,c=m}if(f||a%1||c%1){var y=HT();return $n(a+y*(c-a+$B("1e-"+((y+"").length-1))),c)}return A0(a,c)}var m$=Nc(function(a,c,f){return c=c.toLowerCase(),a+(f?vR(c):c)});function vR(a){return rE(_t(a).toLowerCase())}function ER(a){return a=_t(a),a&&a.replace(_B,oU).replace(LB,"")}function g$(a,c,f){a=_t(a),c=qi(c);var m=a.length;f=f===n?m:dl(je(f),0,m);var y=f;return f-=c.length,f>=0&&a.slice(f,y)==c}function _$(a){return a=_t(a),a&&sl.test(a)?a.replace(ea,sU):a}function y$(a){return a=_t(a),a&&Lr.test(a)?a.replace(Wn,"\\$&"):a}var v$=Nc(function(a,c,f){return a+(f?"-":"")+c.toLowerCase()}),E$=Nc(function(a,c,f){return a+(f?" ":"")+c.toLowerCase()}),b$=CM("toLowerCase");function w$(a,c,f){a=_t(a),c=je(c);var m=c?Sc(a):0;if(!c||m>=c)return a;var y=(c-m)/2;return Qp(jp(y),f)+a+Qp(Vp(y),f)}function C$(a,c,f){a=_t(a),c=je(c);var m=c?Sc(a):0;return c&&m<c?a+Qp(c-m,f):a}function x$(a,c,f){a=_t(a),c=je(c);var m=c?Sc(a):0;return c&&m<c?Qp(c-m,f)+a:a}function I$(a,c,f){return f||c==null?c=0:c&&(c=+c),OU(_t(a).replace(Gi,""),c||0)}function D$(a,c,f){return(f?ai(a,c,f):c===n)?c=1:c=je(c),O0(_t(a),c)}function S$(){var a=arguments,c=_t(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var T$=Nc(function(a,c,f){return a+(f?"_":"")+c.toLowerCase()});function M$(a,c,f){return f&&typeof f!="number"&&ai(a,c,f)&&(c=f=n),f=f===n?me:f>>>0,f?(a=_t(a),a&&(typeof c=="string"||c!=null&&!tE(c))&&(c=qi(c),!c&&Dc(a))?ca(Vr(a),0,f):a.split(c,f)):[]}var R$=Nc(function(a,c,f){return a+(f?" ":"")+rE(c)});function A$(a,c,f){return a=_t(a),f=f==null?0:dl(je(f),0,a.length),c=qi(c),a.slice(f,f+c.length)==c}function O$(a,c,f){var m=E.templateSettings;f&&ai(a,c,f)&&(c=n),a=_t(a),c=um({},c,m,RM);var y=um({},c.imports,m.imports,RM),b=In(y),I=m0(y,b),S,R,V=0,B=c.interpolate||Cp,z="__p += '",Y=_0((c.escape||Cp).source+"|"+B.source+"|"+(B===oi?dB:Cp).source+"|"+(c.evaluate||Cp).source+"|$","g"),oe="//# sourceURL="+(bt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++UB+"]")+`
`;a.replace(Y,function(ve,tt,st,Xi,li,Zi){return st||(st=Xi),z+=a.slice(V,Zi).replace(yB,aU),tt&&(S=!0,z+=`' +
__e(`+tt+`) +
'`),li&&(R=!0,z+=`';
`+li+`;
__p += '`),st&&(z+=`' +
((__t = (`+st+`)) == null ? '' : __t) +
'`),V=Zi+ve.length,ve}),z+=`';
`;var ye=bt.call(c,"variable")&&c.variable;if(!ye)z=`with (obj) {
`+z+`
}
`;else if(cB.test(ye))throw new Ne(o);z=(R?z.replace(Hd,""):z).replace(Ep,"$1").replace(Jv,"$1;"),z="function("+(ye||"obj")+`) {
`+(ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(R?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var Ge=wR(function(){return ut(b,oe+"return "+z).apply(n,I)});if(Ge.source=z,eE(Ge))throw Ge;return Ge}function N$(a){return _t(a).toLowerCase()}function P$(a){return _t(a).toUpperCase()}function F$(a,c,f){if(a=_t(a),a&&(f||c===n))return AT(a);if(!a||!(c=qi(c)))return a;var m=Vr(a),y=Vr(c),b=OT(m,y),I=NT(m,y)+1;return ca(m,b,I).join("")}function L$(a,c,f){if(a=_t(a),a&&(f||c===n))return a.slice(0,FT(a)+1);if(!a||!(c=qi(c)))return a;var m=Vr(a),y=NT(m,Vr(c))+1;return ca(m,0,y).join("")}function k$(a,c,f){if(a=_t(a),a&&(f||c===n))return a.replace(Gi,"");if(!a||!(c=qi(c)))return a;var m=Vr(a),y=OT(m,Vr(c));return ca(m,y).join("")}function V$(a,c){var f=W,m=$;if(Gt(c)){var y="separator"in c?c.separator:y;f="length"in c?je(c.length):f,m="omission"in c?qi(c.omission):m}a=_t(a);var b=a.length;if(Dc(a)){var I=Vr(a);b=I.length}if(f>=b)return a;var S=f-Sc(m);if(S<1)return m;var R=I?ca(I,0,S).join(""):a.slice(0,S);if(y===n)return R+m;if(I&&(S+=R.length-S),tE(y)){if(a.slice(S).search(y)){var V,B=R;for(y.global||(y=_0(y.source,_t(JS.exec(y))+"g")),y.lastIndex=0;V=y.exec(B);)var z=V.index;R=R.slice(0,z===n?S:z)}}else if(a.indexOf(qi(y),S)!=S){var Y=R.lastIndexOf(y);Y>-1&&(R=R.slice(0,Y))}return R+m}function j$(a){return a=_t(a),a&&ol.test(a)?a.replace(Cc,pU):a}var B$=Nc(function(a,c,f){return a+(f?" ":"")+c.toUpperCase()}),rE=CM("toUpperCase");function bR(a,c,f){return a=_t(a),c=f?n:c,c===n?cU(a)?_U(a):eU(a):a.match(c)||[]}var wR=qe(function(a,c){try{return Wi(a,n,c)}catch(f){return eE(f)?f:new Ne(f)}}),U$=rs(function(a,c){return dr(c,function(f){f=fo(f),ns(a,f,Q0(a[f],a))}),a});function H$(a){var c=a==null?0:a.length,f=ge();return a=c?jt(a,function(m){if(typeof m[1]!="function")throw new fr(r);return[f(m[0]),m[1]]}):[],qe(function(m){for(var y=-1;++y<c;){var b=a[y];if(Wi(b[0],this,m))return Wi(b[1],this,m)}})}function z$(a){return pH(pr(a,d))}function oE(a){return function(){return a}}function G$(a,c){return a==null||a!==a?c:a}var W$=IM(),$$=IM(!0);function Di(a){return a}function sE(a){return tM(typeof a=="function"?a:pr(a,d))}function q$(a){return iM(pr(a,d))}function Y$(a,c){return rM(a,pr(c,d))}var X$=qe(function(a,c){return function(f){return Kd(f,a,c)}}),Z$=qe(function(a,c){return function(f){return Kd(a,f,c)}});function aE(a,c,f){var m=In(c),y=Wp(c,m);f==null&&!(Gt(c)&&(y.length||!m.length))&&(f=c,c=a,a=this,y=Wp(c,In(c)));var b=!(Gt(f)&&"chain"in f)||!!f.chain,I=ss(a);return dr(y,function(S){var R=c[S];a[S]=R,I&&(a.prototype[S]=function(){var V=this.__chain__;if(b||V){var B=a(this.__wrapped__),z=B.__actions__=Ci(this.__actions__);return z.push({func:R,args:arguments,thisArg:a}),B.__chain__=V,B}return R.apply(a,na([this.value()],arguments))})}),a}function K$(){return xn._===this&&(xn._=CU),this}function lE(){}function Q$(a){return a=je(a),qe(function(c){return oM(c,a)})}var J$=j0(jt),e3=j0(DT),t3=j0(u0);function CR(a){return $0(a)?d0(fo(a)):AH(a)}function n3(a){return function(c){return a==null?n:fl(a,c)}}var i3=SM(),r3=SM(!0);function cE(){return[]}function uE(){return!1}function o3(){return{}}function s3(){return""}function a3(){return!0}function l3(a,c){if(a=je(a),a<1||a>pe)return[];var f=me,m=$n(a,me);c=ge(c),a-=me;for(var y=p0(m,c);++f<a;)c(f);return y}function c3(a){return Le(a)?jt(a,fo):Yi(a)?[a]:Ci(zM(_t(a)))}function u3(a){var c=++bU;return _t(a)+c}var d3=Kp(function(a,c){return a+c},0),f3=B0("ceil"),h3=Kp(function(a,c){return a/c},1),p3=B0("floor");function m3(a){return a&&a.length?Gp(a,Di,I0):n}function g3(a,c){return a&&a.length?Gp(a,ge(c,2),I0):n}function _3(a){return MT(a,Di)}function y3(a,c){return MT(a,ge(c,2))}function v3(a){return a&&a.length?Gp(a,Di,M0):n}function E3(a,c){return a&&a.length?Gp(a,ge(c,2),M0):n}var b3=Kp(function(a,c){return a*c},1),w3=B0("round"),C3=Kp(function(a,c){return a-c},0);function x3(a){return a&&a.length?h0(a,Di):0}function I3(a,c){return a&&a.length?h0(a,ge(c,2)):0}return E.after=qG,E.ary=eR,E.assign=PW,E.assignIn=pR,E.assignInWith=um,E.assignWith=FW,E.at=LW,E.before=tR,E.bind=Q0,E.bindAll=U$,E.bindKey=nR,E.castArray=oW,E.chain=KM,E.chunk=pz,E.compact=mz,E.concat=gz,E.cond=H$,E.conforms=z$,E.constant=oE,E.countBy=xG,E.create=kW,E.curry=iR,E.curryRight=rR,E.debounce=oR,E.defaults=VW,E.defaultsDeep=jW,E.defer=YG,E.delay=XG,E.difference=_z,E.differenceBy=yz,E.differenceWith=vz,E.drop=Ez,E.dropRight=bz,E.dropRightWhile=wz,E.dropWhile=Cz,E.fill=xz,E.filter=DG,E.flatMap=MG,E.flatMapDeep=RG,E.flatMapDepth=AG,E.flatten=qM,E.flattenDeep=Iz,E.flattenDepth=Dz,E.flip=ZG,E.flow=W$,E.flowRight=$$,E.fromPairs=Sz,E.functions=$W,E.functionsIn=qW,E.groupBy=OG,E.initial=Mz,E.intersection=Rz,E.intersectionBy=Az,E.intersectionWith=Oz,E.invert=XW,E.invertBy=ZW,E.invokeMap=PG,E.iteratee=sE,E.keyBy=FG,E.keys=In,E.keysIn=Ii,E.map=rm,E.mapKeys=QW,E.mapValues=JW,E.matches=q$,E.matchesProperty=Y$,E.memoize=sm,E.merge=e$,E.mergeWith=mR,E.method=X$,E.methodOf=Z$,E.mixin=aE,E.negate=am,E.nthArg=Q$,E.omit=t$,E.omitBy=n$,E.once=KG,E.orderBy=LG,E.over=J$,E.overArgs=QG,E.overEvery=e3,E.overSome=t3,E.partial=J0,E.partialRight=sR,E.partition=kG,E.pick=i$,E.pickBy=gR,E.property=CR,E.propertyOf=n3,E.pull=Lz,E.pullAll=XM,E.pullAllBy=kz,E.pullAllWith=Vz,E.pullAt=jz,E.range=i3,E.rangeRight=r3,E.rearg=JG,E.reject=BG,E.remove=Bz,E.rest=eW,E.reverse=Z0,E.sampleSize=HG,E.set=o$,E.setWith=s$,E.shuffle=zG,E.slice=Uz,E.sortBy=$G,E.sortedUniq=Yz,E.sortedUniqBy=Xz,E.split=M$,E.spread=tW,E.tail=Zz,E.take=Kz,E.takeRight=Qz,E.takeRightWhile=Jz,E.takeWhile=eG,E.tap=mG,E.throttle=nW,E.thru=im,E.toArray=dR,E.toPairs=_R,E.toPairsIn=yR,E.toPath=c3,E.toPlainObject=hR,E.transform=a$,E.unary=iW,E.union=tG,E.unionBy=nG,E.unionWith=iG,E.uniq=rG,E.uniqBy=oG,E.uniqWith=sG,E.unset=l$,E.unzip=K0,E.unzipWith=ZM,E.update=c$,E.updateWith=u$,E.values=Lc,E.valuesIn=d$,E.without=aG,E.words=bR,E.wrap=rW,E.xor=lG,E.xorBy=cG,E.xorWith=uG,E.zip=dG,E.zipObject=fG,E.zipObjectDeep=hG,E.zipWith=pG,E.entries=_R,E.entriesIn=yR,E.extend=pR,E.extendWith=um,aE(E,E),E.add=d3,E.attempt=wR,E.camelCase=m$,E.capitalize=vR,E.ceil=f3,E.clamp=f$,E.clone=sW,E.cloneDeep=lW,E.cloneDeepWith=cW,E.cloneWith=aW,E.conformsTo=uW,E.deburr=ER,E.defaultTo=G$,E.divide=h3,E.endsWith=g$,E.eq=Br,E.escape=_$,E.escapeRegExp=y$,E.every=IG,E.find=SG,E.findIndex=WM,E.findKey=BW,E.findLast=TG,E.findLastIndex=$M,E.findLastKey=UW,E.floor=p3,E.forEach=QM,E.forEachRight=JM,E.forIn=HW,E.forInRight=zW,E.forOwn=GW,E.forOwnRight=WW,E.get=nE,E.gt=dW,E.gte=fW,E.has=YW,E.hasIn=iE,E.head=YM,E.identity=Di,E.includes=NG,E.indexOf=Tz,E.inRange=h$,E.invoke=KW,E.isArguments=ml,E.isArray=Le,E.isArrayBuffer=hW,E.isArrayLike=xi,E.isArrayLikeObject=rn,E.isBoolean=pW,E.isBuffer=ua,E.isDate=mW,E.isElement=gW,E.isEmpty=_W,E.isEqual=yW,E.isEqualWith=vW,E.isError=eE,E.isFinite=EW,E.isFunction=ss,E.isInteger=aR,E.isLength=lm,E.isMap=lR,E.isMatch=bW,E.isMatchWith=wW,E.isNaN=CW,E.isNative=xW,E.isNil=DW,E.isNull=IW,E.isNumber=cR,E.isObject=Gt,E.isObjectLike=Kt,E.isPlainObject=rf,E.isRegExp=tE,E.isSafeInteger=SW,E.isSet=uR,E.isString=cm,E.isSymbol=Yi,E.isTypedArray=Fc,E.isUndefined=TW,E.isWeakMap=MW,E.isWeakSet=RW,E.join=Nz,E.kebabCase=v$,E.last=gr,E.lastIndexOf=Pz,E.lowerCase=E$,E.lowerFirst=b$,E.lt=AW,E.lte=OW,E.max=m3,E.maxBy=g3,E.mean=_3,E.meanBy=y3,E.min=v3,E.minBy=E3,E.stubArray=cE,E.stubFalse=uE,E.stubObject=o3,E.stubString=s3,E.stubTrue=a3,E.multiply=b3,E.nth=Fz,E.noConflict=K$,E.noop=lE,E.now=om,E.pad=w$,E.padEnd=C$,E.padStart=x$,E.parseInt=I$,E.random=p$,E.reduce=VG,E.reduceRight=jG,E.repeat=D$,E.replace=S$,E.result=r$,E.round=w3,E.runInContext=M,E.sample=UG,E.size=GG,E.snakeCase=T$,E.some=WG,E.sortedIndex=Hz,E.sortedIndexBy=zz,E.sortedIndexOf=Gz,E.sortedLastIndex=Wz,E.sortedLastIndexBy=$z,E.sortedLastIndexOf=qz,E.startCase=R$,E.startsWith=A$,E.subtract=C3,E.sum=x3,E.sumBy=I3,E.template=O$,E.times=l3,E.toFinite=as,E.toInteger=je,E.toLength=fR,E.toLower=N$,E.toNumber=_r,E.toSafeInteger=NW,E.toString=_t,E.toUpper=P$,E.trim=F$,E.trimEnd=L$,E.trimStart=k$,E.truncate=V$,E.unescape=j$,E.uniqueId=u3,E.upperCase=B$,E.upperFirst=rE,E.each=QM,E.eachRight=JM,E.first=YM,aE(E,function(){var a={};return co(E,function(c,f){bt.call(E.prototype,f)||(a[f]=c)}),a}(),{chain:!1}),E.VERSION=e,dr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){E[a].placeholder=E}),dr(["drop","take"],function(a,c){it.prototype[a]=function(f){f=f===n?1:_n(je(f),0);var m=this.__filtered__&&!c?new it(this):this.clone();return m.__filtered__?m.__takeCount__=$n(f,m.__takeCount__):m.__views__.push({size:$n(f,me),type:a+(m.__dir__<0?"Right":"")}),m},it.prototype[a+"Right"]=function(f){return this.reverse()[a](f).reverse()}}),dr(["filter","map","takeWhile"],function(a,c){var f=c+1,m=f==ae||f==ze;it.prototype[a]=function(y){var b=this.clone();return b.__iteratees__.push({iteratee:ge(y,3),type:f}),b.__filtered__=b.__filtered__||m,b}}),dr(["head","last"],function(a,c){var f="take"+(c?"Right":"");it.prototype[a]=function(){return this[f](1).value()[0]}}),dr(["initial","tail"],function(a,c){var f="drop"+(c?"":"Right");it.prototype[a]=function(){return this.__filtered__?new it(this):this[f](1)}}),it.prototype.compact=function(){return this.filter(Di)},it.prototype.find=function(a){return this.filter(a).head()},it.prototype.findLast=function(a){return this.reverse().find(a)},it.prototype.invokeMap=qe(function(a,c){return typeof a=="function"?new it(this):this.map(function(f){return Kd(f,a,c)})}),it.prototype.reject=function(a){return this.filter(am(ge(a)))},it.prototype.slice=function(a,c){a=je(a);var f=this;return f.__filtered__&&(a>0||c<0)?new it(f):(a<0?f=f.takeRight(-a):a&&(f=f.drop(a)),c!==n&&(c=je(c),f=c<0?f.dropRight(-c):f.take(c-a)),f)},it.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},it.prototype.toArray=function(){return this.take(me)},co(it.prototype,function(a,c){var f=/^(?:filter|find|map|reject)|While$/.test(c),m=/^(?:head|last)$/.test(c),y=E[m?"take"+(c=="last"?"Right":""):c],b=m||/^find/.test(c);y&&(E.prototype[c]=function(){var I=this.__wrapped__,S=m?[1]:arguments,R=I instanceof it,V=S[0],B=R||Le(I),z=function(tt){var st=y.apply(E,na([tt],S));return m&&Y?st[0]:st};B&&f&&typeof V=="function"&&V.length!=1&&(R=B=!1);var Y=this.__chain__,oe=!!this.__actions__.length,ye=b&&!Y,Ge=R&&!oe;if(!b&&B){I=Ge?I:new it(this);var ve=a.apply(I,S);return ve.__actions__.push({func:im,args:[z],thisArg:n}),new hr(ve,Y)}return ye&&Ge?a.apply(this,S):(ve=this.thru(z),ye?m?ve.value()[0]:ve.value():ve)})}),dr(["pop","push","shift","sort","splice","unshift"],function(a){var c=Mp[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);E.prototype[a]=function(){var y=arguments;if(m&&!this.__chain__){var b=this.value();return c.apply(Le(b)?b:[],y)}return this[f](function(I){return c.apply(Le(I)?I:[],y)})}}),co(it.prototype,function(a,c){var f=E[c];if(f){var m=f.name+"";bt.call(Rc,m)||(Rc[m]=[]),Rc[m].push({name:c,func:f})}}),Rc[Zp(n,w).name]=[{name:"wrapper",func:n}],it.prototype.clone=jU,it.prototype.reverse=BU,it.prototype.value=UU,E.prototype.at=gG,E.prototype.chain=_G,E.prototype.commit=yG,E.prototype.next=vG,E.prototype.plant=bG,E.prototype.reverse=wG,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=CG,E.prototype.first=E.prototype.head,Gd&&(E.prototype[Gd]=EG),E},ra=yU();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(xn._=ra,define(function(){return ra})):al?((al.exports=ra)._=ra,s0._=ra):xn._=ra}).call(Pd)});function pE(n,e){return Object.is(n,e)}var yn=null,dm=!1,mE=1,Si=Symbol("SIGNAL");function Ke(n){let e=yn;return yn=n,e}function gE(){return yn}var kc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sf(n){if(dm)throw new Error("");if(yn===null)return;yn.consumerOnSignalRead(n);let e=yn.nextProducerIndex++;if(gm(yn),e<yn.producerNode.length&&yn.producerNode[e]!==n&&of(yn)){let t=yn.producerNode[e];mm(t,yn.producerIndexOfThis[e])}yn.producerNode[e]!==n&&(yn.producerNode[e]=n,yn.producerIndexOfThis[e]=of(yn)?DR(n,yn,e):0),yn.producerLastReadVersion[e]=n.version}function IR(){mE++}function _E(n){if(!(of(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===mE)){if(!n.producerMustRecompute(n)&&!pm(n)){hE(n);return}n.producerRecomputeValue(n),hE(n)}}function yE(n){if(n.liveConsumerNode===void 0)return;let e=dm;dm=!0;try{for(let t of n.liveConsumerNode)t.dirty||T3(t)}finally{dm=e}}function vE(){return yn?.consumerAllowSignalWrites!==!1}function T3(n){n.dirty=!0,yE(n),n.consumerMarkedDirty?.(n)}function hE(n){n.dirty=!1,n.lastCleanEpoch=mE}function af(n){return n&&(n.nextProducerIndex=0),Ke(n)}function hm(n,e){if(Ke(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(of(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)mm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function pm(n){gm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(_E(t),i!==t.version))return!0}return!1}function lf(n){if(gm(n),of(n))for(let e=0;e<n.producerNode.length;e++)mm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function DR(n,e,t){if(SR(n),n.liveConsumerNode.length===0&&TR(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=DR(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function mm(n,e){if(SR(n),n.liveConsumerNode.length===1&&TR(n))for(let i=0;i<n.producerNode.length;i++)mm(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];gm(r),r.producerIndexOfThis[i]=e}}function of(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function gm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function SR(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function TR(n){return n.producerNode!==void 0}function _m(n,e){let t=Object.create(M3);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(_E(t),sf(t),t.value===fm)throw t.error;return t.value};return i[Si]=t,i}var dE=Symbol("UNSET"),fE=Symbol("COMPUTING"),fm=Symbol("ERRORED"),M3=xe(j({},kc),{value:dE,dirty:!0,error:null,equal:pE,kind:"computed",producerMustRecompute(n){return n.value===dE||n.value===fE},producerRecomputeValue(n){if(n.value===fE)throw new Error("Detected cycle in computations.");let e=n.value;n.value=fE;let t=af(n),i,r=!1;try{i=n.computation(),Ke(null),r=e!==dE&&e!==fm&&i!==fm&&n.equal(e,i)}catch(o){i=fm,n.error=o}finally{hm(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function R3(){throw new Error}var MR=R3;function RR(n){MR(n)}function EE(n){MR=n}var A3=null;function bE(n,e){let t=Object.create(ym);t.value=n,e!==void 0&&(t.equal=e);let i=()=>(sf(t),t.value);return i[Si]=t,i}function cf(n,e){vE()||RR(n),n.equal(n.value,e)||(n.value=e,O3(n))}function wE(n,e){vE()||RR(n),cf(n,e(n.value))}var ym=xe(j({},kc),{equal:pE,value:void 0,kind:"signal"});function O3(n){n.version++,IR(),yE(n),A3?.()}function CE(n){let e=Ke(null);try{return n()}finally{Ke(e)}}var xE;function uf(){return xE}function cs(n){let e=xE;return xE=n,e}var vm=Symbol("NotFound");function _e(n){return typeof n=="function"}function Vc(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Em=Vc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function _l(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var rt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(_e(i))try{i()}catch(o){e=o instanceof Em?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{AR(o)}catch(s){e=e??[],s instanceof Em?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Em(e)}}add(e){var t;if(e&&e!==this)if(this.closed)AR(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_l(t,e)}remove(e){let{_finalizers:t}=this;t&&_l(t,e),e instanceof n&&e._removeParent(this)}};rt.EMPTY=(()=>{let n=new rt;return n.closed=!0,n})();var IE=rt.EMPTY;function bm(n){return n instanceof rt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function AR(n){_e(n)?n():n.unsubscribe()}var Hr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jc={setTimeout(n,e,...t){let{delegate:i}=jc;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=jc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function wm(n){jc.setTimeout(()=>{let{onUnhandledError:e}=Hr;if(e)e(n);else throw n})}function yl(){}var OR=DE("C",void 0,void 0);function NR(n){return DE("E",void 0,n)}function PR(n){return DE("N",n,void 0)}function DE(n,e,t){return{kind:n,value:e,error:t}}var vl=null;function Bc(n){if(Hr.useDeprecatedSynchronousErrorHandling){let e=!vl;if(e&&(vl={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=vl;if(vl=null,t)throw i}}else n()}function FR(n){Hr.useDeprecatedSynchronousErrorHandling&&vl&&(vl.errorThrown=!0,vl.error=n)}var El=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bm(e)&&e.add(this)):this.destination=V3}static create(e,t,i){return new us(e,t,i)}next(e){this.isStopped?TE(PR(e),this):this._next(e)}error(e){this.isStopped?TE(NR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?TE(OR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},L3=Function.prototype.bind;function SE(n,e){return L3.call(n,e)}var ME=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Cm(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Cm(i)}else Cm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cm(t)}}},us=class extends El{constructor(e,t,i){super();let r;if(_e(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Hr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&SE(e.next,o),error:e.error&&SE(e.error,o),complete:e.complete&&SE(e.complete,o)}):r=e}this.destination=new ME(r)}};function Cm(n){Hr.useDeprecatedSynchronousErrorHandling?FR(n):wm(n)}function k3(n){throw n}function TE(n,e){let{onStoppedNotification:t}=Hr;t&&jc.setTimeout(()=>t(n,e))}var V3={closed:!0,next:yl,error:k3,complete:yl};var Uc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ci(n){return n}function RE(...n){return AE(n)}function AE(n){return n.length===0?ci:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=B3(t)?t:new us(t,i,r);return Bc(()=>{let{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=LR(i),new i((r,o)=>{let s=new us({next:l=>{try{t(l)}catch(u){o(u),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Uc](){return this}pipe(...t){return AE(t)(this)}toPromise(t){return t=LR(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function LR(n){var e;return(e=n??Hr.Promise)!==null&&e!==void 0?e:Promise}function j3(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function B3(n){return n&&n instanceof El||j3(n)&&bm(n)}function OE(n){return _e(n?.lift)}function Pe(n){return e=>{if(OE(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,i,r){return new NE(n,e,t,i,r)}var NE=class extends El{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(l){try{t(l)}catch(u){e.error(u)}}:super._next,this._error=r?function(l){try{r(l)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hc(){return Pe((n,e)=>{let t=null;n._refCount++;let i=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var zc=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,OE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return Hc()(this)}};var kR=Vc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new xm(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new kR}next(t){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?IE:(this.currentObservers=null,o.push(t),new rt(()=>{this.currentObservers=null,_l(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new xm(e,t),n})(),xm=class extends K{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:IE}};var Bt=class extends K{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var df={now(){return(df.delegate||Date).now()},delegate:void 0};var ff=class extends K{constructor(e=1/0,t=1/0,i=df){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),l=0;for(let u=1;u<i.length&&i[u]<=s;u+=2)l=u;l&&i.splice(0,l+1)}}};var Im=class extends rt{constructor(e,t){super()}schedule(e,t=0){return this}};var hf={setInterval(n,e,...t){let{delegate:i}=hf;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=hf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Dm=class extends Im{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return hf.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&hf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_l(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Gc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Gc.now=df.now;var Sm=class extends Gc{constructor(e,t=Gc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var pf=new Sm(Dm),VR=pf;var Dn=new de(n=>n.complete());function Tm(n){return n&&_e(n.schedule)}function PE(n){return n[n.length-1]}function Mm(n){return _e(PE(n))?n.pop():void 0}function ho(n){return Tm(PE(n))?n.pop():void 0}function jR(n,e){return typeof PE(n)=="number"?n.pop():e}function UR(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{d(i.next(h))}catch(p){s(p)}}function u(h){try{d(i.throw(h))}catch(p){s(p)}}function d(h){h.done?o(h.value):r(h.value).then(l,u)}d((i=i.apply(n,e||[])).next())})}function BR(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bl(n){return this instanceof bl?(this.v=n,this):new bl(n)}function HR(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(v){return Promise.resolve(v).then(_,p)}}function l(_,v){i[_]&&(r[_]=function(w){return new Promise(function(x,D){o.push([_,w,x,D])>1||u(_,w)})},v&&(r[_]=v(r[_])))}function u(_,v){try{d(i[_](v))}catch(w){g(o[0][3],w)}}function d(_){_.value instanceof bl?Promise.resolve(_.value.v).then(h,p):g(o[0][2],_)}function h(_){u("next",_)}function p(_){u("throw",_)}function g(_,v){_(v),o.shift(),o.length&&u(o[0][0],o[0][1])}}function zR(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof BR=="function"?BR(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(l,u){s=n[o](s),r(l,u,s.done,s.value)})}}function r(o,s,l,u){Promise.resolve(u).then(function(d){o({value:d,done:l})},s)}}var Wc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Rm(n){return _e(n?.then)}function Am(n){return _e(n[Uc])}function Om(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Nm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function U3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pm=U3();function Fm(n){return _e(n?.[Pm])}function Lm(n){return HR(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield bl(t.read());if(r)return yield bl(void 0);yield yield bl(i)}}finally{t.releaseLock()}})}function km(n){return _e(n?.getReader)}function wt(n){if(n instanceof de)return n;if(n!=null){if(Am(n))return H3(n);if(Wc(n))return z3(n);if(Rm(n))return G3(n);if(Om(n))return GR(n);if(Fm(n))return W3(n);if(km(n))return $3(n)}throw Nm(n)}function H3(n){return new de(e=>{let t=n[Uc]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function z3(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function G3(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wm)})}function W3(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function GR(n){return new de(e=>{q3(n,e).catch(t=>e.error(t))})}function $3(n){return GR(Lm(n))}function q3(n,e){var t,i,r,o;return UR(this,void 0,void 0,function*(){try{for(t=zR(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Ti(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Vm(n,e=0){return Pe((t,i)=>{t.subscribe(Te(i,r=>Ti(i,n,()=>i.next(r),e),()=>Ti(i,n,()=>i.complete(),e),r=>Ti(i,n,()=>i.error(r),e)))})}function jm(n,e=0){return Pe((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function WR(n,e){return wt(n).pipe(jm(e),Vm(e))}function $R(n,e){return wt(n).pipe(jm(e),Vm(e))}function qR(n,e){return new de(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function YR(n,e){return new de(t=>{let i;return Ti(t,e,()=>{i=n[Pm](),Ti(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>_e(i?.return)&&i.return()})}function Bm(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Ti(t,e,()=>{let i=n[Symbol.asyncIterator]();Ti(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function XR(n,e){return Bm(Lm(n),e)}function ZR(n,e){if(n!=null){if(Am(n))return WR(n,e);if(Wc(n))return qR(n,e);if(Rm(n))return $R(n,e);if(Om(n))return Bm(n,e);if(Fm(n))return YR(n,e);if(km(n))return XR(n,e)}throw Nm(n)}function At(n,e){return e?ZR(n,e):wt(n)}function ce(...n){let e=ho(n);return At(n,e)}function da(n,e){let t=_e(n)?n:()=>n,i=r=>r.error(t());return new de(e?r=>e.schedule(i,0,r):i)}function Um(n){return!!n&&(n instanceof de||_e(n.lift)&&_e(n.subscribe))}var ds=Vc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function KR(n){return n instanceof Date&&!isNaN(n)}function ne(n,e){return Pe((t,i)=>{let r=0;t.subscribe(Te(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:Y3}=Array;function X3(n,e){return Y3(e)?n(...e):n(e)}function $c(n){return ne(e=>X3(n,e))}var{isArray:Z3}=Array,{getPrototypeOf:K3,prototype:Q3,keys:J3}=Object;function Hm(n){if(n.length===1){let e=n[0];if(Z3(e))return{args:e,keys:null};if(e4(e)){let t=J3(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function e4(n){return n&&typeof n=="object"&&K3(n)===Q3}function zm(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function qc(...n){let e=ho(n),t=Mm(n),{args:i,keys:r}=Hm(n);if(i.length===0)return At([],e);let o=new de(t4(i,e,r?s=>zm(r,s):ci));return t?o.pipe($c(t)):o}function t4(n,e,t=ci){return i=>{QR(e,()=>{let{length:r}=n,o=new Array(r),s=r,l=r;for(let u=0;u<r;u++)QR(e,()=>{let d=At(n[u],e),h=!1;d.subscribe(Te(i,p=>{o[u]=p,h||(h=!0,l--),l||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function QR(n,e,t){n?Ti(t,n,e):e()}function JR(n,e,t,i,r,o,s,l){let u=[],d=0,h=0,p=!1,g=()=>{p&&!u.length&&!d&&e.complete()},_=w=>d<i?v(w):u.push(w),v=w=>{o&&e.next(w),d++;let x=!1;wt(t(w,h++)).subscribe(Te(e,D=>{r?.(D),o?_(D):e.next(D)},()=>{x=!0},void 0,()=>{if(x)try{for(d--;u.length&&d<i;){let D=u.shift();s?Ti(e,s,()=>v(D)):v(D)}g()}catch(D){e.error(D)}}))};return n.subscribe(Te(e,_,()=>{p=!0,g()})),()=>{l?.()}}function sn(n,e,t=1/0){return _e(e)?sn((i,r)=>ne((o,s)=>e(i,o,r,s))(wt(n(i,r))),t):(typeof e=="number"&&(t=e),Pe((i,r)=>JR(i,r,n,t)))}function Gm(n=1/0){return sn(ci,n)}function eA(){return Gm(1)}function fa(...n){return eA()(At(n,ho(n)))}function Wm(n){return new de(e=>{wt(n()).subscribe(e)})}function mf(...n){let e=Mm(n),{args:t,keys:i}=Hm(n),r=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let l=new Array(s),u=s,d=s;for(let h=0;h<s;h++){let p=!1;wt(t[h]).subscribe(Te(o,g=>{p||(p=!0,d--),l[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(d||o.next(i?zm(i,l):l),o.complete())}))}});return e?r.pipe($c(e)):r}var n4=["addListener","removeListener"],i4=["addEventListener","removeEventListener"],r4=["on","off"];function gf(n,e,t,i){if(_e(t)&&(i=t,t=void 0),i)return gf(n,e,t).pipe($c(i));let[r,o]=a4(n)?i4.map(s=>l=>n[s](e,l,t)):o4(n)?n4.map(tA(n,e)):s4(n)?r4.map(tA(n,e)):[];if(!r&&Wc(n))return sn(s=>gf(s,e,t))(wt(n));if(!r)throw new TypeError("Invalid event target");return new de(s=>{let l=(...u)=>s.next(1<u.length?u:u[0]);return r(l),()=>o(l)})}function tA(n,e){return t=>i=>n[t](e,i)}function o4(n){return _e(n.addListener)&&_e(n.removeListener)}function s4(n){return _e(n.on)&&_e(n.off)}function a4(n){return _e(n.addEventListener)&&_e(n.removeEventListener)}function nA(n=0,e,t=VR){let i=-1;return e!=null&&(Tm(e)?t=e:i=e),new de(r=>{let o=KR(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function fs(...n){let e=ho(n),t=jR(n,1/0),i=n;return i.length?i.length===1?wt(i[0]):Gm(t)(At(i,e)):Dn}var wl=new de(yl);function yt(n,e){return Pe((t,i)=>{let r=0;t.subscribe(Te(i,o=>n.call(e,o,r++)&&i.next(o)))})}function iA(n){return Pe((e,t)=>{let i=!1,r=null,o=null,s=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let d=r;r=null,t.next(d)}s&&t.complete()},u=()=>{o=null,s&&t.complete()};e.subscribe(Te(t,d=>{i=!0,r=d,o||wt(n(d)).subscribe(o=Te(t,l,u))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}function $m(n,e=pf){return iA(()=>nA(n,e))}function po(n){return Pe((e,t)=>{let i=null,r=!1,o;i=e.subscribe(Te(t,void 0,void 0,s=>{o=wt(n(s,po(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function rA(n,e,t,i,r){return(o,s)=>{let l=t,u=e,d=0;o.subscribe(Te(s,h=>{let p=d++;u=l?n(u,h,p):(l=!0,h),i&&s.next(u)},r&&(()=>{l&&s.next(u),s.complete()})))}}function ha(n,e){return _e(e)?sn(n,e,1):sn(n,1)}function pa(n,e=pf){return Pe((t,i)=>{let r=null,o=null,s=null,l=()=>{if(r){r.unsubscribe(),r=null;let d=o;o=null,i.next(d)}};function u(){let d=s+n,h=e.now();if(h<d){r=this.schedule(void 0,d-h),i.add(r);return}l()}t.subscribe(Te(i,d=>{o=d,s=e.now(),r||(r=e.schedule(u,n),i.add(r))},()=>{l(),i.complete()},void 0,()=>{o=r=null}))})}function ma(n){return Pe((e,t)=>{let i=!1;e.subscribe(Te(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function an(n){return n<=0?()=>Dn:Pe((e,t)=>{let i=0;e.subscribe(Te(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Cl(n,e=ci){return n=n??l4,Pe((t,i)=>{let r,o=!0;t.subscribe(Te(i,s=>{let l=e(s);(o||!n(r,l))&&(o=!1,r=l,i.next(s))}))})}function l4(n,e){return n===e}function qm(n=c4){return Pe((e,t)=>{let i=!1;e.subscribe(Te(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function c4(){return new ds}function zr(n){return Pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function yr(n,e){let t=arguments.length>=2;return i=>i.pipe(n?yt((r,o)=>n(r,o,i)):ci,an(1),t?ma(e):qm(()=>new ds))}function Yc(n){return n<=0?()=>Dn:Pe((e,t)=>{let i=[];e.subscribe(Te(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function FE(n,e){let t=arguments.length>=2;return i=>i.pipe(n?yt((r,o)=>n(r,o,i)):ci,Yc(1),t?ma(e):qm(()=>new ds))}function Ym(){return Pe((n,e)=>{let t,i=!1;n.subscribe(Te(e,r=>{let o=t;t=r,i&&e.next([o,r]),i=!0}))})}function LE(n,e){return Pe(rA(n,e,arguments.length>=2,!0))}function ga(n={}){let{connector:e=()=>new K,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,l,u,d=0,h=!1,p=!1,g=()=>{l?.unsubscribe(),l=void 0},_=()=>{g(),s=u=void 0,h=p=!1},v=()=>{let w=s;_(),w?.unsubscribe()};return Pe((w,x)=>{d++,!p&&!h&&g();let D=u=u??e();x.add(()=>{d--,d===0&&!p&&!h&&(l=kE(v,r))}),D.subscribe(x),!s&&d>0&&(s=new us({next:T=>D.next(T),error:T=>{p=!0,g(),l=kE(_,t,T),D.error(T)},complete:()=>{h=!0,g(),l=kE(_,i),D.complete()}}),wt(w).subscribe(s))})(o)}}function kE(n,e,...t){if(e===!0){n();return}if(e===!1)return;let i=new us({next:()=>{i.unsubscribe(),n()}});return wt(e(...t)).subscribe(i)}function hs(n,e,t){let i,r=!1;return n&&typeof n=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n:i=n??1/0,ga({connector:()=>new ff(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function _f(n){return yt((e,t)=>n<=t)}function ui(...n){let e=ho(n);return Pe((t,i)=>{(e?fa(n,t,e):fa(n,t)).subscribe(i)})}function Qt(n,e){return Pe((t,i)=>{let r=null,o=0,s=!1,l=()=>s&&!r&&i.complete();t.subscribe(Te(i,u=>{r?.unsubscribe();let d=0,h=o++;wt(n(u,h)).subscribe(r=Te(i,p=>i.next(e?e(u,p,h,d++):p),()=>{r=null,l()}))},()=>{s=!0,l()}))})}function dt(n){return Pe((e,t)=>{wt(n).subscribe(Te(t,()=>t.complete(),yl)),!t.closed&&e.subscribe(t)})}function Wt(n,e,t){let i=_e(n)||e||t?{next:n,error:e,complete:t}:n;return i?Pe((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let l=!0;r.subscribe(Te(o,u=>{var d;(d=i.next)===null||d===void 0||d.call(i,u),o.next(u)},()=>{var u;l=!1,(u=i.complete)===null||u===void 0||u.call(i),o.complete()},u=>{var d;l=!1,(d=i.error)===null||d===void 0||d.call(i,u),o.error(u)},()=>{var u,d;l&&((u=i.unsubscribe)===null||u===void 0||u.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):ci}var GA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",X=class extends Error{code;constructor(e,t){super(WA(e,t)),this.code=e}};function u4(n){return`NG0${Math.abs(n)}`}function WA(n,e){return`${u4(n)}${e?": "+e:""}`}var $A=Symbol("InputSignalNode#UNSET"),d4=xe(j({},ym),{transformFn:void 0,applyValueToInputSignal(n,e){cf(n,e)}});function qA(n,e){let t=Object.create(d4);t.value=n,t.transformFn=e?.transform;function i(){if(sf(t),t.value===$A){let r=null;throw new X(-950,r)}return t.value}return i[Si]=t,i}function Og(n){return{toString:n}.toString()}var rg=globalThis;function St(n){for(let e in n)if(n[e]===St)return e;throw Error("Could not find renamed property on target object.")}function f4(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ri(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ri).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function KE(n,e){return n?e?`${n} ${e}`:n:e||""}var h4=St({__forward_ref__:St});function wa(n){return n.__forward_ref__=wa,n.toString=function(){return Ri(this())},n}function di(n){return YA(n)?n():n}function YA(n){return typeof n=="function"&&n.hasOwnProperty(h4)&&n.__forward_ref__===wa}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ng(n){return oA(n,ZA)||oA(n,KA)}function XA(n){return Ng(n)!==null}function oA(n,e){return n.hasOwnProperty(e)?n[e]:null}function p4(n){let e=n&&(n[ZA]||n[KA]);return e||null}function sA(n){return n&&(n.hasOwnProperty(aA)||n.hasOwnProperty(m4))?n[aA]:null}var ZA=St({\u0275prov:St}),aA=St({\u0275inj:St}),KA=St({ngInjectableDef:St}),m4=St({ngInjectorDef:St}),F=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function QA(n){return n&&!!n.\u0275providers}var g4=St({\u0275cmp:St}),_4=St({\u0275dir:St}),y4=St({\u0275pipe:St}),v4=St({\u0275mod:St}),og=St({\u0275fac:St}),bf=St({__NG_ELEMENT_ID__:St}),lA=St({__NG_ENV_ID__:St});function qb(n){return typeof n=="string"?n:n==null?"":String(n)}function E4(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():qb(n)}function JA(n,e){throw new X(-200,n)}function Yb(n,e){throw new X(-201,!1)}var Ye=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ye||{}),QE;function eO(){return QE}function Mi(n){let e=QE;return QE=n,e}function tO(n,e,t){let i=Ng(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ye.Optional)return null;if(e!==void 0)return e;Yb(n,"Injector")}var b4={},xl=b4,w4="__NG_DI_FLAG__",sg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=t;return this.injector.get(e,i.optional?vm:xl,i)}},ag="ngTempTokenPath",C4="ngTokenPath",x4=/\n/gm,I4="\u0275",cA="__source";function D4(n,e=Ye.Default){if(uf()===void 0)throw new X(-203,!1);if(uf()===null)return tO(n,void 0,e);{let t=uf(),i;return t instanceof sg?i=t.injector:i=t,i.get(n,e&Ye.Optional?null:void 0,e)}}function ie(n,e=Ye.Default){return(eO()||D4)(di(n),e)}function C(n,e=Ye.Default){return ie(n,Pg(e))}function Pg(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function JE(n){let e=[];for(let t=0;t<n.length;t++){let i=di(n[t]);if(Array.isArray(i)){if(i.length===0)throw new X(900,!1);let r,o=Ye.Default;for(let s=0;s<i.length;s++){let l=i[s],u=S4(l);typeof u=="number"?u===-1?r=l.token:o|=u:r=l}e.push(ie(r,o))}else e.push(ie(i))}return e}function S4(n){return n[w4]}function T4(n,e,t,i){let r=n[ag];throw e[cA]&&r.unshift(e[cA]),n.message=M4(`
`+n.message,r,t,i),n[C4]=r,n[ag]=null,n}function M4(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==I4?n.slice(2):n;let r=Ri(e);if(Array.isArray(e))r=e.map(Ri).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let l=e[s];o.push(s+":"+(typeof l=="string"?JSON.stringify(l):Ri(l)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(x4,`
  `)}`}function Dl(n,e){let t=n.hasOwnProperty(og);return t?n[og]:null}function R4(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function A4(n){return n.flat(Number.POSITIVE_INFINITY)}function Xb(n,e){n.forEach(t=>Array.isArray(t)?Xb(t,e):e(t))}function nO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function O4(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function N4(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function Zb(n,e,t){let i=Af(n,e);return i>=0?n[i|1]=t:(i=~i,N4(n,i,e,t)),i}function VE(n,e){let t=Af(n,e);if(t>=0)return n[t|1]}function Af(n,e){return P4(n,e,1)}function P4(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Sl={},fi=[],tu=new F(""),iO=new F("",-1),rO=new F(""),cg=class{get(e,t=xl){if(t===xl){let i=new Error(`NullInjectorError: No provider for ${Ri(e)}!`);throw i.name="NullInjectorError",i}return t}};function oO(n,e){let t=n[v4]||null;if(!t&&e===!0)throw new Error(`Type ${Ri(n)} does not have '\u0275mod' property.`);return t}function Tl(n){return n[g4]||null}function F4(n){return n[_4]||null}function L4(n){return n[y4]||null}function _s(n){return{\u0275providers:n}}function k4(...n){return{\u0275providers:sO(!0,n),\u0275fromNgModule:!0}}function sO(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Xb(e,s=>{let l=s;eb(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&aO(r,o),t}function aO(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Kb(r,o=>{e(o,i)})}}function eb(n,e,t,i){if(n=di(n),!n)return!1;let r=null,o=sA(n),s=!o&&Tl(n);if(!o&&!s){let u=n.ngModule;if(o=sA(u),o)r=u;else return!1}else{if(s&&!s.standalone)return!1;r=n}let l=i.has(r);if(s){if(l)return!1;if(i.add(r),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)eb(d,e,t,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let d;try{Xb(o.imports,h=>{eb(h,e,t,i)&&(d||=[],d.push(h))})}finally{}d!==void 0&&aO(d,e)}if(!l){let d=Dl(r)||(()=>new r);e({provide:r,useFactory:d,deps:fi},r),e({provide:rO,useValue:r,multi:!0},r),e({provide:tu,useValue:()=>ie(r),multi:!0},r)}let u=o.providers;if(u!=null&&!l){let d=n;Kb(u,h=>{e(h,d)})}}else return!1;return r!==n&&n.providers!==void 0}function Kb(n,e){for(let t of n)QA(t)&&(t=t.\u0275providers),Array.isArray(t)?Kb(t,e):e(t)}var V4=St({provide:String,useValue:St});function lO(n){return n!==null&&typeof n=="object"&&V4 in n}function j4(n){return!!(n&&n.useExisting)}function B4(n){return!!(n&&n.useFactory)}function nu(n){return typeof n=="function"}function U4(n){return!!n.useClass}var Fg=new F(""),Qm={},uA={},jE;function Lg(){return jE===void 0&&(jE=new cg),jE}var fn=class{},wf=class extends fn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,nb(e,s=>this.processProvider(s)),this.records.set(iO,Xc(void 0,this)),r.has("environment")&&this.records.set(fn,Xc(void 0,this));let o=this.records.get(Fg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rO,fi,Ye.Self))}retrieve(e,t){let i=t;return this.get(e,i.optional?vm:xl,i)}destroy(){vf(this),this._destroyed=!0;let e=Ke(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ke(e)}}onDestroy(e){return vf(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){vf(this);let t=cs(this),i=Mi(void 0),r;try{return e()}finally{cs(t),Mi(i)}}get(e,t=xl,i=Ye.Default){if(vf(this),e.hasOwnProperty(lA))return e[lA](this);i=Pg(i);let r,o=cs(this),s=Mi(void 0);try{if(!(i&Ye.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=$4(e)&&Ng(e);d&&this.injectableDefInScope(d)?u=Xc(tb(e),Qm):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let l=i&Ye.Self?Lg():this.parent;return t=i&Ye.Optional&&t===xl?null:t,l.get(e,t)}catch(l){if(l.name==="NullInjectorError"){if((l[ag]=l[ag]||[]).unshift(Ri(e)),o)throw l;return T4(l,e,"R3InjectorError",this.source)}else throw l}finally{Mi(s),cs(o)}}resolveInjectorInitializers(){let e=Ke(null),t=cs(this),i=Mi(void 0),r;try{let o=this.get(tu,fi,Ye.Self);for(let s of o)s()}finally{cs(t),Mi(i),Ke(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Ri(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=di(e);let t=nu(e)?e:di(e&&e.provide),i=z4(e);if(!nu(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Xc(void 0,Qm,!0),r.factory=()=>JE(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Ke(null);try{return t.value===uA?JA(Ri(e)):t.value===Qm&&(t.value=uA,t.value=t.factory()),typeof t.value=="object"&&t.value&&W4(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ke(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=di(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function tb(n){let e=Ng(n),t=e!==null?e.factory:Dl(n);if(t!==null)return t;if(n instanceof F)throw new X(204,!1);if(n instanceof Function)return H4(n);throw new X(204,!1)}function H4(n){if(n.length>0)throw new X(204,!1);let t=p4(n);return t!==null?()=>t.factory(n):()=>new n}function z4(n){if(lO(n))return Xc(void 0,n.useValue);{let e=cO(n);return Xc(e,Qm)}}function cO(n,e,t){let i;if(nu(n)){let r=di(n);return Dl(r)||tb(r)}else if(lO(n))i=()=>di(n.useValue);else if(B4(n))i=()=>n.useFactory(...JE(n.deps||[]));else if(j4(n))i=()=>ie(di(n.useExisting));else{let r=di(n&&(n.useClass||n.provide));if(G4(n))i=()=>new r(...JE(n.deps));else return Dl(r)||tb(r)}return i}function vf(n){if(n.destroyed)throw new X(205,!1)}function Xc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function G4(n){return!!n.deps}function W4(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $4(n){return typeof n=="function"||typeof n=="object"&&n instanceof F}function nb(n,e){for(let t of n)Array.isArray(t)?nb(t,e):t&&QA(t)?nb(t.\u0275providers,e):e(t)}function Ki(n,e){let t;n instanceof wf?(vf(n),t=n):t=new sg(n);let i,r=cs(t),o=Mi(void 0);try{return e()}finally{cs(r),Mi(o)}}function uO(){return eO()!==void 0||uf()!=null}function Of(n){if(!uO())throw new X(-203,!1)}function q4(n){return typeof n=="function"}var ys=0,Be=1,Se=2,Yn=3,$r=4,Oi=5,Cf=6,ug=7,hi=8,iu=9,va=10,Jt=11,xf=12,dA=13,au=14,Er=15,Ml=16,Zc=17,ps=18,kg=19,dO=20,_a=21,BE=22,Rl=23,vr=24,Jc=25,kn=26,fO=1;var Al=7,dg=8,ru=9,Ai=10;function ya(n){return Array.isArray(n)&&typeof n[fO]=="object"}function vs(n){return Array.isArray(n)&&n[fO]===!0}function hO(n){return(n.flags&4)!==0}function lu(n){return n.componentOffset>-1}function Qb(n){return(n.flags&1)===1}function go(n){return!!n.template}function fg(n){return(n[Se]&512)!==0}function Nf(n){return(n[Se]&256)===256}var ib=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function pO(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var br=(()=>{let n=()=>mO;return n.ngInherit=!0,n})();function mO(n){return n.type.prototype.ngOnChanges&&(n.setInput=X4),Y4}function Y4(){let n=_O(this),e=n?.current;if(e){let t=n.previous;if(t===Sl)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function X4(n,e,t,i,r){let o=this.declaredInputs[i],s=_O(n)||Z4(n,{previous:Sl,current:null}),l=s.current||(s.current={}),u=s.previous,d=u[o];l[o]=new ib(d&&d.currentValue,t,u===Sl),pO(n,e,r,t)}var gO="__ngSimpleChanges__";function _O(n){return n[gO]||null}function Z4(n,e){return n[gO]=e}var fA=null;var Ct=function(n,e=null,t){fA?.(n,e,t)},yO="svg",K4="math";function _o(n){for(;Array.isArray(n);)n=n[ys];return n}function vO(n,e){return _o(e[n])}function Eo(n,e){return _o(e[n.index])}function Jb(n,e){return n.data[e]}function EO(n,e){return n[e]}function yo(n,e){let t=e[n];return ya(t)?t:t[ys]}function Q4(n){return(n[Se]&4)===4}function ew(n){return(n[Se]&128)===128}function J4(n){return vs(n[Yn])}function hg(n,e){return e==null?null:n[e]}function bO(n){n[Zc]=0}function wO(n){n[Se]&1024||(n[Se]|=1024,ew(n)&&cu(n))}function eq(n,e){for(;n>0;)e=e[au],n--;return e}function Vg(n){return!!(n[Se]&9216||n[vr]?.dirty)}function rb(n){n[va].changeDetectionScheduler?.notify(8),n[Se]&64&&(n[Se]|=1024),Vg(n)&&cu(n)}function cu(n){n[va].changeDetectionScheduler?.notify(0);let e=Ol(n);for(;e!==null&&!(e[Se]&8192||(e[Se]|=8192,!ew(e)));)e=Ol(e)}function CO(n,e){if(Nf(n))throw new X(911,!1);n[_a]===null&&(n[_a]=[]),n[_a].push(e)}function tq(n,e){if(n[_a]===null)return;let t=n[_a].indexOf(e);t!==-1&&n[_a].splice(t,1)}function Ol(n){let e=n[Yn];return vs(e)?e[Yn]:e}function tw(n){return n[ug]??=[]}function nw(n){return n.cleanup??=[]}function nq(n,e,t,i){let r=tw(e);r.push(t),n.firstCreatePass&&nw(n).push(i,r.length-1)}var We={lFrame:NO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ob=!1;function iq(){return We.lFrame.elementDepthCount}function rq(){We.lFrame.elementDepthCount++}function oq(){We.lFrame.elementDepthCount--}function xO(){return We.bindingsEnabled}function IO(){return We.skipHydrationRootTNode!==null}function sq(n){return We.skipHydrationRootTNode===n}function aq(){We.skipHydrationRootTNode=null}function nt(){return We.lFrame.lView}function ln(){return We.lFrame.tView}function Zn(n){return We.lFrame.contextLView=n,n[hi]}function Kn(n){return We.lFrame.contextLView=null,n}function mi(){let n=DO();for(;n!==null&&n.type===64;)n=n.parent;return n}function DO(){return We.lFrame.currentTNode}function lq(){let n=We.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function uu(n,e){let t=We.lFrame;t.currentTNode=n,t.isParent=e}function SO(){return We.lFrame.isParent}function TO(){We.lFrame.isParent=!1}function cq(){return We.lFrame.contextLView}function MO(){return ob}function pg(n){let e=ob;return ob=n,e}function uq(){let n=We.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dq(n){return We.lFrame.bindingIndex=n}function du(){return We.lFrame.bindingIndex++}function RO(n){let e=We.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fq(){return We.lFrame.inI18n}function hq(n,e){let t=We.lFrame;t.bindingIndex=t.bindingRootIndex=n,sb(e)}function pq(){return We.lFrame.currentDirectiveIndex}function sb(n){We.lFrame.currentDirectiveIndex=n}function mq(n){let e=We.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function iw(){return We.lFrame.currentQueryIndex}function jg(n){We.lFrame.currentQueryIndex=n}function gq(n){let e=n[Be];return e.type===2?e.declTNode:e.type===1?n[Oi]:null}function AO(n,e,t){if(t&Ye.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&Ye.Host);)if(r=gq(o),r===null||(o=o[au],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=We.lFrame=OO();return i.currentTNode=e,i.lView=n,!0}function rw(n){let e=OO(),t=n[Be];We.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function OO(){let n=We.lFrame,e=n===null?null:n.child;return e===null?NO(n):e}function NO(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function PO(){let n=We.lFrame;return We.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var FO=PO;function ow(){let n=PO();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _q(n){return(We.lFrame.contextLView=eq(n,We.lFrame.contextLView))[hi]}function kl(){return We.lFrame.selectedIndex}function Nl(n){We.lFrame.selectedIndex=n}function Bg(){let n=We.lFrame;return Jb(n.tView,n.selectedIndex)}function LO(){We.lFrame.currentNamespace=yO}function yq(){return We.lFrame.currentNamespace}var kO=!0;function sw(){return kO}function aw(n){kO=n}function vq(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=mO(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function VO(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),l&&((n.contentHooks??=[]).push(t,l),(n.contentCheckHooks??=[]).push(t,l)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Jm(n,e,t){jO(n,e,3,t)}function eg(n,e,t,i){(n[Se]&3)===t&&jO(n,e,t,i)}function UE(n,e){let t=n[Se];(t&3)===e&&(t&=16383,t+=1,n[Se]=t)}function jO(n,e,t,i){let r=i!==void 0?n[Zc]&65535:0,o=i??-1,s=e.length-1,l=0;for(let u=r;u<s;u++)if(typeof e[u+1]=="number"){if(l=e[u],i!=null&&l>=i)break}else e[u]<0&&(n[Zc]+=65536),(l<o||o==-1)&&(Eq(n,t,e,u),n[Zc]=(n[Zc]&4294901760)+u+2),u++}function hA(n,e){Ct(4,n,e);let t=Ke(null);try{e.call(n)}finally{Ke(t),Ct(5,n,e)}}function Eq(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],l=n[s];r?n[Se]>>14<n[Zc]>>16&&(n[Se]&3)===e&&(n[Se]+=16384,hA(l,o)):hA(l,o)}var eu=-1,Pl=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function bq(n){return(n.flags&8)!==0}function wq(n){return(n.flags&16)!==0}function Cq(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],l=t[i++];n.setAttribute(e,s,l,o)}else{let o=r,s=t[++i];xq(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function BO(n){return n===3||n===4||n===6}function xq(n){return n.charCodeAt(0)===64}function If(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?pA(n,t,r,null,e[++i]):pA(n,t,r,null,null))}}return n}function pA(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let l=n[o++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=o-1;break}}}for(;o<n.length;){let l=n[o];if(typeof l=="number")break;if(l===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function UO(n){return n!==eu}function mg(n){return n&32767}function Iq(n){return n>>16}function gg(n,e){let t=Iq(n),i=e;for(;t>0;)i=i[au],t--;return i}var ab=!0;function _g(n){let e=ab;return ab=n,e}var Dq=256,HO=Dq-1,zO=5,Sq=0,mo={};function Tq(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(bf)&&(i=t[bf]),i==null&&(i=t[bf]=Sq++);let r=i&HO,o=1<<r;e.data[n+(r>>zO)]|=o}function yg(n,e){let t=GO(n,e);if(t!==-1)return t;let i=e[Be];i.firstCreatePass&&(n.injectorIndex=e.length,HE(i.data,n),HE(e,null),HE(i.blueprint,null));let r=lw(n,e),o=n.injectorIndex;if(UO(r)){let s=mg(r),l=gg(r,e),u=l[Be].data;for(let d=0;d<8;d++)e[o+d]=l[s+d]|u[s+d]}return e[o+8]=r,o}function HE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function GO(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function lw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=XO(r),i===null)return eu;if(t++,r=r[au],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return eu}function lb(n,e,t){Tq(n,e,t)}function Mq(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(BO(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function WO(n,e,t){if(t&Ye.Optional||n!==void 0)return n;Yb(e,"NodeInjector")}function $O(n,e,t,i){if(t&Ye.Optional&&i===void 0&&(i=null),(t&(Ye.Self|Ye.Host))===0){let r=n[iu],o=Mi(void 0);try{return r?r.get(e,i,t&Ye.Optional):tO(e,i,t&Ye.Optional)}finally{Mi(o)}}return WO(i,e,t)}function qO(n,e,t,i=Ye.Default,r){if(n!==null){if(e[Se]&2048&&!(i&Ye.Self)){let s=Nq(n,e,t,i,mo);if(s!==mo)return s}let o=YO(n,e,t,i,mo);if(o!==mo)return o}return $O(e,t,i,r)}function YO(n,e,t,i,r){let o=Aq(t);if(typeof o=="function"){if(!AO(e,n,i))return i&Ye.Host?WO(r,t,i):$O(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&Ye.Optional))Yb(t);else return s}finally{FO()}}else if(typeof o=="number"){let s=null,l=GO(n,e),u=eu,d=i&Ye.Host?e[Er][Oi]:null;for((l===-1||i&Ye.SkipSelf)&&(u=l===-1?lw(n,e):e[l+8],u===eu||!gA(i,!1)?l=-1:(s=e[Be],l=mg(u),e=gg(u,e)));l!==-1;){let h=e[Be];if(mA(o,l,h.data)){let p=Rq(l,e,t,s,i,d);if(p!==mo)return p}u=e[l+8],u!==eu&&gA(i,e[Be].data[l+8]===d)&&mA(o,l,e)?(s=h,l=mg(u),e=gg(u,e)):l=-1}}return r}function Rq(n,e,t,i,r,o){let s=e[Be],l=s.data[n+8],u=i==null?lu(l)&&ab:i!=s&&(l.type&3)!==0,d=r&Ye.Host&&o===l,h=tg(l,s,t,u,d);return h!==null?Df(e,s,h,l):mo}function tg(n,e,t,i,r){let o=n.providerIndexes,s=e.data,l=o&1048575,u=n.directiveStart,d=n.directiveEnd,h=o>>20,p=i?l:l+h,g=r?l+h:d;for(let _=p;_<g;_++){let v=s[_];if(_<u&&t===v||_>=u&&v.type===t)return _}if(r){let _=s[u];if(_&&go(_)&&_.type===t)return u}return null}function Df(n,e,t,i){let r=n[t],o=e.data;if(r instanceof Pl){let s=r;s.resolving&&JA(E4(o[t]));let l=_g(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?Mi(s.injectImpl):null,h=AO(n,i,Ye.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&vq(t,o[t],e)}finally{d!==null&&Mi(d),_g(l),s.resolving=!1,FO()}}return r}function Aq(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(bf)?n[bf]:void 0;return typeof e=="number"?e>=0?e&HO:Oq:e}function mA(n,e,t){let i=1<<n;return!!(t[e+(n>>zO)]&i)}function gA(n,e){return!(n&Ye.Self)&&!(n&Ye.Host&&e)}var Il=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return qO(this._tNode,this._lView,e,Pg(i),t)}};function Oq(){return new Il(mi(),nt())}function Es(n){return Og(()=>{let e=n.prototype.constructor,t=e[og]||cb(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[og]||cb(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function cb(n){return YA(n)?()=>{let e=cb(di(n));return e&&e()}:Dl(n)}function Nq(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[Se]&2048&&!fg(s);){let l=YO(o,s,t,i|Ye.Self,mo);if(l!==mo)return l;let u=o.parent;if(!u){let d=s[dO];if(d){let h=d.get(t,mo,i);if(h!==mo)return h}u=XO(s),s=s[au]}o=u}return r}function XO(n){let e=n[Be],t=e.type;return t===2?e.declTNode:t===1?n[Oi]:null}function ZO(n){return Mq(mi(),n)}function _A(n,e=null,t=null,i){let r=KO(n,e,t,i);return r.resolveInjectorInitializers(),r}function KO(n,e=null,t=null,i,r=new Set){let o=[t||fi,k4(n)];return i=i||(typeof n=="object"?void 0:Ri(n)),new wf(o,e||Lg(),i||null,r)}var lt=class n{static THROW_IF_NOT_FOUND=xl;static NULL=new cg;static create(e,t){if(Array.isArray(e))return _A({name:""},t,e,"");{let i=e.name??"";return _A({name:i},e.parent,e.providers,i)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>ie(iO)});static __NG_ELEMENT_ID__=-1};var vg=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ZO(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Pq=new F("");Pq.__NG_ELEMENT_ID__=n=>{let e=mi();if(e===null)throw new X(204,!1);if(e.type&2)return e.value;if(n&Ye.Optional)return null;throw new X(204,!1)};var QO=!1,bo=(()=>{class n{static __NG_ELEMENT_ID__=Fq;static __NG_ENV_ID__=t=>t}return n})(),Eg=class extends bo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return CO(this._lView,e),()=>tq(this._lView,e)}};function Fq(){return new Eg(nt())}var Fl=class{},Ug=new F("",{providedIn:"root",factory:()=>!1});var JO=new F(""),e1=new F(""),Ca=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Bt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();var ub=class extends K{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,uO()&&(this.destroyRef=C(bo,{optional:!0})??void 0,this.pendingTasks=C(Ca,{optional:!0})??void 0)}emit(e){let t=Ke(null);try{super.next(e)}finally{Ke(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let u=e;r=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:r,error:o,complete:s});return e instanceof rt&&e.add(l),l}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},vt=ub;function Sf(...n){}function t1(n){let e,t;function i(){n=Sf;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function yA(n){return queueMicrotask(()=>n()),()=>{n=Sf}}var cw="isAngularZone",bg=cw+"_ID",Lq=0,fe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=QO}=e;if(typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,jq(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(cw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new X(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,kq,Sf,Sf);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},kq={};function uw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Vq(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){t1(()=>{n.callbackScheduled=!1,db(n),n.isCheckStableRunning=!0,uw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),db(n)}function jq(n){let e=()=>{Vq(n)},t=Lq++;n._inner=n._inner.fork({name:"angular",properties:{[cw]:!0,[bg]:t,[bg+t]:!0},onInvokeTask:(i,r,o,s,l,u)=>{if(Bq(u))return i.invokeTask(o,s,l,u);try{return vA(n),i.invokeTask(o,s,l,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),EA(n)}},onInvoke:(i,r,o,s,l,u,d)=>{try{return vA(n),i.invoke(o,s,l,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Uq(u)&&e(),EA(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,db(n),uw(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function db(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function vA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EA(n){n._nesting--,uw(n)}var fb=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function Bq(n){return n1(n,"__ignore_ng_zone__")}function Uq(n){return n1(n,"__scheduler_tick__")}function n1(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Hq=new F("",{providedIn:"root",factory:()=>{let n=C(fe),e=C(pi);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function bA(n,e){return qA(n,e)}function zq(n){return qA($A,n)}var i1=(bA.required=zq,bA);function Gq(){return fu(mi(),nt())}function fu(n,e){return new Fe(Eo(n,e))}var Fe=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Gq}return n})();function r1(n){return n instanceof Fe?n.nativeElement:n}function hu(n){return typeof n=="function"&&n[Si]!==void 0}function wo(n,e){let t=bE(n,e?.equal),i=t[Si];return t.set=r=>cf(i,r),t.update=r=>wE(i,r),t.asReadonly=Wq.bind(t),t}function Wq(){let n=this[Si];if(n.readonlyFn===void 0){let e=()=>this();e[Si]=n,n.readonlyFn=e}return n.readonlyFn}function o1(n){return hu(n)&&typeof n.set=="function"}function $q(){return this._results[Symbol.iterator]()}var Ea=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new K}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=A4(e);(this._changesDetected=!R4(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=$q};function s1(n){return(n.flags&128)===128}var a1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(a1||{}),l1=new Map,qq=0;function Yq(){return qq++}function Xq(n){l1.set(n[kg],n)}function hb(n){l1.delete(n[kg])}var wA="__ngContext__";function Pf(n,e){ya(e)?(n[wA]=e[kg],Xq(e)):n[wA]=e}function c1(n){return d1(n[xf])}function u1(n){return d1(n[$r])}function d1(n){for(;n!==null&&!vs(n);)n=n[$r];return n}var pb;function f1(n){pb=n}function Zq(){if(pb!==void 0)return pb;if(typeof document<"u")return document;throw new X(210,!1)}var Vl=new F("",{providedIn:"root",factory:()=>Kq}),Kq="ng",dw=new F(""),bs=new F("",{providedIn:"platform",factory:()=>"unknown"});var Co=new F(""),Ff=new F("",{providedIn:"root",factory:()=>Zq().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Qq="h",Jq="b";var h1=!1,eY=new F("",{providedIn:"root",factory:()=>h1});var fw=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(fw||{}),pu=new F(""),CA=new Set;function Lf(n){CA.has(n)||(CA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var hw=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=tY}return n})();function tY(){return new hw(nt(),mi())}var Kc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Kc||{}),p1=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),nY=[Kc.EarlyRead,Kc.Write,Kc.MixedReadWrite,Kc.Read],iY=(()=>{class n{ngZone=C(fe);scheduler=C(Fl);errorHandler=C(pi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(pu,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ct(16),this.executing=!0;for(let i of nY)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ct(17)}register(t){let{view:i}=t;i!==void 0?((i[Jc]??=[]).push(t),cu(i),i[Se]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(fw.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),mb=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Jc];e&&(this.view[Jc]=e.filter(t=>t!==this))}};function kf(n,e){!e?.injector&&Of(kf);let t=e?.injector??C(lt);return Lf("NgAfterRender"),m1(n,t,e,!1)}function Yr(n,e){!e?.injector&&Of(Yr);let t=e?.injector??C(lt);return Lf("NgAfterNextRender"),m1(n,t,e,!0)}function rY(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function m1(n,e,t,i){let r=e.get(p1);r.impl??=e.get(iY);let o=e.get(pu,null,{optional:!0}),s=t?.phase??Kc.MixedReadWrite,l=t?.manualCleanup!==!0?e.get(bo):null,u=e.get(hw,null,{optional:!0}),d=new mb(r.impl,rY(n,s),u?.view,i,l,o?.snapshot(null));return r.impl.register(d),d}var oY=()=>null;function g1(n,e,t=!1){return oY(n,e,t)}function _1(n,e){let t=n.contentQueries;if(t!==null){let i=Ke(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let l=n.data[s];jg(o),l.contentQueries(2,e[s],s)}}}finally{Ke(i)}}}function gb(n,e,t){jg(0);let i=Ke(null);try{e(n,t)}finally{Ke(i)}}function y1(n,e,t){if(hO(e)){let i=Ke(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let l=n.data[s];if(l.contentQueries){let u=t[s];l.contentQueries(1,u,s)}}}finally{Ke(i)}}}var vo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vo||{}),Xm;function sY(){if(Xm===void 0&&(Xm=null,rg.trustedTypes))try{Xm=rg.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xm}function Hg(n){return sY()?.createHTML(n)||n}var ms=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${GA})`}},_b=class extends ms{getTypeName(){return"HTML"}},yb=class extends ms{getTypeName(){return"Style"}},vb=class extends ms{getTypeName(){return"Script"}},Eb=class extends ms{getTypeName(){return"URL"}},bb=class extends ms{getTypeName(){return"ResourceURL"}};function xa(n){return n instanceof ms?n.changingThisBreaksApplicationSecurity:n}function mu(n,e){let t=aY(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${GA})`)}return t===e}function aY(n){return n instanceof ms&&n.getTypeName()||null}function v1(n){return new _b(n)}function E1(n){return new yb(n)}function b1(n){return new vb(n)}function w1(n){return new Eb(n)}function C1(n){return new bb(n)}function lY(n){let e=new Cb(n);return cY()?new wb(e):e}var wb=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Hg(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Cb=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Hg(e),t}};function cY(){try{return!!new window.DOMParser().parseFromString(Hg(""),"text/html")}catch{return!1}}var uY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pw(n){return n=String(n),n.match(uY)?n:"unsafe:"+n}function ws(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Vf(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var x1=ws("area,br,col,hr,img,wbr"),I1=ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),D1=ws("rp,rt"),dY=Vf(D1,I1),fY=Vf(I1,ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hY=Vf(D1,ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xA=Vf(x1,fY,hY,dY),S1=ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pY=ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mY=ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gY=Vf(S1,pY,mY),_Y=ws("script,style,template"),xb=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=EY(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=vY(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=IA(e).toLowerCase();if(!xA.hasOwnProperty(t))return this.sanitizedSomething=!0,!_Y.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,l=s.toLowerCase();if(!gY.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let u=o.value;S1[l]&&(u=pw(u)),this.buf.push(" ",s,'="',DA(u),'"')}return this.buf.push(">"),!0}endElement(e){let t=IA(e).toLowerCase();xA.hasOwnProperty(t)&&!x1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(DA(e))}};function yY(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function vY(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw T1(e);return e}function EY(n){let e=n.firstChild;if(e&&yY(n,e))throw T1(e);return e}function IA(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function T1(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var bY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wY=/([^\#-~ |!])/g;function DA(n){return n.replace(/&/g,"&amp;").replace(bY,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(wY,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Zm;function M1(n,e){let t=null;try{Zm=Zm||lY(n);let i=e?String(e):"";t=Zm.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Zm.getInertBodyElement(i)}while(i!==o);let l=new xb().sanitizeChildren(SA(t)||t);return Hg(l)}finally{if(t){let i=SA(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function SA(n){return"content"in n&&CY(n)?n.content:null}function CY(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ni=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ni||{});function R1(n){return n instanceof Function?n():n}function xY(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var A1="ng-template";function IY(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&xY(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(mw(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function mw(n){return n.type===4&&n.value!==A1}function DY(n,e,t){let i=n.type===4&&!t?A1:n.value;return e===i}function SY(n,e,t){let i=4,r=n.attrs,o=r!==null?RY(r):0,s=!1;for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="number"){if(!s&&!Gr(i)&&!Gr(u))return!1;if(s&&Gr(u))continue;s=!1,i=u|i&1;continue}if(!s)if(i&4){if(i=2|i&1,u!==""&&!DY(n,u,t)||u===""&&e.length===1){if(Gr(i))return!1;s=!0}}else if(i&8){if(r===null||!IY(n,r,u,t)){if(Gr(i))return!1;s=!0}}else{let d=e[++l],h=TY(u,r,mw(n),t);if(h===-1){if(Gr(i))return!1;s=!0;continue}if(d!==""){let p;if(h>o?p="":p=r[h+1].toLowerCase(),i&2&&d!==p){if(Gr(i))return!1;s=!0}}}}return Gr(i)||s}function Gr(n){return(n&1)===0}function TY(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return AY(e,n)}function O1(n,e,t=!1){for(let i=0;i<e.length;i++)if(SY(n,e[i],t))return!0;return!1}function MY(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function RY(n){for(let e=0;e<n.length;e++){let t=n[e];if(BO(t))return e}return n.length}function AY(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function OY(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function TA(n,e){return n?":not("+e.trim()+")":e}function NY(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let l=n[++t];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Gr(s)&&(e+=TA(o,r),r=""),i=s,o=o||!Gr(i);t++}return r!==""&&(e+=TA(o,r)),e}function PY(n){return n.map(NY).join(",")}function FY(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!Gr(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var xo={};function LY(n,e){return n.createText(e)}function kY(n,e,t){n.setValue(e,t)}function N1(n,e,t){return n.createElement(e,t)}function wg(n,e,t,i,r){n.insertBefore(e,t,i,r)}function P1(n,e,t){n.appendChild(e,t)}function MA(n,e,t,i,r){i!==null?wg(n,e,t,i,r):P1(n,e,t)}function VY(n,e,t){n.removeChild(null,e,t)}function jY(n,e,t){n.setAttribute(e,"style",t)}function BY(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function F1(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&Cq(n,e,i),r!==null&&BY(n,e,r),o!==null&&jY(n,e,o)}function gw(n,e,t,i,r,o,s,l,u,d,h){let p=kn+i,g=p+r,_=UY(p,g),v=typeof d=="function"?d():d;return _[Be]={type:n,blueprint:_,template:t,queries:null,viewQuery:l,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:v,incompleteFirstPass:!1,ssrId:h}}function UY(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:xo);return t}function HY(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=gw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function _w(n,e,t,i,r,o,s,l,u,d,h){let p=e.blueprint.slice();return p[ys]=r,p[Se]=i|4|128|8|64|1024,(d!==null||n&&n[Se]&2048)&&(p[Se]|=2048),bO(p),p[Yn]=p[au]=n,p[hi]=t,p[va]=s||n&&n[va],p[Jt]=l||n&&n[Jt],p[iu]=u||n&&n[iu]||null,p[Oi]=o,p[kg]=Yq(),p[Cf]=h,p[dO]=d,p[Er]=e.type==2?n[Er]:p,p}function zY(n,e,t){let i=Eo(e,n),r=HY(t),o=n[va].rendererFactory,s=yw(n,_w(n,r,null,L1(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function L1(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function k1(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function yw(n,e){return n[xf]?n[dA][$r]=e:n[xf]=e,n[dA]=e,e}function Me(n=1){V1(ln(),nt(),kl()+n,!1)}function V1(n,e,t,i){if(!i)if((e[Se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Jm(e,o,t)}else{let o=n.preOrderHooks;o!==null&&eg(e,o,0,t)}Nl(t)}var zg=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(zg||{});function Ib(n,e,t,i){let r=Ke(null);try{let[o,s,l]=n.inputs[t],u=null;(s&zg.SignalBased)!==0&&(u=e[o][Si]),u!==null&&u.transformFn!==void 0?i=u.transformFn(i):l!==null&&(i=l.call(e,i)),n.setInput!==null?n.setInput(e,u,i,t,o):pO(e,u,o,i)}finally{Ke(r)}}function j1(n,e,t,i,r){let o=kl(),s=i&2;try{Nl(-1),s&&e.length>kn&&V1(n,e,kn,!1),Ct(s?2:0,r),t(i,r)}finally{Nl(o),Ct(s?3:1,r)}}function vw(n,e,t){XY(n,e,t),(t.flags&64)===64&&ZY(n,e,t)}function B1(n,e,t=Eo){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],l=s===-1?t(e,n):n[s];n[r++]=l}}}function GY(n,e,t,i){let o=i.get(eY,h1)||t===vo.ShadowDom,s=n.selectRootElement(e,o);return WY(s),s}function WY(n){$Y(n)}var $Y=()=>null;function qY(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Ew(n,e,t,i,r,o,s,l){if(!l&&bw(e,n,t,i,r)){lu(e)&&YY(t,e.index);return}if(e.type&3){let u=Eo(e,t);i=qY(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(u,i,r)}else e.type&12}function YY(n,e){let t=yo(e,n);t[Se]&16||(t[Se]|=64)}function XY(n,e,t){let i=t.directiveStart,r=t.directiveEnd;lu(t)&&zY(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||yg(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let l=n.data[s],u=Df(e,n,s,t);if(Pf(u,e),o!==null&&e8(e,s-i,u,l,t,o),go(l)){let d=yo(t.index,e);d[hi]=Df(e,n,s,t)}}}function ZY(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=pq();try{Nl(o);for(let l=i;l<r;l++){let u=n.data[l],d=e[l];sb(l),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&KY(u,d)}}finally{Nl(-1),sb(s)}}function KY(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function U1(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];O1(e,o.selectors,!1)&&(i??=[],go(o)?i.unshift(o):i.push(o))}return i}function QY(n,e,t,i,r,o){let s=Eo(n,e);JY(e[Jt],s,o,n.value,t,i,r)}function JY(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let l=s==null?qb(o):s(o,i||"",r);n.setAttribute(e,r,l,t)}}function e8(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let l=0;l<s.length;l+=2){let u=s[l],d=s[l+1];Ib(i,t,u,d)}}function t8(n,e){let t=n[iu],i=t?t.get(pi,null):null;i&&i.handleError(e)}function bw(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],l=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],h=s[u+1],p=e.data[d];Ib(p,t[d],h,r),l=!0}if(o)for(let u of o){let d=t[u],h=e.data[u];Ib(h,d,i,r),l=!0}return l}function n8(n,e){let t=yo(e,n),i=t[Be];i8(i,t);let r=t[ys];r!==null&&t[Cf]===null&&(t[Cf]=g1(r,t[iu])),Ct(18),ww(i,t,t[hi]),Ct(19,t[hi])}function i8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ww(n,e,t){rw(e);try{let i=n.viewQuery;i!==null&&gb(1,i,t);let r=n.template;r!==null&&j1(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ps]?.finishViewCreation(n),n.staticContentQueries&&_1(n,e),n.staticViewQueries&&gb(2,n.viewQuery,t);let o=n.components;o!==null&&r8(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Se]&=-5,ow()}}function r8(n,e){for(let t=0;t<e.length;t++)n8(n,e[t])}function Cw(n,e,t,i){let r=Ke(null);try{let o=e.tView,l=n[Se]&4096?4096:16,u=_w(n,o,t,l,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=n[e.index];u[Ml]=d;let h=n[ps];return h!==null&&(u[ps]=h.createEmbeddedView(o)),ww(o,u,t),u}finally{Ke(r)}}function Cg(n,e){return!e||e.firstChild===null||s1(n)}var o8;function xw(n,e){return o8(n,e)}var gs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(gs||{});function Iw(n){return(n.flags&32)===32}function Qc(n,e,t,i,r){if(i!=null){let o,s=!1;vs(i)?o=i:ya(i)&&(s=!0,i=i[ys]);let l=_o(i);n===0&&t!==null?r==null?P1(e,t,l):wg(e,t,l,r||null,!0):n===1&&t!==null?wg(e,t,l,r||null,!0):n===2?VY(e,l,s):n===3&&e.destroyNode(l),o!=null&&m8(e,n,o,t,r)}}function s8(n,e){H1(n,e),e[ys]=null,e[Oi]=null}function a8(n,e,t,i,r,o){i[ys]=r,i[Oi]=e,Gg(n,i,t,1,r,o)}function H1(n,e){e[va].changeDetectionScheduler?.notify(9),Gg(n,e,e[Jt],2,null,null)}function l8(n){let e=n[xf];if(!e)return zE(n[Be],n);for(;e;){let t=null;if(ya(e))t=e[xf];else{let i=e[Ai];i&&(t=i)}if(!t){for(;e&&!e[$r]&&e!==n;)ya(e)&&zE(e[Be],e),e=e[Yn];e===null&&(e=n),ya(e)&&zE(e[Be],e),t=e&&e[$r]}e=t}}function Dw(n,e){let t=n[ru],i=t.indexOf(e);t.splice(i,1)}function Sw(n,e){if(Nf(e))return;let t=e[Jt];t.destroyNode&&Gg(n,e,t,3,null,null),l8(e)}function zE(n,e){if(Nf(e))return;let t=Ke(null);try{e[Se]&=-129,e[Se]|=256,e[vr]&&lf(e[vr]),u8(n,e),c8(n,e),e[Be].type===1&&e[Jt].destroy();let i=e[Ml];if(i!==null&&vs(e[Yn])){i!==e[Yn]&&Dw(i,e);let r=e[ps];r!==null&&r.detachView(n)}hb(e)}finally{Ke(t)}}function c8(n,e){let t=n.cleanup,i=e[ug];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let l=t[s+3];l>=0?i[l]():i[-l].unsubscribe(),s+=2}else{let l=i[t[s+1]];t[s].call(l)}i!==null&&(e[ug]=null);let r=e[_a];if(r!==null){e[_a]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}let o=e[Rl];if(o!==null){e[Rl]=null;for(let s of o)s.destroy()}}function u8(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Pl)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let l=r[o[s]],u=o[s+1];Ct(4,l,u);try{u.call(l)}finally{Ct(5,l,u)}}else{Ct(4,r,o);try{o.call(r)}finally{Ct(5,r,o)}}}}}function z1(n,e,t){return d8(n,e.parent,t)}function d8(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ys];if(lu(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===vo.None||r===vo.Emulated)return null}return Eo(i,t)}function G1(n,e,t){return h8(n,e,t)}function f8(n,e,t){return n.type&40?Eo(n,t):null}var h8=f8,RA;function Tw(n,e,t,i){let r=z1(n,i,e),o=e[Jt],s=i.parent||e[Oi],l=G1(s,i,e);if(r!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)MA(o,r,t[u],l,!1);else MA(o,r,t,l,!1);RA!==void 0&&RA(o,i,e,t,r)}function Ef(n,e){if(e!==null){let t=e.type;if(t&3)return Eo(e,n);if(t&4)return Db(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Ef(n,i);{let r=n[e.index];return vs(r)?Db(-1,r):_o(r)}}else{if(t&128)return Ef(n,e.next);if(t&32)return xw(e,n)()||_o(n[e.index]);{let i=W1(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ol(n[Er]);return Ef(r,i)}else return Ef(n,e.next)}}}return null}function W1(n,e){if(e!==null){let i=n[Er][Oi],r=e.projection;return i.projection[r]}return null}function Db(n,e){let t=Ai+n+1;if(t<e.length){let i=e[t],r=i[Be].firstChild;if(r!==null)return Ef(i,r)}return e[Al]}function Mw(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let l=i[t.index],u=t.type;if(s&&e===0&&(l&&Pf(_o(l),i),t.flags|=2),!Iw(t))if(u&8)Mw(n,e,t.child,i,r,o,!1),Qc(e,n,r,l,o);else if(u&32){let d=xw(t,i),h;for(;h=d();)Qc(e,n,r,h,o);Qc(e,n,r,l,o)}else u&16?$1(n,e,i,t,r,o):Qc(e,n,r,l,o);t=s?t.projectionNext:t.next}}function Gg(n,e,t,i,r,o){Mw(t,i,n.firstChild,e,r,o,!1)}function p8(n,e,t){let i=e[Jt],r=z1(n,t,e),o=t.parent||e[Oi],s=G1(o,t,e);$1(i,0,e,t,r,s)}function $1(n,e,t,i,r,o){let s=t[Er],u=s[Oi].projection[i.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let h=u[d];Qc(e,n,r,h,o)}else{let d=u,h=s[Yn];s1(i)&&(d.flags|=128),Mw(n,e,d,h,r,o,!0)}}function m8(n,e,t,i,r){let o=t[Al],s=_o(t);o!==s&&Qc(e,n,i,o,r);for(let l=Ai;l<t.length;l++){let u=t[l];Gg(u[Be],u,n,e,i,o)}}function g8(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:gs.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=gs.Important),n.setStyle(t,i,r,o))}}function xg(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(_o(o)),vs(o)&&_8(o,i);let s=t.type;if(s&8)xg(n,e,t.child,i);else if(s&32){let l=xw(t,e),u;for(;u=l();)i.push(u)}else if(s&16){let l=W1(e,t);if(Array.isArray(l))i.push(...l);else{let u=Ol(e[Er]);xg(u[Be],u,l,i,!0)}}t=r?t.projectionNext:t.next}return i}function _8(n,e){for(let t=Ai;t<n.length;t++){let i=n[t],r=i[Be].firstChild;r!==null&&xg(i[Be],i,r,e)}n[Al]!==n[ys]&&e.push(n[Al])}function q1(n){if(n[Jc]!==null){for(let e of n[Jc])e.impl.addSequence(e);n[Jc].length=0}}var Y1=[];function y8(n){return n[vr]??v8(n)}function v8(n){let e=Y1.pop()??Object.create(b8);return e.lView=n,e}function E8(n){n.lView[vr]!==n&&(n.lView=null,Y1.push(n))}var b8=xe(j({},kc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{cu(n.lView)},consumerOnSignalRead(){this.lView[vr]=this}});function w8(n){let e=n[vr]??Object.create(C8);return e.lView=n,e}var C8=xe(j({},kc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ol(n.lView);for(;e&&!X1(e[Be]);)e=Ol(e);e&&wO(e)},consumerOnSignalRead(){this.lView[vr]=this}});function X1(n){return n.type!==2}function Z1(n){if(n[Rl]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Rl])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[Se]&8192)}}var x8=100;function K1(n,e=!0,t=0){let r=n[va].rendererFactory,o=!1;o||r.begin?.();try{I8(n,t)}catch(s){throw e&&t8(n,s),s}finally{o||r.end?.()}}function I8(n,e){let t=MO();try{pg(!0),Sb(n,e);let i=0;for(;Vg(n);){if(i===x8)throw new X(103,!1);i++,Sb(n,1)}}finally{pg(t)}}function D8(n,e,t,i){if(Nf(e))return;let r=e[Se],o=!1,s=!1;rw(e);let l=!0,u=null,d=null;o||(X1(n)?(d=y8(e),u=af(d)):gE()===null?(l=!1,d=w8(e),u=af(d)):e[vr]&&(lf(e[vr]),e[vr]=null));try{bO(e),dq(n.bindingStartIndex),t!==null&&j1(n,e,t,2,i);let h=(r&3)===3;if(!o)if(h){let _=n.preOrderCheckHooks;_!==null&&Jm(e,_,null)}else{let _=n.preOrderHooks;_!==null&&eg(e,_,0,null),UE(e,0)}if(s||S8(e),Z1(e),Q1(e,0),n.contentQueries!==null&&_1(n,e),!o)if(h){let _=n.contentCheckHooks;_!==null&&Jm(e,_)}else{let _=n.contentHooks;_!==null&&eg(e,_,1),UE(e,1)}M8(n,e);let p=n.components;p!==null&&eN(e,p,0);let g=n.viewQuery;if(g!==null&&gb(2,g,i),!o)if(h){let _=n.viewCheckHooks;_!==null&&Jm(e,_)}else{let _=n.viewHooks;_!==null&&eg(e,_,2),UE(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[BE]){for(let _ of e[BE])_();e[BE]=null}o||(q1(e),e[Se]&=-73)}catch(h){throw o||cu(e),h}finally{d!==null&&(hm(d,u),l&&E8(d)),ow()}}function Q1(n,e){for(let t=c1(n);t!==null;t=u1(t))for(let i=Ai;i<t.length;i++){let r=t[i];J1(r,e)}}function S8(n){for(let e=c1(n);e!==null;e=u1(e)){if(!(e[Se]&2))continue;let t=e[ru];for(let i=0;i<t.length;i++){let r=t[i];wO(r)}}}function T8(n,e,t){Ct(18);let i=yo(e,n);J1(i,t),Ct(19,i[hi])}function J1(n,e){ew(n)&&Sb(n,e)}function Sb(n,e){let i=n[Be],r=n[Se],o=n[vr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&pm(o)),s||=!1,o&&(o.dirty=!1),n[Se]&=-9217,s)D8(i,n,i.template,n[hi]);else if(r&8192){Z1(n),Q1(n,1);let l=i.components;l!==null&&eN(n,l,1),q1(n)}}function eN(n,e,t){for(let i=0;i<e.length;i++)T8(n,e[i],t)}function M8(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Nl(~r);else{let o=r,s=t[++i],l=t[++i];hq(s,o);let u=e[o];Ct(24,u),l(2,u),Ct(25,u)}}}finally{Nl(-1)}}function Rw(n,e){let t=MO()?64:1088;for(n[va].changeDetectionScheduler?.notify(e);n;){n[Se]|=t;let i=Ol(n);if(fg(n)&&!i)return n;n=i}return null}function tN(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function R8(n,e){let t=Ai+e;if(t<n.length)return n[t]}function Aw(n,e,t,i=!0){let r=e[Be];if(O8(r,e,n,t),i){let s=Db(t,n),l=e[Jt],u=l.parentNode(n[Al]);u!==null&&a8(r,n[Oi],l,e,u,s)}let o=e[Cf];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function A8(n,e){let t=Ig(n,e);return t!==void 0&&Sw(t[Be],t),t}function Ig(n,e){if(n.length<=Ai)return;let t=Ai+e,i=n[t];if(i){let r=i[Ml];r!==null&&r!==n&&Dw(r,i),e>0&&(n[t-1][$r]=i[$r]);let o=lg(n,Ai+e);s8(i[Be],i);let s=o[ps];s!==null&&s.detachView(o[Be]),i[Yn]=null,i[$r]=null,i[Se]&=-129}return i}function O8(n,e,t,i){let r=Ai+i,o=t.length;i>0&&(t[r-1][$r]=e),i<o-Ai?(e[$r]=t[r],nO(t,Ai+i,e)):(t.push(e),e[$r]=null),e[Yn]=t;let s=e[Ml];s!==null&&t!==s&&nN(s,e);let l=e[ps];l!==null&&l.insertView(n),rb(e),e[Se]|=128}function nN(n,e){let t=n[ru],i=e[Yn];if(ya(i))n[Se]|=2;else{let r=i[Yn][Er];e[Er]!==r&&(n[Se]|=2)}t===null?n[ru]=[e]:t.push(e)}var Tf=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Be];return xg(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[hi]}set context(e){this._lView[hi]=e}get destroyed(){return Nf(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Yn];if(vs(e)){let t=e[dg],i=t?t.indexOf(this):-1;i>-1&&(Ig(e,i),lg(t,i))}this._attachedToViewContainer=!1}Sw(this._lView[Be],this._lView)}onDestroy(e){CO(this._lView,e)}markForCheck(){Rw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Se]&=-129}reattach(){rb(this._lView),this._lView[Se]|=128}detectChanges(){this._lView[Se]|=1024,K1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fg(this._lView),t=this._lView[Ml];t!==null&&!e&&Dw(t,this._lView),H1(this._lView[Be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e;let t=fg(this._lView),i=this._lView[Ml];i!==null&&!t&&nN(i,this._lView),rb(this._lView)}};var qr=(()=>{class n{static __NG_ELEMENT_ID__=F8}return n})(),N8=qr,P8=class extends N8{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Cw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Tf(r)}};function F8(){return Wg(mi(),nt())}function Wg(n,e){return n.type&4?new P8(e,n,fu(n,e)):null}function jf(n,e,t,i,r){let o=n.data[e];if(o===null)o=L8(n,e,t,i,r),fq()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=lq();o.injectorIndex=s===null?-1:s.injectorIndex}return uu(o,!0),o}function L8(n,e,t,i,r){let o=DO(),s=SO(),l=s?o:o&&o.parent,u=n.data[e]=V8(n,l,t,e,i,r);return k8(n,u,o,s),u}function k8(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function V8(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,l=0;return IO()&&(l|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lle=new RegExp(`^(\\d+)*(${Jq}|${Qq})*(.*)`);var j8=()=>null;function Dg(n,e){return j8(n,e)}var B8=class{},iN=class{},Tb=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ri(e)}.`)}},$g=class{static NULL=new Tb},Vn=class{},Qi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>U8()}return n})();function U8(){let n=nt(),e=mi(),t=yo(e.index,n);return(ya(t)?t:n)[Jt]}var H8=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var GE={},Mb=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Pg(i);let r=this.injector.get(e,GE,i);return r!==GE||t===GE?r:this.parentInjector.get(e,t,i)}};function AA(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")o=l;else if(o==1)r=KE(r,l);else if(o==2){let u=l,d=e[++s];i=KE(i,u+": "+d+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function ue(n,e=Ye.Default){let t=nt();if(t===null)return ie(n,e);let i=mi();return qO(i,t,di(n),e)}function rN(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let l,u=null,d=null,h=G8(s);h===null?l=s:[l,u,d]=h,q8(n,e,t,l,o,u,d)}o!==null&&i!==null&&z8(t,i,o)}function z8(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new X(-301,!1);i.push(e[r],o)}}function G8(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let l=n[s];if(s===0&&go(l)&&(e=l),l.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,W8(s,i,o,r)),s===e&&(i??=[],i.push(s));return i!==null?(i.push(...e===null?n:n.slice(1)),[i,r,o]):null}function W8(n,e,t,i){let r=e.length;n.findHostDirectiveDefs(n,e,i),t.set(n,[r,e.length-1])}function $8(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function q8(n,e,t,i,r,o,s){let l=i.length,u=!1;for(let g=0;g<l;g++){let _=i[g];!u&&go(_)&&(u=!0,$8(n,t,g)),lb(yg(t,e),n,_.type)}J8(t,n.data.length,l);for(let g=0;g<l;g++){let _=i[g];_.providersResolver&&_.providersResolver(_)}let d=!1,h=!1,p=k1(n,e,l,null);l>0&&(t.directiveToIndex=new Map);for(let g=0;g<l;g++){let _=i[g];if(t.mergedAttrs=If(t.mergedAttrs,_.hostAttrs),X8(n,t,e,p,_),Q8(p,_,r),s!==null&&s.has(_)){let[w,x]=s.get(_);t.directiveToIndex.set(_.type,[p,w+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,p);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let v=_.type.prototype;!d&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!h&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}Y8(n,t,o)}function Y8(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))OA(0,e,r,i),OA(1,e,r,i),PA(e,i,!1);else{let o=t.get(r);NA(0,e,o,i),NA(1,e,o,i),PA(e,i,!0)}}}function OA(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),oN(e,o)}}function NA(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],l;n===0?l=e.hostDirectiveInputs??={}:l=e.hostDirectiveOutputs??={},l[s]??=[],l[s].push(i,o),oN(e,s)}}function oN(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function PA(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||mw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,l=0;for(;l<i.length;){let u=i[l];if(u===0){l+=4;continue}else if(u===5){l+=2;continue}else if(typeof u=="number")break;if(!t&&r.hasOwnProperty(u)){let d=r[u];for(let h of d)if(h===e){s??=[],s.push(u,i[l+1]);break}}else if(t&&o.hasOwnProperty(u)){let d=o[u];for(let h=0;h<d.length;h+=2)if(d[h]===e){s??=[],s.push(d[h+1],i[l+1]);break}}l+=2}n.initialInputs??=[],n.initialInputs.push(s)}function X8(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Dl(r.type,!0)),s=new Pl(o,go(r),ue);n.blueprint[i]=s,t[i]=s,Z8(n,e,i,k1(n,t,r.hostVars,xo),r)}function Z8(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let l=~e.index;K8(s)!=l&&s.push(l),s.push(t,i,o)}}function K8(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Q8(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;go(e)&&(t[""]=n)}}function J8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sN(n,e,t,i,r,o,s,l){let u=e.consts,d=hg(u,s),h=jf(e,n,2,i,d);return o&&rN(e,t,h,hg(u,l),r),h.mergedAttrs=If(h.mergedAttrs,h.attrs),h.attrs!==null&&AA(h,h.attrs,!1),h.mergedAttrs!==null&&AA(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function aN(n,e){VO(n,e),hO(e)&&n.queries.elementEnd(e)}var Sg=class extends $g{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Tl(e);return new ou(t,this.ngModule)}};function e5(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&zg.SignalBased)!==0};return r&&(o.transform=r),o})}function t5(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function n5(n,e,t){let i=e instanceof fn?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Mb(t,i):t}function i5(n){let e=n.get(Vn,null);if(e===null)throw new X(407,!1);let t=n.get(H8,null),i=n.get(Fl,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i}}function r5(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return N1(e,t,t==="svg"?yO:t==="math"?K4:null)}var ou=class extends iN{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=e5(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=t5(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=PY(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r){Ct(22);let o=Ke(null);try{let s=this.componentDef,l=i?["ng-version","19.2.5"]:FY(this.componentDef.selectors[0]),u=gw(0,null,null,1,0,null,null,null,null,[l],null),d=n5(s,r||this.ngModule,e),h=i5(d),p=h.rendererFactory.createRenderer(null,s),g=i?GY(p,i,s.encapsulation,d):r5(s,p),_=_w(null,u,null,512|L1(s),null,null,h,p,d,null,g1(g,d,!0));_[kn]=g,rw(_);let v=null;try{let w=sN(kn,u,_,"#host",()=>[this.componentDef],!0,0);g&&(F1(p,g,w),Pf(g,_)),vw(u,_,w),y1(u,w,_),aN(u,w),t!==void 0&&o5(w,this.ngContentSelectors,t),v=yo(w.index,_),_[hi]=v[hi],ww(u,_,null)}catch(w){throw v!==null&&hb(v),hb(_),w}finally{Ct(23),ow()}return new Rb(this.componentType,_)}finally{Ke(o)}}},Rb=class extends B8{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Jb(t[Be],kn),this.location=fu(this._tNode,t),this.instance=yo(this._tNode.index,t)[hi],this.hostView=this.changeDetectorRef=new Tf(t,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=bw(i,r[Be],r,e,t);this.previousInputValues.set(e,t);let s=yo(i.index,r);Rw(s,1)}get injector(){return new Il(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function o5(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var gi=(()=>{class n{static __NG_ELEMENT_ID__=s5}return n})();function s5(){let n=mi();return cN(n,nt())}var a5=gi,lN=class extends a5{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return fu(this._hostTNode,this._hostLView)}get injector(){return new Il(this._hostTNode,this._hostLView)}get parentInjector(){let e=lw(this._hostTNode,this._hostLView);if(UO(e)){let t=gg(e,this._hostLView),i=mg(e),r=t[Be].data[i+8];return new Il(r,t)}else return new Il(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=FA(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ai}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Dg(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(l,r,Cg(this._hostTNode,s)),l}createComponent(e,t,i,r,o){let s=e&&!q4(e),l;if(s)l=t;else{let v=t||{};l=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let u=s?e:new ou(Tl(e)),d=i||this.parentInjector;if(!o&&u.ngModule==null){let w=(s?d:this.parentInjector).get(fn,null);w&&(o=w)}let h=Tl(u.componentType??{}),p=Dg(this._lContainer,h?.id??null),g=p?.firstChild??null,_=u.create(d,r,g,o);return this.insertImpl(_.hostView,l,Cg(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(J4(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let u=r[Yn],d=new lN(u,u[Oi],u[Yn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Aw(s,r,o,i),e.attachToViewContainerRef(),nO(WE(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=FA(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Ig(this._lContainer,t);i&&(lg(WE(this._lContainer),t),Sw(i[Be],i))}detach(e){let t=this._adjustIndex(e,-1),i=Ig(this._lContainer,t);return i&&lg(WE(this._lContainer),t)!=null?new Tf(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function FA(n){return n[dg]}function WE(n){return n[dg]||(n[dg]=[])}function cN(n,e){let t,i=e[n.index];return vs(i)?t=i:(t=tN(i,e,null,n),e[n.index]=t,yw(e,t)),c5(t,e,n,i),new lN(t,n,e)}function l5(n,e){let t=n[Jt],i=t.createComment(""),r=Eo(e,n),o=t.parentNode(r);return wg(t,o,i,t.nextSibling(r),!1),i}var c5=f5,u5=()=>!1;function d5(n,e,t){return u5(n,e,t)}function f5(n,e,t,i){if(n[Al])return;let r;t.type&8?r=_o(i):r=l5(e,t),n[Al]=r}var Ab=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ob=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),l=this.queries[s.indexInDeclarationView];r.push(l.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Nw(e,t).matches!==null&&this.queries[t].setDirty()}},Tg=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=y5(e):this.predicate=e}},Nb=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Pb=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,h5(t,o)),this.matchTNodeWithReadOption(e,t,tg(t,e,o,!1,!1))}else i===qr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,tg(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Fe||r===gi||r===qr&&t.type&4)this.addMatch(t.index,-2);else{let o=tg(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function h5(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function p5(n,e){return n.type&11?fu(n,e):n.type&4?Wg(n,e):null}function m5(n,e,t,i){return t===-1?p5(e,n):t===-2?g5(n,e,i):Df(n,n[Be],t,e)}function g5(n,e,t){if(t===Fe)return fu(e,n);if(t===qr)return Wg(e,n);if(t===gi)return cN(e,n)}function uN(n,e,t,i){let r=e[ps].queries[i];if(r.matches===null){let o=n.data,s=t.matches,l=[];for(let u=0;s!==null&&u<s.length;u+=2){let d=s[u];if(d<0)l.push(null);else{let h=o[d];l.push(m5(e,h,s[u+1],t.metadata.read))}}r.matches=l}return r.matches}function Fb(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=uN(n,e,r,t);for(let l=0;l<o.length;l+=2){let u=o[l];if(u>0)i.push(s[l/2]);else{let d=o[l+1],h=e[-u];for(let p=Ai;p<h.length;p++){let g=h[p];g[Ml]===g[Yn]&&Fb(g[Be],g,d,i)}if(h[ru]!==null){let p=h[ru];for(let g=0;g<p.length;g++){let _=p[g];Fb(_[Be],_,d,i)}}}}}return i}function Ow(n,e){return n[ps].queries[e].queryList}function dN(n,e,t){let i=new Ea((t&4)===4);return nq(n,e,i,i.destroy),(e[ps]??=new Ob).queries.push(new Ab(i))-1}function _5(n,e,t){let i=ln();return i.firstCreatePass&&(hN(i,new Tg(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),dN(i,nt(),e)}function fN(n,e,t,i){let r=ln();if(r.firstCreatePass){let o=mi();hN(r,new Tg(e,t,i),o.index),v5(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return dN(r,nt(),t)}function y5(n){return n.split(",").map(e=>e.trim())}function hN(n,e,t){n.queries===null&&(n.queries=new Nb),n.queries.track(new Pb(e,t))}function v5(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Nw(n,e){return n.queries.getByIndex(e)}function pN(n,e){let t=n[Be],i=Nw(t,e);return i.crossesNgTemplate?Fb(t,n,e,[]):uN(t,n,i,e)}function mN(n,e,t){let i,r=_m(()=>{i._dirtyCounter();let o=C5(i,n);if(e&&o===void 0)throw new X(-951,!1);return o});return i=r[Si],i._dirtyCounter=wo(0),i._flatValue=void 0,r}function E5(n){return mN(!0,!1,n)}function b5(n){return mN(!0,!0,n)}function w5(n,e){let t=n[Si];t._lView=nt(),t._queryIndex=e,t._queryList=Ow(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(i=>i+1))}function C5(n,e){let t=n._lView,i=n._queryIndex;if(t===void 0||i===void 0||t[Se]&4)return e?void 0:fi;let r=Ow(t,i),o=pN(t,i);return r.reset(o,r1),e?r.first:r._changesDetected||n._flatValue===void 0?n._flatValue=r.toArray():n._flatValue}function LA(n,e){return E5(e)}function x5(n,e){return b5(e)}var gN=(LA.required=x5,LA);var ba=class{},Pw=class{};var Lb=class extends ba{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Sg(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=oO(e);this._bootstrapComponents=R1(o.bootstrap),this._r3Injector=KO(e,t,[{provide:ba,useValue:this},{provide:$g,useValue:this.componentFactoryResolver},...i],Ri(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},kb=class extends Pw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Lb(this.moduleType,e,[])}};var Mg=class extends ba{injector;componentFactoryResolver=new Sg(this);instance=null;constructor(e){super();let t=new wf([...e.providers,{provide:ba,useValue:this},{provide:$g,useValue:this.componentFactoryResolver}],e.parent||Lg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qg(n,e,t=null){return new Mg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var I5=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=sO(!1,t.type),r=i.length>0?qg([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(ie(fn))})}return n})();function Xe(n){return Og(()=>{let e=yN(n),t=xe(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===a1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(I5).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vo.Emulated,styles:n.styles||fi,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Lf("NgStandalone"),vN(t);let i=n.dependencies;return t.directiveDefs=kA(i,!1),t.pipeDefs=kA(i,!0),t.id=R5(t),t})}function D5(n){return Tl(n)||F4(n)}function S5(n){return n!==null}function Je(n){return Og(()=>({type:n.type,bootstrap:n.bootstrap||fi,declarations:n.declarations||fi,imports:n.imports||fi,exports:n.exports||fi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function T5(n,e){if(n==null)return Sl;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,l,u;Array.isArray(r)?(l=r[0],o=r[1],s=r[2]??o,u=r[3]||null):(o=r,s=r,l=zg.None,u=null),t[o]=[i,l,u],e[o]=s}return t}function M5(n){if(n==null)return Sl;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ze(n){return Og(()=>{let e=yN(n);return vN(e),e})}function _N(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function yN(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Sl,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||fi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:T5(n.inputs,e),outputs:M5(n.outputs),debugInfo:null}}function vN(n){n.features?.forEach(e=>e(n))}function kA(n,e){if(!n)return null;let t=e?L4:D5;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(S5)}function R5(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function A5(n){return Object.getPrototypeOf(n.prototype).constructor}function Xr(n){let e=A5(n.type),t=!0,i=[n];for(;e;){let r;if(go(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=$E(n.inputs),s.declaredInputs=$E(n.declaredInputs),s.outputs=$E(n.outputs);let l=r.hostBindings;l&&L5(n,l);let u=r.viewQuery,d=r.contentQueries;if(u&&P5(n,u),d&&F5(n,d),O5(n,r),f4(n.outputs,r.outputs),go(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let l=o[s];l&&l.ngInherit&&l(n),l===Xr&&(t=!1)}}e=Object.getPrototypeOf(e)}N5(i)}function O5(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function N5(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=If(r.hostAttrs,t=If(t,r.hostAttrs))}}function $E(n){return n===Sl?{}:n===fi?[]:n}function P5(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function F5(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function L5(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function k5(n,e,t){return n[e]=t}function Cs(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function V5(n,e,t,i,r,o,s,l,u){let d=e.consts,h=jf(e,n,4,s||null,l||null);xO()&&rN(e,t,h,hg(d,u),U1),h.mergedAttrs=If(h.mergedAttrs,h.attrs),VO(e,h);let p=h.tView=gw(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function EN(n,e,t,i,r,o,s,l,u,d){let h=t+kn,p=e.firstCreatePass?V5(h,e,n,i,r,o,s,l,u):e.data[h];uu(p,!1);let g=j5(e,n,p,t);sw()&&Tw(e,n,g,p),Pf(g,n);let _=tN(g,n,g,p);return n[h]=_,yw(n,_),d5(_,p,n),Qb(p)&&vw(e,n,p),u!=null&&B1(n,p,d),p}function Tt(n,e,t,i,r,o,s,l){let u=nt(),d=ln(),h=hg(d.consts,o);return EN(u,d,n,e,t,i,r,h,s,l),Tt}var j5=B5;function B5(n,e,t,i){return aw(!0),e[Jt].createComment("")}var Fw=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var bN=new F("");var wN=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Vb})}return n})(),Vb=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ia(n){return!!n&&typeof n.then=="function"}function Lw(n){return!!n&&typeof n.subscribe=="function"}var kw=new F("");function CN(n){return _s([{provide:kw,multi:!0,useValue:n}])}var xN=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=C(kw,{optional:!0})??[];injector=C(lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Ki(this.injector,r);if(Ia(o))t.push(o);else if(Lw(o)){let s=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vw=new F("");function U5(){EE(()=>{throw new X(600,!1)})}function H5(n){return n.isBoundToModule}var z5=10;var Xn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(Hq);afterRenderManager=C(p1);zonelessEnabled=C(Ug);rootEffectScheduler=C(wN);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new K;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(Ca).hasPendingTasks.pipe(ne(t=>!t));constructor(){C(pu,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=C(fn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){Ct(10);let r=t instanceof iN;if(!this._injector.get(xN).done){let g="";throw new X(405,g)}let s;r?s=t:s=this._injector.get($g).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let l=H5(s)?void 0:this._injector.get(ba),u=i||s.selector,d=s.create(lt.NULL,[],u,l),h=d.location.nativeElement,p=d.injector.get(bN,null);return p?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ng(this.components,d),p?.unregisterApplication(h)}),this._loadComponent(d),Ct(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ct(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(fw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new X(101,!1);let t=Ke(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ke(t),this.afterTick.next(),Ct(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Vn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<z5;)Ct(14),this.synchronizeOnce(),Ct(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)G5(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Vg(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;ng(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Vw,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ng(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new X(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ng(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function G5(n,e,t,i){if(!t&&!Vg(n))return;K1(n,e,t&&!i?0:1)}function _i(n,e,t,i){let r=nt(),o=du();if(Cs(r,o,e)){let s=ln(),l=Bg();QY(l,r,n,e,t,i)}return _i}function W5(n,e,t,i){return Cs(n,du(),t)?e+qb(t)+i:xo}function Km(n,e){return n<<17|e<<2}function Ll(n){return n>>17&32767}function $5(n){return(n&2)==2}function q5(n,e){return n&131071|e<<17}function jb(n){return n|2}function su(n){return(n&131068)>>2}function qE(n,e){return n&-131069|e<<2}function Y5(n){return(n&1)===1}function Bb(n){return n|1}function X5(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,l=Ll(s),u=su(s);n[i]=t;let d=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Af(p,h)>0)&&(d=!0)}else h=t;if(r)if(u!==0){let g=Ll(n[l+1]);n[i+1]=Km(g,l),g!==0&&(n[g+1]=qE(n[g+1],i)),n[l+1]=q5(n[l+1],i)}else n[i+1]=Km(l,0),l!==0&&(n[l+1]=qE(n[l+1],i)),l=i;else n[i+1]=Km(u,0),l===0?l=i:n[u+1]=qE(n[u+1],i),u=i;d&&(n[i+1]=jb(n[i+1])),VA(n,h,i,!0),VA(n,h,i,!1),Z5(e,h,n,i,o),s=Km(l,u),o?e.classBindings=s:e.styleBindings=s}function Z5(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Af(o,e)>=0&&(t[i+1]=Bb(t[i+1]))}function VA(n,e,t,i){let r=n[t+1],o=e===null,s=i?Ll(r):su(r),l=!1;for(;s!==0&&(l===!1||o);){let u=n[s],d=n[s+1];K5(u,e)&&(l=!0,n[s+1]=i?Bb(d):jb(d)),s=i?Ll(d):su(d)}l&&(n[t+1]=i?jb(r):Bb(r))}function K5(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Af(n,e)>=0:!1}var Wr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Q5(n){return n.substring(Wr.key,Wr.keyEnd)}function J5(n){return eX(n),IN(n,DN(n,0,Wr.textEnd))}function IN(n,e){let t=Wr.textEnd;return t===e?-1:(e=Wr.keyEnd=tX(n,Wr.key=e,t),DN(n,e,t))}function eX(n){Wr.key=0,Wr.keyEnd=0,Wr.value=0,Wr.valueEnd=0,Wr.textEnd=n.length}function DN(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function tX(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function ft(n,e,t){let i=nt(),r=du();if(Cs(i,r,e)){let o=ln(),s=Bg();Ew(o,s,i,n,e,i[Jt],t,!1)}return ft}function Ub(n,e,t,i,r){bw(e,n,t,r?"class":"style",i)}function Pt(n,e){return iX(n,e,null,!0),Pt}function Yg(n){rX(uX,nX,n,!0)}function nX(n,e){for(let t=J5(e);t>=0;t=IN(e,t))Zb(n,Q5(e),!0)}function iX(n,e,t,i){let r=nt(),o=ln(),s=RO(2);if(o.firstUpdatePass&&TN(o,n,s,i),e!==xo&&Cs(r,s,e)){let l=o.data[kl()];MN(o,l,r,r[Jt],n,r[s+1]=fX(e,t),i,s)}}function rX(n,e,t,i){let r=ln(),o=RO(2);r.firstUpdatePass&&TN(r,null,o,i);let s=nt();if(t!==xo&&Cs(s,o,t)){let l=r.data[kl()];if(RN(l,i)&&!SN(r,o)){let u=i?l.classesWithoutHost:l.stylesWithoutHost;u!==null&&(t=KE(u,t||"")),Ub(r,l,s,t,i)}else dX(r,l,s,s[Jt],s[o+1],s[o+1]=cX(n,e,t),i,o)}}function SN(n,e){return e>=n.expandoStartIndex}function TN(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[kl()],s=SN(n,t);RN(o,i)&&e===null&&!s&&(e=!1),e=oX(r,o,e,i),X5(r,o,e,t,s,i)}}function oX(n,e,t,i){let r=mq(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=YE(null,n,e,t,i),t=Mf(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=YE(r,n,e,t,i),o===null){let u=sX(n,e,i);u!==void 0&&Array.isArray(u)&&(u=YE(null,n,e,u[1],i),u=Mf(u,e.attrs,i),aX(n,e,i,u))}else o=lX(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function sX(n,e,t){let i=t?e.classBindings:e.styleBindings;if(su(i)!==0)return n[Ll(i)]}function aX(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Ll(r)]=i}function lX(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Mf(i,s,t)}return Mf(i,e.attrs,t)}function YE(n,e,t,i,r){let o=null,s=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<s&&(o=e[l],i=Mf(i,o.hostAttrs,r),o!==n);)l++;return n!==null&&(t.directiveStylingLast=l),i}function Mf(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Zb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function cX(n,e,t){if(t==null||t==="")return fi;let i=[],r=xa(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function uX(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Zb(n,i,t)}function dX(n,e,t,i,r,o,s,l){r===xo&&(r=fi);let u=0,d=0,h=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<r.length?r[u+1]:void 0,_=d<o.length?o[d+1]:void 0,v=null,w;h===p?(u+=2,d+=2,g!==_&&(v=p,w=_)):p===null||h!==null&&h<p?(u+=2,v=h):(d+=2,v=p,w=_),v!==null&&MN(n,e,t,i,v,w,s,l),h=u<r.length?r[u]:null,p=d<o.length?o[d]:null}}function MN(n,e,t,i,r,o,s,l){if(!(e.type&3))return;let u=n.data,d=u[l+1],h=Y5(d)?jA(u,e,t,r,su(d),s):void 0;if(!Rg(h)){Rg(o)||$5(d)&&(o=jA(u,null,t,r,l,s));let p=vO(kl(),t);g8(i,s,p,r,o)}}function jA(n,e,t,i,r,o){let s=e===null,l;for(;r>0;){let u=n[r],d=Array.isArray(u),h=d?u[1]:u,p=h===null,g=t[r+1];g===xo&&(g=p?fi:void 0);let _=p?VE(g,i):h===i?g:void 0;if(d&&!Rg(_)&&(_=VE(u,i)),Rg(_)&&(l=_,s))return l;let v=n[r+1];r=s?Ll(v):su(v)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(l=VE(u,i))}return l}function Rg(n){return n!==void 0}function fX(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ri(xa(n)))),n}function RN(n,e){return(n.flags&(e?8:16))!==0}function Qn(n,e){Lf("NgControlFlow");let t=nt(),i=du(),r=t[i]!==xo?t[i]:-1,o=r!==-1?BA(t,kn+r):void 0,s=0;if(Cs(t,i,n)){let l=Ke(null);try{if(o!==void 0&&A8(o,s),n!==-1){let u=kn+n,d=BA(t,u),h=hX(t[Be],u),p=Dg(d,h.tView.ssrId),g=Cw(t,h,e,{dehydratedView:p});Aw(d,g,s,Cg(h,p))}}finally{Ke(l)}}else if(o!==void 0){let l=R8(o,s);l!==void 0&&(l[hi]=e)}}function BA(n,e){return n[e]}function hX(n,e){return Jb(n,e)}function Ee(n,e,t,i){let r=nt(),o=ln(),s=kn+n,l=r[Jt],u=o.firstCreatePass?sN(s,o,r,e,U1,xO(),t,i):o.data[s],d=pX(o,r,u,l,e,n);r[s]=d;let h=Qb(u);return uu(u,!0),F1(l,d,u),!Iw(u)&&sw()&&Tw(o,r,d,u),(iq()===0||h)&&Pf(d,r),rq(),h&&(vw(o,r,u),y1(o,u,r)),i!==null&&B1(r,u),Ee}function Re(){let n=mi();SO()?TO():(n=n.parent,uu(n,!1));let e=n;sq(e)&&aq(),oq();let t=ln();return t.firstCreatePass&&aN(t,e),e.classesWithoutHost!=null&&bq(e)&&Ub(t,e,nt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wq(e)&&Ub(t,e,nt(),e.stylesWithoutHost,!1),Re}function xt(n,e,t,i){return Ee(n,e,t,i),Re(),xt}var pX=(n,e,t,i,r,o)=>(aw(!0),N1(i,r,yq()));function Zr(){return nt()}function Bf(n,e,t){let i=nt(),r=du();if(Cs(i,r,e)){let o=ln(),s=Bg();Ew(o,s,i,n,e,i[Jt],t,!0)}return Bf}var Ag="en-US";var mX=Ag;function gX(n){typeof n=="string"&&(mX=n.toLowerCase().replace(/_/g,"-"))}function UA(n,e,t){return function i(r){if(r===Function)return t;let o=lu(n)?yo(n.index,e):e;Rw(o,5);let s=e[hi],l=HA(e,s,t,r),u=i.__ngNextListenerFn__;for(;u;)l=HA(e,s,u,r)&&l,u=u.__ngNextListenerFn__;return l}}function HA(n,e,t,i){let r=Ke(null);try{return Ct(6,e,t),t(i)!==!1}catch(o){return _X(n,o),!1}finally{Ct(7,e,t),Ke(r)}}function _X(n,e){let t=n[iu],i=t?t.get(pi,null):null;i&&i.handleError(e)}function zA(n,e,t,i,r,o){let s=e[t],l=e[Be],d=l.data[t].outputs[i],h=s[d],p=l.firstCreatePass?nw(l):null,g=tw(e),_=h.subscribe(o),v=g.length;g.push(o,_),p&&p.push(r,n.index,v,-(v+1))}var yX=(n,e,t)=>{};function $t(n,e,t,i){let r=nt(),o=ln(),s=mi();return AN(o,r,r[Jt],s,n,e,i),$t}function vX(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let l=e[ug],u=r[o+2];return l.length>u?l[u]:null}typeof s=="string"&&(o+=2)}return null}function AN(n,e,t,i,r,o,s){let l=Qb(i),d=n.firstCreatePass?nw(n):null,h=tw(e),p=!0;if(i.type&3||s){let g=Eo(i,e),_=s?s(g):g,v=h.length,w=s?D=>s(_o(D[i.index])):i.index,x=null;if(!s&&l&&(x=vX(n,e,r,i.index)),x!==null){let D=x.__ngLastListenerFn__||x;D.__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,p=!1}else{o=UA(i,e,o),yX(_,r,o);let D=t.listen(_,r,o);h.push(o,D),d&&d.push(r,w,v,v+1)}}else o=UA(i,e,o);if(p){let g=i.outputs?.[r],_=i.hostDirectiveOutputs?.[r];if(_&&_.length)for(let v=0;v<_.length;v+=2){let w=_[v],x=_[v+1];zA(i,e,w,x,r,o)}if(g&&g.length)for(let v of g)zA(i,e,v,r,r,o)}}function It(n=1){return _q(n)}function EX(n,e){let t=null,i=MY(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?O1(n,o,!0):OY(i,o))return r}return t}function xs(n){let e=nt()[Er][Oi];if(!e.projection){let t=n?n.length:1,i=e.projection=O4(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?EX(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Sn(n,e=0,t,i,r,o){let s=nt(),l=ln(),u=i?n+1:null;u!==null&&EN(s,l,u,i,r,o,null,t);let d=jf(l,kn+n,16,null,t||null);d.projection===null&&(d.projection=e),TO();let p=!s[Cf]||IO();s[Er][Oi].projection[d.projection]===null&&u!==null?bX(s,l,u):p&&!Iw(d)&&p8(l,s,d)}function bX(n,e,t){let i=kn+t,r=e.data[i],o=n[i],s=Dg(o,r.tView.ssrId),l=Cw(n,r,void 0,{dehydratedView:s});Aw(o,l,0,Cg(r,s))}function Io(n,e,t,i){fN(n,e,t,i)}function jn(n,e,t){_5(n,e,t)}function Ft(n){let e=nt(),t=ln(),i=iw();jg(i+1);let r=Nw(t,i);if(n.dirty&&Q4(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=pN(e,i);n.reset(o,r1),n.notifyOnChanges()}return!0}return!1}function Lt(){return Ow(nt(),iw())}function ON(n,e,t,i,r){w5(e,fN(n,t,i,r))}function NN(n=1){jg(iw()+n)}function PN(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function jl(n){let e=cq();return EO(e,kn+n)}function vn(n,e=""){let t=nt(),i=ln(),r=n+kn,o=i.firstCreatePass?jf(i,r,1,e,null):i.data[r],s=wX(i,t,o,e,n);t[r]=s,sw()&&Tw(i,t,s,o),uu(o,!1)}var wX=(n,e,t,i,r)=>(aw(!0),LY(e[Jt],i));function Is(n){return Uf("",n,""),Is}function Uf(n,e,t){let i=nt(),r=W5(i,n,e,t);return r!==xo&&CX(i,kl(),r),Uf}function CX(n,e,t){let i=vO(e,n);kY(n[Jt],i,t)}function jw(n,e,t){o1(e)&&(e=e());let i=nt(),r=du();if(Cs(i,r,e)){let o=ln(),s=Bg();Ew(o,s,i,n,e,i[Jt],t,!1)}return jw}function FN(n,e){let t=o1(n);return t&&n.set(e),t}function Bw(n,e){let t=nt(),i=ln(),r=mi();return AN(i,t,t[Jt],r,n,e),Bw}var xX={};function Uw(n){let e=ln(),t=nt(),i=n+kn,r=jf(e,i,128,null,null);return uu(r,!1),PN(e,t,i,xX),Uw}function IX(n,e,t){let i=ln();if(i.firstCreatePass){let r=go(n);Hb(t,i.data,i.blueprint,r,!0),Hb(e,i.data,i.blueprint,r,!1)}}function Hb(n,e,t,i,r){if(n=di(n),Array.isArray(n))for(let o=0;o<n.length;o++)Hb(n[o],e,t,i,r);else{let o=ln(),s=nt(),l=mi(),u=nu(n)?n:di(n.provide),d=cO(n),h=l.providerIndexes&1048575,p=l.directiveStart,g=l.providerIndexes>>20;if(nu(n)||!n.multi){let _=new Pl(d,r,ue),v=ZE(u,e,r?h:h+g,p);v===-1?(lb(yg(l,s),o,u),XE(o,n,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(_),s.push(_)):(t[v]=_,s[v]=_)}else{let _=ZE(u,e,h+g,p),v=ZE(u,e,h,h+g),w=_>=0&&t[_],x=v>=0&&t[v];if(r&&!x||!r&&!w){lb(yg(l,s),o,u);let D=TX(r?SX:DX,t.length,r,i,d);!r&&x&&(t[v].providerFactory=D),XE(o,n,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(D),s.push(D)}else{let D=LN(t[r?v:_],d,!r&&i);XE(o,n,_>-1?_:v,D)}!r&&i&&x&&t[v].componentProviders++}}}function XE(n,e,t,i){let r=nu(e),o=U4(e);if(r||o){let u=(o?di(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=d.indexOf(t);h===-1?d.push(t,[i,u]):d[h+1].push(i,u)}else d.push(t,u)}}}function LN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ZE(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function DX(n,e,t,i){return zb(this.multi,[])}function SX(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Df(t,t[Be],this.providerFactory.index,i);o=l.slice(0,s),zb(r,o);for(let u=s;u<l.length;u++)o.push(l[u])}else o=[],zb(r,o);return o}function zb(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function TX(n,e,t,i,r){let o=new Pl(n,t,ue);return o.multi=[],o.index=e,o.componentProviders=0,LN(o,r,i&&!t),o}function yi(n,e=[]){return t=>{t.providersResolver=(i,r)=>IX(i,r?r(n):n,e)}}function MX(n,e){let t=n[e];return t===xo?void 0:t}function RX(n,e,t,i,r,o){let s=e+t;return Cs(n,s,r)?k5(n,s+1,o?i.call(o,r):i(r)):MX(n,s+1)}function kN(n,e){let t=ln(),i,r=n+kn;t.firstCreatePass?(i=AX(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Dl(i.type,!0)),s,l=Mi(ue);try{let u=_g(!1),d=o();return _g(u),PN(t,nt(),r,d),d}finally{Mi(l)}}function AX(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function VN(n,e,t){let i=n+kn,r=nt(),o=EO(r,i);return OX(r,i)?RX(r,uq(),e,o.transform,t,o):o.transform(t)}function OX(n,e){return n[Be].data[e].pure}function Xg(n,e){return Wg(n,e)}var Rf=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Hw=new Rf("19.2.5"),Gb=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},jN=(()=>{class n{compileModuleSync(t){return new kb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=oO(t),o=R1(r.declarations).reduce((s,l)=>{let u=Tl(l);return u&&s.push(new ou(u)),s},[]);return new Gb(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NX=(()=>{class n{zone=C(fe);changeDetectionScheduler=C(Fl);applicationRef=C(Xn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PX=new F("",{factory:()=>!1});function BN({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new fe(xe(j({},HN()),{scheduleInRootZone:t})),[{provide:fe,useFactory:n},{provide:tu,multi:!0,useFactory:()=>{let i=C(NX,{optional:!0});return()=>i.initialize()}},{provide:tu,multi:!0,useFactory:()=>{let i=C(FX);return()=>{i.initialize()}}},e===!0?{provide:JO,useValue:!0}:[],{provide:e1,useValue:t??QO}]}function UN(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=BN({ngZoneFactory:()=>{let r=HN(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&Lf("NgZone_CoalesceEvent"),new fe(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return _s([{provide:PX,useValue:!0},{provide:Ug,useValue:!1},i])}function HN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var FX=(()=>{class n{subscription=new rt;initialized=!1;zone=C(fe);pendingTasks=C(Ca);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LX=(()=>{class n{appRef=C(Xn);taskService=C(Ca);ngZone=C(fe);zonelessEnabled=C(Ug);tracing=C(pu,{optional:!0});disableScheduling=C(JO,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new rt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(e1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fb||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?yA:t1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kX(){return typeof $localize<"u"&&$localize.locale||Ag}var zw=new F("",{providedIn:"root",factory:()=>C(zw,Ye.Optional|Ye.SkipSelf)||kX()});var Wb=new F(""),VX=new F("");function yf(n){return!n.moduleRef}function jX(n){let e=yf(n)?n.r3Injector:n.moduleRef.injector,t=e.get(fe);return t.run(()=>{yf(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(pi,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),yf(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Wb);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Wb);s.add(o),n.moduleRef.onDestroy(()=>{ng(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return UX(i,t,()=>{let o=e.get(xN);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(zw,Ag);if(gX(s||Ag),!e.get(VX,!0))return yf(n)?e.get(Xn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(yf(n)){let u=e.get(Xn);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return BX(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function BX(n,e){let t=n.injector.get(Xn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new X(-403,!1);e.push(n)}function UX(n,e,t){try{let i=t();return Ia(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var ig=null;function HX(n=[],e){return lt.create({name:e,providers:[{provide:Fg,useValue:"platform"},{provide:Wb,useValue:new Set([()=>ig=null])},...n]})}function zX(n=[]){if(ig)return ig;let e=HX(n);return ig=e,U5(),GX(e),e}function GX(n){let e=n.get(dw,null);Ki(n,()=>{e?.forEach(t=>t())})}function zN(){return!1}var En=(()=>{class n{static __NG_ELEMENT_ID__=WX}return n})();function WX(n){return $X(mi(),nt(),(n&16)===16)}function $X(n,e,t){if(lu(n)&&!t){let i=yo(n.index,e);return new Tf(i,i)}else if(n.type&175){let i=e[Er];return new Tf(i,e)}return null}function GN(n){Ct(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=zX(i),o=[BN({}),{provide:Fl,useExisting:LX},...t||[]],s=new Mg({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return jX({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ct(9)}}function Jn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function vi(n){return CE(n)}function Do(n,e){return _m(n,e?.equal)}var $b=class{[Si];constructor(e){this[Si]=e}destroy(){this[Si].destroy()}};function gu(n,e){!e?.injector&&Of(gu);let t=e?.injector??C(lt),i=e?.manualCleanup!==!0?t.get(bo):null,r,o=t.get(hw,null,{optional:!0}),s=t.get(Fl);return o!==null&&!e?.forceRoot?(r=XX(o.view,s,n),i instanceof Eg&&i._lView===o.view&&(i=null)):r=ZX(n,t.get(wN),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new $b(r)}var WN=xe(j({},kc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Sf,run(){if(this.dirty=!1,this.hasRun&&!pm(this))return;this.hasRun=!0;let n=i=>(this.cleanupFns??=[]).push(i),e=af(this),t=pg(!1);try{this.maybeCleanup(),this.fn(n)}finally{pg(t),hm(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),qX=xe(j({},WN),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){lf(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),YX=xe(j({},WN),{consumerMarkedDirty(){this.view[Se]|=8192,cu(this.view),this.notifier.notify(13)},destroy(){lf(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Rl]?.delete(this)}});function XX(n,e,t){let i=Object.create(YX);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=t,n[Rl]??=new Set,n[Rl].add(i),i.consumerMarkedDirty(i),i}function ZX(n,e,t){let i=Object.create(qX);return i.fn=n,i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.schedule(i),i.notifier.notify(12),i}function Zg(n,e){let t=Tl(n),i=e.elementInjector||Lg();return new ou(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var Ie=new F("");var YN=null;function wr(){return YN}function Gw(n){YN??=n}var Hf=class{},Ww=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>C(XN),providedIn:"platform"})}return n})();var XN=(()=>{class n extends Ww{_location;_history;_doc=C(Ie);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(t){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ZN(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function $N(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Da(n){return n&&n[0]!=="?"?`?${n}`:n}var Kg=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>C(QN),providedIn:"root"})}return n})(),KN=new F(""),QN=(()=>{class n extends Kg{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??C(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ZN(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Da(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Da(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Da(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(ie(Ww),ie(KN,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sa=(()=>{class n{_subject=new K;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=JX($N(qN(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Da(i))}normalize(t){return n.stripTrailingSlash(QX(this._basePath,qN(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Da(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Da(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Da;static joinWithSlash=ZN;static stripTrailingSlash=$N;static \u0275fac=function(i){return new(i||n)(ie(Kg))};static \u0275prov=H({token:n,factory:()=>KX(),providedIn:"root"})}return n})();function KX(){return new Sa(ie(Kg))}function QX(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function qN(n){return n.replace(/\/index.html$/,"")}function JX(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var $w=/\s+/,JN=[],Xw=(()=>{class n{_ngEl;_renderer;initialClasses=JN;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split($w):JN}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split($w):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split($w).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(ue(Fe),ue(Qi))};static \u0275dir=Ze({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ds=(()=>{class n{_viewContainer;_context=new Qg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){eP(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){eP(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(ue(gi),ue(qr))};static \u0275dir=Ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Qg=class{$implicit=null;ngIf=null};function eP(n,e){if(n&&!n.createEmbeddedView)throw new X(2020,!1)}var Zw=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(ue(gi))};static \u0275dir=Ze({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[br]})}return n})();function tZ(n,e){return new X(2100,!1)}var qw=class{createSubscription(e,t){return vi(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){vi(()=>e.unsubscribe())}},Yw=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},nZ=new Yw,iZ=new qw,Kw=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Ia(t))return nZ;if(Lw(t))return iZ;throw tZ(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||n)(ue(En,16))};static \u0275pipe=_N({name:"async",type:n,pure:!1})}return n})();var So=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({})}return n})();function zf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Jg="browser",tP="server";function Qw(n){return n===Jg}function e_(n){return n===tP}var Bl=class{};var r_=new F(""),nC=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(ie(r_),ie(fe))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Gf=class{_doc;constructor(e){this._doc=e}manager},n_="ng-app-id";function nP(n){for(let e of n)e.remove()}function iP(n,e){let t=e.createElement("style");return t.textContent=n,t}function oZ(n,e,t,i){let r=n.head?.querySelectorAll(`style[${n_}="${e}"],link[${n_}="${e}"]`);if(r)for(let o of r)o.removeAttribute(n_),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function eC(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var iC=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=e_(o),oZ(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,iP);i?.forEach(r=>this.addUsage(r,this.external,eC))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(nP(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])nP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,iP(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,eC(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(n_,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ie(Ie),ie(Vl),ie(Ff,8),ie(bs))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rC=/%COMP%/g;var oP="%COMP%",sZ=`_nghost-${oP}`,aZ=`_ngcontent-${oP}`,lZ=!0,cZ=new F("",{providedIn:"root",factory:()=>lZ});function uZ(n){return aZ.replace(rC,n)}function dZ(n){return sZ.replace(rC,n)}function sP(n,e){return e.map(t=>t.replace(rC,n))}var oC=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,l,u,d=null,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=u,this.nonce=d,this.tracingService=h,this.platformIsServer=e_(l),this.defaultRenderer=new Wf(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vo.ShadowDom&&(i=xe(j({},i),{encapsulation:vo.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof i_?r.applyToHost(t):r instanceof $f&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,l=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(i.encapsulation){case vo.Emulated:o=new i_(u,d,i,this.appId,h,s,l,p,g);break;case vo.ShadowDom:return new tC(u,d,t,i,s,l,this.nonce,p,g);default:o=new $f(u,d,i,h,s,l,p,g);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(ie(nC),ie(iC),ie(Vl),ie(cZ),ie(Ie),ie(bs),ie(fe),ie(Ff),ie(pu,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Wf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Jw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(rP(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(rP(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new X(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Jw[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Jw[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(gs.DashCase|gs.Important)?e.style.setProperty(t,i,r&gs.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&gs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=wr().getGlobalEventTarget(this.doc,e),!e))throw new X(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function rP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tC=class extends Wf{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,l,u,d){super(e,o,s,u,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=sP(r.id,h);for(let g of h){let _=document.createElement("style");l&&_.setAttribute("nonce",l),_.textContent=g,this.shadowRoot.appendChild(_)}let p=r.getExternalStyles?.();if(p)for(let g of p){let _=eC(g,o);l&&_.setAttribute("nonce",l),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$f=class extends Wf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,l,u,d){super(e,o,s,l,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let h=i.styles;this.styles=d?sP(d,h):h,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},i_=class extends $f{contentAttr;hostAttr;constructor(e,t,i,r,o,s,l,u,d){let h=r+"-"+i.id;super(e,t,i,o,s,l,u,d,h),this.contentAttr=uZ(h),this.hostAttr=dZ(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var sC=class extends Hf{supportsDOMEvents=!0},o_=class n extends sC{static makeCurrent(){Gw(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=fZ();return t==null?null:hZ(t)}resetBaseElement(){qf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zf(document.cookie,e)}},qf=null;function fZ(){return qf=qf||document.querySelector("base"),qf?qf.getAttribute("href"):null}function hZ(n){return new URL(n,document.baseURI).pathname}var pZ=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),lP=(()=>{class n extends Gf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(ie(Ie))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),aP=["alt","control","meta","shift"],mZ={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},cP=(()=>{class n extends Gf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(t,s.domEventName,l,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),s="code."),aP.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(t,i){let r=mZ[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),aP.forEach(s=>{if(s!==r){let l=gZ[s];l(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(ie(Ie))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function aC(n,e){return GN(j({rootComponent:n},_Z(e)))}function _Z(n){return{appProviders:[...wZ,...n?.providers??[]],platformProviders:bZ}}function yZ(){o_.makeCurrent()}function vZ(){return new pi}function EZ(){return f1(document),document}var bZ=[{provide:bs,useValue:Jg},{provide:dw,useValue:yZ,multi:!0},{provide:Ie,useFactory:EZ}];var wZ=[{provide:Fg,useValue:"root"},{provide:pi,useFactory:vZ},{provide:r_,useClass:lP,multi:!0,deps:[Ie]},{provide:r_,useClass:cP,multi:!0,deps:[Ie]},oC,iC,nC,{provide:Vn,useExisting:oC},{provide:Bl,useClass:pZ},[]];var yu=class{},vu=class{},To=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var l_=class{encodeKey(e){return uP(e)}encodeValue(e){return uP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function CZ(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],u=t.get(s)||[];u.push(l),t.set(s,u)}),t}var xZ=/%(\d[a-f0-9])/gi,IZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uP(n){return encodeURIComponent(n).replace(xZ,(e,t)=>IZ[t]??e)}function s_(n){return`${n}`}var Ts=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new l_,e.fromString){if(e.fromObject)throw new X(2805,!1);this.map=CZ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(s_):[s_(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(s_(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(s_(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var c_=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function DZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function fP(n){return typeof Blob<"u"&&n instanceof Blob}function hP(n){return typeof FormData<"u"&&n instanceof FormData}function SZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Yf="Content-Type",u_="Accept",fC="X-Request-URL",mP="text/plain",gP="application/json",_P=`${gP}, ${mP}, */*`,_u=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(DZ(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new To,this.context??=new c_,!this.params)this.params=new Ts,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),u=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dP(this.body)||fP(this.body)||hP(this.body)||SZ(this.body)?this.body:this.body instanceof Ts?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hP(this.body)?null:fP(this.body)?this.body.type||null:dP(this.body)?null:typeof this.body=="string"?mP:this.body instanceof Ts?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?gP:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),h)),new n(t,i,s,{params:h,headers:d,context:p,reportProgress:u,responseType:r,withCredentials:l,transferCache:o})}},Ms=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ms||{}),Eu=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new To,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xf=class n extends Eu{constructor(e={}){super(e)}type=Ms.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bu=class n extends Eu{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ms.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ss=class extends Eu{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yP=200,TZ=204;function lC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var wu=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof _u)o=t;else{let u;r.headers instanceof To?u=r.headers:u=new To(r.headers);let d;r.params&&(r.params instanceof Ts?d=r.params:d=new Ts({fromObject:r.params})),o=new _u(t,i,r.body!==void 0?r.body:null,{headers:u,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=ce(o).pipe(ha(u=>this.handler.handle(u)));if(t instanceof _u||r.observe==="events")return s;let l=s.pipe(yt(u=>u instanceof bu));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new X(2806,!1);return u.body}));case"blob":return l.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new X(2807,!1);return u.body}));case"text":return l.pipe(ne(u=>{if(u.body!==null&&typeof u.body!="string")throw new X(2808,!1);return u.body}));case"json":default:return l.pipe(ne(u=>u.body))}case"response":return l;default:throw new X(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Ts().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,lC(r,i))}post(t,i,r={}){return this.request("POST",t,lC(r,i))}put(t,i,r={}){return this.request("PUT",t,lC(r,i))}static \u0275fac=function(i){return new(i||n)(ie(yu))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),MZ=/^\)\]\}',?\n/;function pP(n){if(n.url)return n.url;let e=fC.toLocaleLowerCase();return n.headers.get(e)}var vP=new F(""),a_=(()=>{class n{fetchImpl=C(cC,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=C(fe);handle(t){return new de(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(uC,o=>i.error(new Ss({error:o}))),()=>r.abort()})}doRequest(t,i,r){return gl(this,null,function*(){let o=this.createRequestInit(t),s;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,j({signal:i},o)));RZ(_),r.next({type:Ms.Sent}),s=yield _}catch(_){r.error(new Ss({error:_,status:_.status??0,statusText:_.statusText,url:t.urlWithParams,headers:_.headers}));return}let l=new To(s.headers),u=s.statusText,d=pP(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&r.next(new Xf({headers:l,status:h,statusText:u,url:d})),s.body){let _=s.headers.get("content-length"),v=[],w=s.body.getReader(),x=0,D,T,A=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>gl(this,null,function*(){for(;;){let{done:N,value:U}=yield w.read();if(N)break;if(v.push(U),x+=U.length,t.reportProgress){T=t.responseType==="text"?(T??"")+(D??=new TextDecoder).decode(U,{stream:!0}):void 0;let G=()=>r.next({type:Ms.DownloadProgress,total:_?+_:void 0,loaded:x,partialText:T});A?A.run(G):G()}}}));let O=this.concatChunks(v,x);try{let N=s.headers.get(Yf)??"";p=this.parseBody(t,O,N)}catch(N){r.error(new Ss({error:N,headers:new To(s.headers),status:s.status,statusText:s.statusText,url:pP(s)??t.urlWithParams}));return}}h===0&&(h=p?yP:0),h>=200&&h<300?(r.next(new bu({body:p,headers:l,status:h,statusText:u,url:d})),r.complete()):r.error(new Ss({error:p,headers:l,status:h,statusText:u,url:d}))})}parseBody(t,i,r){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(MZ,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has(u_)||(i[u_]=_P),!t.headers.has(Yf)){let o=t.detectContentTypeHeader();o!==null&&(i[Yf]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),cC=class{};function uC(){}function RZ(n){n.then(uC,uC)}function AZ(n,e){return e(n)}function OZ(n,e,t){return(i,r)=>Ki(t,()=>e(i,o=>n(o,r)))}var EP=new F(""),bP=new F(""),wP=new F("",{providedIn:"root",factory:()=>!0});var d_=(()=>{class n extends yu{backend;injector;chain=null;pendingTasks=C(Ca);contributeToStability=C(wP);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(EP),...this.injector.get(bP,[])]));this.chain=i.reduceRight((r,o)=>OZ(r,o,this.injector),AZ)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(zr(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ie(vu),ie(fn))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var NZ=/^\)\]\}',?\n/,PZ=RegExp(`^${fC}:`,"m");function FZ(n){return"responseURL"in n&&n.responseURL?n.responseURL:PZ.test(n.getAllResponseHeaders())?n.getResponseHeader(fC):null}var dC=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new X(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?At(i.\u0275loadImpl()):ce(null)).pipe(Qt(()=>new de(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,x)=>s.setRequestHeader(w,x.join(","))),t.headers.has(u_)||s.setRequestHeader(u_,_P),!t.headers.has(Yf)){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader(Yf,w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let l=t.serializeBody(),u=null,d=()=>{if(u!==null)return u;let w=s.statusText||"OK",x=new To(s.getAllResponseHeaders()),D=FZ(s)||t.url;return u=new Xf({headers:x,status:s.status,statusText:w,url:D}),u},h=()=>{let{headers:w,status:x,statusText:D,url:T}=d(),A=null;x!==TZ&&(A=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=A?yP:0);let O=x>=200&&x<300;if(t.responseType==="json"&&typeof A=="string"){let N=A;A=A.replace(NZ,"");try{A=A!==""?JSON.parse(A):null}catch(U){A=N,O&&(O=!1,A={error:U,text:A})}}O?(o.next(new bu({body:A,headers:w,status:x,statusText:D,url:T||void 0})),o.complete()):o.error(new Ss({error:A,headers:w,status:x,statusText:D,url:T||void 0}))},p=w=>{let{url:x}=d(),D=new Ss({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(D)},g=!1,_=w=>{g||(o.next(d()),g=!0);let x={type:Ms.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},v=w=>{let x={type:Ms.UploadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),o.next(x)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",_),l!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(l),o.next({type:Ms.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",_),l!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(ie(Bl))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),CP=new F(""),LZ="XSRF-TOKEN",kZ=new F("",{providedIn:"root",factory:()=>LZ}),VZ="X-XSRF-TOKEN",jZ=new F("",{providedIn:"root",factory:()=>VZ}),Zf=class{},BZ=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(ie(Ie),ie(bs),ie(kZ))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function UZ(n,e){let t=n.url.toLowerCase();if(!C(CP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=C(Zf).getToken(),r=C(jZ);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var hC=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(hC||{});function HZ(n,e){return{\u0275kind:n,\u0275providers:e}}function pC(...n){let e=[wu,dC,d_,{provide:yu,useExisting:d_},{provide:vu,useFactory:()=>C(vP,{optional:!0})??C(dC)},{provide:EP,useValue:UZ,multi:!0},{provide:CP,useValue:!0},{provide:Zf,useClass:BZ}];for(let t of n)e.push(...t.\u0275providers);return _s(e)}function mC(){return HZ(hC.Fetch,[a_,{provide:vP,useExisting:a_},{provide:vu,useExisting:a_}])}var DP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(ie(Ie))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ie(zZ),r},providedIn:"root"})}return n})(),zZ=(()=>{class n extends gC{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Ni.NONE:return i;case Ni.HTML:return mu(i,"HTML")?xa(i):M1(this._doc,String(i)).toString();case Ni.STYLE:return mu(i,"Style")?xa(i):i;case Ni.SCRIPT:if(mu(i,"Script"))return xa(i);throw new X(5200,!1);case Ni.URL:return mu(i,"URL")?xa(i):pw(String(i));case Ni.RESOURCE_URL:if(mu(i,"ResourceURL"))return xa(i);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(t){return v1(t)}bypassSecurityTrustStyle(t){return E1(t)}bypassSecurityTrustScript(t){return b1(t)}bypassSecurityTrustUrl(t){return w1(t)}bypassSecurityTrustResourceUrl(t){return C1(t)}static \u0275fac=function(i){return new(i||n)(ie(Ie))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ve="primary",uh=Symbol("RouteTitle"),bC=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zl(n){return new bC(n)}function FP(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],l=n[o];if(s[0]===":")r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function GZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mo(n[t],e[t]))return!1;return!0}function Mo(n,e){let t=n?wC(n):void 0,i=e?wC(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!LP(n[r],e[r]))return!1;return!0}function wC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function LP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function kP(n){return n.length>0?n[n.length-1]:null}function Ma(n){return Um(n)?n:Ia(n)?At(Promise.resolve(n)):ce(n)}var WZ={exact:jP,subset:BP},VP={exact:$Z,subset:qZ,ignored:()=>!0};function TP(n,e,t){return WZ[t.paths](n.root,e.root,t.matrixParams)&&VP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function $Z(n,e){return Mo(n,e)}function jP(n,e,t){if(!Ul(n.segments,e.segments)||!p_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!jP(n.children[i],e.children[i],t))return!1;return!0}function qZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>LP(n[t],e[t]))}function BP(n,e,t){return UP(n,e,e.segments,t)}function UP(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Ul(r,t)||e.hasChildren()||!p_(r,t,i))}else if(n.segments.length===t.length){if(!Ul(n.segments,t)||!p_(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!BP(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ul(n.segments,r)||!p_(n.segments,r,i)||!n.children[Ve]?!1:UP(n.children[Ve],e,o,i)}}function p_(n,e,t){return e.every((i,r)=>VP[t](n[r].parameters,i.parameters))}var Ao=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ht([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=zl(this.queryParams),this._queryParamMap}toString(){return ZZ.serialize(this)}},ht=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return m_(this)}},Ta=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zl(this.parameters),this._parameterMap}toString(){return zP(this)}};function YZ(n,e){return Ul(n,e)&&n.every((t,i)=>Mo(t.parameters,e[i].parameters))}function Ul(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function XZ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ve&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ve&&(t=t.concat(e(r,i)))}),t}var dh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>new Gl,providedIn:"root"})}return n})(),Gl=class{parse(e){let t=new xC(e);return new Ao(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Kf(e.root,!0)}`,i=JZ(e.queryParams),r=typeof e.fragment=="string"?`#${KZ(e.fragment)}`:"";return`${t}${i}${r}`}},ZZ=new Gl;function m_(n){return n.segments.map(e=>zP(e)).join("/")}function Kf(n,e){if(!n.hasChildren())return m_(n);if(e){let t=n.children[Ve]?Kf(n.children[Ve],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ve&&i.push(`${r}:${Kf(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=XZ(n,(i,r)=>r===Ve?[Kf(n.children[Ve],!1)]:[`${r}:${Kf(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ve]!=null?`${m_(n)}/${t[0]}`:`${m_(n)}/(${t.join("//")})`}}function HP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function f_(n){return HP(n).replace(/%3B/gi,";")}function KZ(n){return encodeURI(n)}function CC(n){return HP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function g_(n){return decodeURIComponent(n)}function MP(n){return g_(n.replace(/\+/g,"%20"))}function zP(n){return`${CC(n.path)}${QZ(n.parameters)}`}function QZ(n){return Object.entries(n).map(([e,t])=>`;${CC(e)}=${CC(t)}`).join("")}function JZ(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${f_(t)}=${f_(r)}`).join("&"):`${f_(t)}=${f_(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var e6=/^[^\/()?;#]+/;function _C(n){let e=n.match(e6);return e?e[0]:""}var t6=/^[^\/()?;=#]+/;function n6(n){let e=n.match(t6);return e?e[0]:""}var i6=/^[^=?&#]+/;function r6(n){let e=n.match(i6);return e?e[0]:""}var o6=/^[^&#]+/;function s6(n){let e=n.match(o6);return e?e[0]:""}var xC=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ve]=new ht(e,t)),i}parseSegment(){let e=_C(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new Ta(g_(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=n6(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=_C(this.remaining);r&&(i=r,this.capture(i))}e[g_(t)]=g_(i)}parseQueryParam(e){let t=r6(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=s6(this.remaining);s&&(i=s,this.capture(i))}let r=MP(t),o=MP(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=_C(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new X(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ve);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ve]:new ht([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function GP(n){return n.segments.length>0?new ht([],{[Ve]:n}):n}function WP(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=WP(r);if(i===Ve&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))e[s]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new ht(n.segments,e);return a6(t)}function a6(n){if(n.numberOfChildren===1&&n.children[Ve]){let e=n.children[Ve];return new ht(n.segments.concat(e.segments),e.children)}return n}function Su(n){return n instanceof Ao}function $P(n,e,t=null,i=null){let r=qP(n);return YP(r,e,t,i)}function qP(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let l=new ht(o.url,s);return o===n&&(e=l),l}let i=t(n.root),r=GP(i);return e??r}function YP(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return yC(r,r,r,t,i);let o=l6(e);if(o.toRoot())return yC(r,r,new ht([],{}),t,i);let s=c6(o,r,n),l=s.processChildren?Jf(s.segmentGroup,s.index,o.commands):ZP(s.segmentGroup,s.index,o.commands);return yC(r,s.segmentGroup,l,t,i)}function y_(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function th(n){return typeof n=="object"&&n!=null&&n.outlets}function yC(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===e?s=t:s=XP(n,e,t);let l=GP(WP(s));return new Ao(l,o,r)}function XP(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=XP(o,e,t)}),new ht(n.segments,i)}var v_=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&y_(i[0]))throw new X(4003,!1);let r=i.find(th);if(r&&r!==kP(i))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function l6(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new v_(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([u,d])=>{l[u]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((l,u)=>{u==0&&l==="."||(u==0&&l===""?t=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new v_(t,e,i)}var Iu=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function c6(n,e,t){if(n.isAbsolute)return new Iu(e,!0,0);if(!t)return new Iu(e,!1,NaN);if(t.parent===null)return new Iu(t,!0,0);let i=y_(n.commands[0])?0:1,r=t.segments.length-1+i;return u6(t,r,n.numberOfDoubleDots)}function u6(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new X(4005,!1);r=i.segments.length}return new Iu(i,!1,r-o)}function d6(n){return th(n[0])?n[0].outlets:{[Ve]:n}}function ZP(n,e,t){if(n??=new ht([],{}),n.segments.length===0&&n.hasChildren())return Jf(n,e,t);let i=f6(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new ht(n.segments.slice(0,i.pathIndex),{});return o.children[Ve]=new ht(n.segments.slice(i.pathIndex),n.children),Jf(o,0,r)}else return i.match&&r.length===0?new ht(n.segments,{}):i.match&&!n.hasChildren()?IC(n,e,t):i.match?Jf(n,0,r):IC(n,e,t)}function Jf(n,e,t){if(t.length===0)return new ht(n.segments,{});{let i=d6(t),r={};if(Object.keys(i).some(o=>o!==Ve)&&n.children[Ve]&&n.numberOfChildren===1&&n.children[Ve].segments.length===0){let o=Jf(n.children[Ve],e,t);return new ht(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=ZP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ht(n.segments,r)}}function f6(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],l=t[i];if(th(l))break;let u=`${l}`,d=i<t.length-1?t[i+1]:null;if(r>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!AP(u,d,s))return o;i+=2}else{if(!AP(u,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function IC(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(th(o)){let u=h6(o.outlets);return new ht(i,u)}if(r===0&&y_(t[0])){let u=n.segments[e];i.push(new Ta(u.path,RP(t[0]))),r++;continue}let s=th(o)?o.outlets[Ve]:`${o}`,l=r<t.length-1?t[r+1]:null;s&&l&&y_(l)?(i.push(new Ta(s,RP(l))),r+=2):(i.push(new Ta(s,{})),r++)}return new ht(i,{})}function h6(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=IC(new ht([],{}),0,i))}),e}function RP(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function AP(n,e,t){return n==t.path&&Mo(e,t.parameters)}var __="imperative",Tn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Tn||{}),er=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wl=class extends er{type=Tn.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rs=class extends er{urlAfterRedirects;type=Tn.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pi=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Pi||{}),nh=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(nh||{}),Ro=class extends er{reason;code;type=Tn.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},As=class extends er{reason;code;type=Tn.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Tu=class extends er{error;target;type=Tn.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ih=class extends er{urlAfterRedirects;state;type=Tn.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},E_=class extends er{urlAfterRedirects;state;type=Tn.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b_=class extends er{urlAfterRedirects;state;shouldActivate;type=Tn.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},w_=class extends er{urlAfterRedirects;state;type=Tn.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},C_=class extends er{urlAfterRedirects;state;type=Tn.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x_=class{route;type=Tn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},I_=class{route;type=Tn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},D_=class{snapshot;type=Tn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S_=class{snapshot;type=Tn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},T_=class{snapshot;type=Tn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},M_=class{snapshot;type=Tn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rh=class{},Mu=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function p6(n,e){return n.providers&&!n._injector&&(n._injector=qg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Kr(n){return n.outlet||Ve}function m6(n,e){let t=n.filter(i=>Kr(i)===e);return t.push(...n.filter(i=>Kr(i)!==e)),t}function fh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var R_=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fh(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ou(this.rootInjector)}},Ou=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new R_(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(ie(fn))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A_=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=DC(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=DC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=SC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return SC(e,this._root).map(t=>t.value)}};function DC(n,e){if(n===e.value)return e;for(let t of e.children){let i=DC(n,t);if(i)return i}return null}function SC(n,e){if(n===e.value)return[e];for(let t of e.children){let i=SC(n,t);if(i.length)return i.unshift(e),i}return[]}var Ji=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function xu(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var oh=class extends A_{snapshot;constructor(e,t){super(e),this.snapshot=t,FC(this,e)}toString(){return this.snapshot.toString()}};function KP(n){let e=g6(n),t=new Bt([new Ta("",{})]),i=new Bt({}),r=new Bt({}),o=new Bt({}),s=new Bt(""),l=new Oo(t,i,o,s,r,Ve,n,e.root);return l.snapshot=e.root,new oh(new Ji(l,[]),e)}function g6(n){let e={},t={},i={},r="",o=new Hl([],e,i,r,t,Ve,n,null,{});return new sh("",new Ji(o,[]))}var Oo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,l,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(d=>d[uh]))??ce(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>zl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>zl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function O_(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),r?.data),n._resolvedData)}:i={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},r&&JP(r)&&(i.resolve[uh]=r.title),i}var Hl=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[uh]}constructor(e,t,i,r,o,s,l,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},sh=class extends A_{url;constructor(e,t){super(t),this.url=e,FC(this,t)}toString(){return QP(this._root)}};function FC(n,e){e.value._routerState=n,e.children.forEach(t=>FC(n,t))}function QP(n){let e=n.children.length>0?` { ${n.children.map(QP).join(", ")} } `:"";return`${n.value}${e}`}function vC(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Mo(e.params,t.params)||n.paramsSubject.next(t.params),GZ(e.url,t.url)||n.urlSubject.next(t.url),Mo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function TC(n,e){let t=Mo(n.params,e.params)&&YZ(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||TC(n.parent,e.parent))}function JP(n){return typeof n.title=="string"||n.title===null}var eF=new F(""),hh=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ve;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=i1(void 0);parentContexts=C(Ou);location=C(gi);changeDetector=C(En);inputBinder=C(L_,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new MC(t,l,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[br]})}return n})(),MC=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Oo?this.route:e===Ou?this.childContexts:e===eF?this.outletData:this.parent.get(e,t)}},L_=new F("");function _6(n,e,t){let i=ah(n,e._root,t?t._root:void 0);return new oh(i,e)}function ah(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=y6(n,e,t);return new Ji(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(l=>ah(n,l)),s}}let i=v6(e.value),r=e.children.map(o=>ah(n,o));return new Ji(i,r)}}function y6(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ah(n,i,r);return ah(n,i)})}function v6(n){return new Oo(new Bt(n.url),new Bt(n.params),new Bt(n.queryParams),new Bt(n.fragment),new Bt(n.data),n.outlet,n.component,n)}var Ru=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},tF="ngNavigationCancelingError";function N_(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Su(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=nF(!1,Pi.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function nF(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[tF]=!0,t.cancellationCode=e,t}function E6(n){return iF(n)&&Su(n.url)}function iF(n){return!!n&&n[tF]}var b6=(n,e,t,i)=>ne(r=>(new RC(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),RC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),vC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=xu(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xu(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xu(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=xu(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new M_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new S_(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(vC(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),vC(l.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},P_=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Du=class{component;route;constructor(e,t){this.component=e,this.route=t}};function w6(n,e,t){let i=n._root,r=e?e._root:null;return Qf(i,r,t,[i.value])}function C6(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Nu(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!XA(n)?n:e.get(n):i}function Qf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=xu(e);return n.children.forEach(s=>{x6(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>eh(l,t.getContext(s),r)),r}function x6(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=I6(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new P_(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qf(n,e,l?l.children:null,i,r):Qf(n,e,t,i,r),u&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Du(l.outlet.component,s))}else s&&eh(e,l,r),r.canActivateChecks.push(new P_(i)),o.component?Qf(n,null,l?l.children:null,i,r):Qf(n,null,t,i,r);return r}function I6(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ul(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ul(n.url,e.url)||!Mo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TC(n,e)||!Mo(n.queryParams,e.queryParams);case"paramsChange":default:return!TC(n,e)}}function eh(n,e,t){let i=xu(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?eh(s,e.children.getContext(o),t):eh(s,null,t):eh(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Du(e.outlet.component,r)):t.canDeactivateChecks.push(new Du(null,r)):t.canDeactivateChecks.push(new Du(null,r))}function ph(n){return typeof n=="function"}function D6(n){return typeof n=="boolean"}function S6(n){return n&&ph(n.canLoad)}function T6(n){return n&&ph(n.canActivate)}function M6(n){return n&&ph(n.canActivateChild)}function R6(n){return n&&ph(n.canDeactivate)}function A6(n){return n&&ph(n.canMatch)}function rF(n){return n instanceof ds||n?.name==="EmptyError"}var h_=Symbol("INITIAL_VALUE");function Au(){return Qt(n=>qc(n.map(e=>e.pipe(an(1),ui(h_)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===h_)return h_;if(t===!1||O6(t))return t}return!0}),yt(e=>e!==h_),an(1)))}function O6(n){return Su(n)||n instanceof Ru}function N6(n,e){return sn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ce(xe(j({},t),{guardsResult:!0})):P6(s,i,r,n).pipe(sn(l=>l&&D6(l)?F6(i,o,n,e):ce(l)),ne(l=>xe(j({},t),{guardsResult:l})))})}function P6(n,e,t,i){return At(n).pipe(sn(r=>B6(r.component,r.route,t,e,i)),yr(r=>r!==!0,!0))}function F6(n,e,t,i){return At(e).pipe(ha(r=>fa(k6(r.route.parent,i),L6(r.route,i),j6(n,r.path,t),V6(n,r.route,t))),yr(r=>r!==!0,!0))}function L6(n,e){return n!==null&&e&&e(new T_(n)),ce(!0)}function k6(n,e){return n!==null&&e&&e(new D_(n)),ce(!0)}function V6(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ce(!0);let r=i.map(o=>Wm(()=>{let s=fh(e)??t,l=Nu(o,s),u=T6(l)?l.canActivate(e,n):Ki(s,()=>l(e,n));return Ma(u).pipe(yr())}));return ce(r).pipe(Au())}function j6(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>C6(s)).filter(s=>s!==null).map(s=>Wm(()=>{let l=s.guards.map(u=>{let d=fh(s.node)??t,h=Nu(u,d),p=M6(h)?h.canActivateChild(i,n):Ki(d,()=>h(i,n));return Ma(p).pipe(yr())});return ce(l).pipe(Au())}));return ce(o).pipe(Au())}function B6(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(l=>{let u=fh(e)??r,d=Nu(l,u),h=R6(d)?d.canDeactivate(n,e,t,i):Ki(u,()=>d(n,e,t,i));return Ma(h).pipe(yr())});return ce(s).pipe(Au())}function U6(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ce(!0);let o=r.map(s=>{let l=Nu(s,n),u=S6(l)?l.canLoad(e,t):Ki(n,()=>l(e,t));return Ma(u)});return ce(o).pipe(Au(),oF(i))}function oF(n){return RE(Wt(e=>{if(typeof e!="boolean")throw N_(n,e)}),ne(e=>e===!0))}function H6(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ce(!0);let o=r.map(s=>{let l=Nu(s,n),u=A6(l)?l.canMatch(e,t):Ki(n,()=>l(e,t));return Ma(u)});return ce(o).pipe(Au(),oF(i))}var lh=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ch=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Cu(n){return da(new lh(n))}function z6(n){return da(new X(4e3,!1))}function G6(n){return da(nF(!1,Pi.GuardRejected))}var AC=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ce(i);if(r.numberOfChildren>1||!r.children[Ve])return z6(`${e.redirectTo}`);r=r.children[Ve]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let l=t,{queryParams:u,fragment:d,routeConfig:h,url:p,outlet:g,params:_,data:v,title:w}=r,x=Ki(o,()=>l({params:_,data:v,queryParams:u,fragment:d,routeConfig:h,url:p,outlet:g,title:w}));if(x instanceof Ao)throw new ch(x);t=x}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new ch(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ao(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);i[r]=t[l]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([l,u])=>{s[l]=this.createSegmentGroup(e,u,i,r)}),new ht(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},OC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W6(n,e,t,i,r){let o=sF(n,e,t);return o.matched?(i=p6(e,i),H6(i,e,t,r).pipe(ne(s=>s===!0?o:j({},OC)))):ce(o)}function sF(n,e,t){if(e.path==="**")return $6(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},OC):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||FP)(t,n,e);if(!r)return j({},OC);let o={};Object.entries(r.posParams??{}).forEach(([l,u])=>{o[l]=u.path});let s=r.consumed.length>0?j(j({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function $6(n){return{matched:!0,parameters:n.length>0?kP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function OP(n,e,t,i){return t.length>0&&X6(n,t,i)?{segmentGroup:new ht(e,Y6(i,new ht(t,n.children))),slicedSegments:[]}:t.length===0&&Z6(n,t,i)?{segmentGroup:new ht(n.segments,q6(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ht(n.segments,n.children),slicedSegments:t}}function q6(n,e,t,i){let r={};for(let o of t)if(k_(n,e,o)&&!i[Kr(o)]){let s=new ht([],{});r[Kr(o)]=s}return j(j({},i),r)}function Y6(n,e){let t={};t[Ve]=e;for(let i of n)if(i.path===""&&Kr(i)!==Ve){let r=new ht([],{});t[Kr(i)]=r}return t}function X6(n,e,t){return t.some(i=>k_(n,e,i)&&Kr(i)!==Ve)}function Z6(n,e,t){return t.some(i=>k_(n,e,i))}function k_(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function K6(n,e,t){return e.length===0&&!n.children[t]}var NC=class{};function Q6(n,e,t,i,r,o,s="emptyOnly"){return new PC(n,e,t,i,r,s,o).recognize()}var J6=31,PC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,l){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new AC(this.urlSerializer,this.urlTree)}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=OP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:i})=>{let r=new Ji(i,t),o=new sh("",r),s=$P(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Hl([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ve,t).pipe(ne(i=>({children:i,rootSnapshot:t})),po(i=>{if(i instanceof ch)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof lh?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(ne(s=>s instanceof Ji?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return At(o).pipe(ha(s=>{let l=i.children[s],u=m6(t,s);return this.processSegmentGroup(e,u,l,s,r)}),LE((s,l)=>(s.push(...l),s)),ma(null),FE(),sn(s=>{if(s===null)return Cu(i);let l=aF(s);return eK(l),ce(l)}))}processSegment(e,t,i,r,o,s,l){return At(t).pipe(ha(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,i,r,o,s,l).pipe(po(d=>{if(d instanceof lh)return ce(null);throw d}))),yr(u=>!!u),po(u=>{if(rF(u))return K6(i,r,o)?ce(new NC):Cu(i);throw u}))}processSegmentAgainstRoute(e,t,i,r,o,s,l,u){return Kr(i)!==s&&(s===Ve||!k_(r,o,i))?Cu(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,u):Cu(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,l){let{matched:u,parameters:d,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=sF(t,r,o);if(!u)return Cu(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>J6&&(this.allowRedirects=!1));let _=new Hl(o,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,NP(r),Kr(r),r.component??r._loadedComponent??null,r,PP(r)),v=O_(_,l,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);let w=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(r,w).pipe(sn(x=>this.processSegment(e,i,t,x.concat(g),s,!1,l)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let l=W6(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),l.pipe(Qt(u=>u.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Qt(({routes:d})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:_}=u,v=new Hl(g,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,NP(i),Kr(i),i.component??i._loadedComponent??null,i,PP(i)),w=O_(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(w.params),v.data=Object.freeze(w.data);let{segmentGroup:x,slicedSegments:D}=OP(t,g,_,d);if(D.length===0&&x.hasChildren())return this.processChildren(h,d,x,v).pipe(ne(A=>new Ji(v,A)));if(d.length===0&&D.length===0)return ce(new Ji(v,[]));let T=Kr(i)===o;return this.processSegment(h,d,x,D,T?Ve:o,!0,v).pipe(ne(A=>new Ji(v,A instanceof Ji?[A]:[])))}))):Cu(t)))}getChildConfig(e,t,i){return t.children?ce({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ce({routes:t._loadedRoutes,injector:t._loadedInjector}):U6(e,t,i,this.urlSerializer).pipe(sn(r=>r?this.configLoader.loadChildren(e,t).pipe(Wt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):G6(t))):ce({routes:[],injector:e})}};function eK(n){n.sort((e,t)=>e.value.outlet===Ve?-1:t.value.outlet===Ve?1:e.value.outlet.localeCompare(t.value.outlet))}function tK(n){let e=n.value.routeConfig;return e&&e.path===""}function aF(n){let e=[],t=new Set;for(let i of n){if(!tK(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=aF(i.children);e.push(new Ji(i.value,r))}return e.filter(i=>!t.has(i))}function NP(n){return n.data||{}}function PP(n){return n.resolve||{}}function nK(n,e,t,i,r,o){return sn(s=>Q6(n,e,t,i,s.extractedUrl,r,o).pipe(ne(({state:l,tree:u})=>xe(j({},s),{targetSnapshot:l,urlAfterRedirects:u}))))}function iK(n,e){return sn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ce(t);let o=new Set(r.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of lF(u))s.add(d);let l=0;return At(s).pipe(ha(u=>o.has(u)?rK(u,i,n,e):(u.data=O_(u,u.parent,n).resolve,ce(void 0))),Wt(()=>l++),Yc(1),sn(u=>l===s.size?ce(t):Dn))})}function lF(n){let e=n.children.map(t=>lF(t)).flat();return[n,...e]}function rK(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!JP(r)&&(o[uh]=r.title),oK(o,n,e,i).pipe(ne(s=>(n._resolvedData=s,n.data=O_(n,n.parent,t).resolve,null)))}function oK(n,e,t,i){let r=wC(n);if(r.length===0)return ce({});let o={};return At(r).pipe(sn(s=>sK(n[s],e,t,i).pipe(yr(),Wt(l=>{if(l instanceof Ru)throw N_(new Gl,l);o[s]=l}))),Yc(1),ne(()=>o),po(s=>rF(s)?Dn:da(s)))}function sK(n,e,t,i){let r=fh(e)??i,o=Nu(n,r),s=o.resolve?o.resolve(e,t):Ki(r,()=>o(e,t));return Ma(s)}function EC(n){return Qt(e=>{let t=n(e);return t?At(t).pipe(ne(()=>e)):ce(e)})}var LC=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ve);return i}getResolvedTitleForRoute(t){return t.data[uh]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>C(cF),providedIn:"root"})}return n})(),cF=(()=>{class n extends LC{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ie(DP))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mh=new F("",{providedIn:"root",factory:()=>({})}),kC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&xt(0,"router-outlet")},dependencies:[hh],encapsulation:2})}return n})();function VC(n){let e=n.children&&n.children.map(VC),t=e?xe(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ve&&(t.component=kC),t}var gh=new F(""),uF=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(jN);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ce(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Ma(t.loadComponent()).pipe(ne(fF),Wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),zr(()=>{this.componentLoaders.delete(t)})),r=new zc(i,()=>new K).pipe(Hc());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=dF(i,this.compiler,t,this.onLoadEndListener).pipe(zr(()=>{this.childrenLoaders.delete(i)})),s=new zc(o,()=>new K).pipe(Hc());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dF(n,e,t,i){return Ma(n.loadChildren()).pipe(ne(fF),sn(r=>r instanceof Pw||Array.isArray(r)?ce(r):At(e.compileModuleAsync(r))),ne(r=>{i&&i(n);let o,s,l=!1;return Array.isArray(r)?(s=r,l=!0):(o=r.create(t).injector,s=o.get(gh,[],{optional:!0,self:!0}).flat()),{routes:s.map(VC),injector:o}}))}function aK(n){return n&&typeof n=="object"&&"default"in n}function fF(n){return aK(n)?n.default:n}var V_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>C(lK),providedIn:"root"})}return n})(),lK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hF=new F("");var pF=new F(""),mF=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new K;transitionAbortSubject=new K;configLoader=C(uF);environmentInjector=C(fn);destroyRef=C(bo);urlSerializer=C(dh);rootContexts=C(Ou);location=C(Sa);inputBindingEnabled=C(L_,{optional:!0})!==null;titleStrategy=C(LC);options=C(mh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(V_);createViewTransition=C(hF,{optional:!0});navigationErrorHandler=C(pF,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ce(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new x_(r)),i=r=>this.events.next(new I_(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(xe(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new Bt(null),this.transitions.pipe(yt(i=>i!==null),Qt(i=>{let r=!1,o=!1;return ce(i).pipe(Qt(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Pi.SupersededByNewNavigation),Dn;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?xe(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new As(s.id,this.urlSerializer.serialize(s.rawUrl),d,nh.IgnoredSameUrlNavigation)),s.resolve(!1),Dn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ce(s).pipe(Qt(d=>(this.events.next(new Wl(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Dn:Promise.resolve(d))),nK(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=xe(j({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new ih(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:h,source:p,restoredState:g,extras:_}=s,v=new Wl(d,this.urlSerializer.serialize(h),p,g);this.events.next(v);let w=KP(this.rootComponentType).snapshot;return this.currentTransition=i=xe(j({},s),{targetSnapshot:w,urlAfterRedirects:h,extras:xe(j({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ce(i)}else{let d="";return this.events.next(new As(s.id,this.urlSerializer.serialize(s.extractedUrl),d,nh.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dn}}),Wt(s=>{let l=new E_(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),ne(s=>(this.currentTransition=i=xe(j({},s),{guards:w6(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),N6(this.environmentInjector,s=>this.events.next(s)),Wt(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw N_(this.urlSerializer,s.guardsResult);let l=new b_(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),yt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Pi.GuardRejected),!1)),EC(s=>{if(s.guards.canActivateChecks.length!==0)return ce(s).pipe(Wt(l=>{let u=new w_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Qt(l=>{let u=!1;return ce(l).pipe(iK(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Pi.NoDataFromResolver)}}))}),Wt(l=>{let u=new C_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),EC(s=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Wt(h=>{u.component=h}),ne(()=>{})));for(let h of u.children)d.push(...l(h));return d};return qc(l(s.targetSnapshot.root)).pipe(ma(null),an(1))}),EC(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:s,targetSnapshot:l}=i,u=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return u?At(u).pipe(ne(()=>i)):ce(i)}),ne(s=>{let l=_6(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=xe(j({},s),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),Wt(()=>{this.events.next(new rh)}),b6(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),an(1),Wt({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),dt(this.transitionAbortSubject.pipe(Wt(s=>{throw s}))),zr(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Pi.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),po(s=>{if(this.destroyed)return i.resolve(!1),Dn;if(o=!0,iF(s))this.events.next(new Ro(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),E6(s)?this.events.next(new Mu(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let l=new Tu(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let u=Ki(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Ru){let{message:d,cancellationCode:h}=N_(this.urlSerializer,u);this.events.next(new Ro(i.id,this.urlSerializer.serialize(i.extractedUrl),d,h)),this.events.next(new Mu(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return Dn}))}))}cancelNavigationTransition(t,i,r){let o=new Ro(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cK(n){return n!==__}var gF=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>C(uK),providedIn:"root"})}return n})(),F_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},uK=(()=>{class n extends F_{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Es(n)))(r||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_F=(()=>{class n{urlSerializer=C(dh);options=C(mh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(Sa);urlHandlingStrategy=C(V_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ao;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof Ao?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=KP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:()=>C(dK),providedIn:"root"})}return n})(),dK=(()=>{class n extends _F{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Wl?this.updateStateMemento():t instanceof As?this.commitTransition(i):t instanceof ih?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof rh?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Ro&&(t.code===Pi.GuardRejected||t.code===Pi.NoDataFromResolver)?this.restoreHistory(i):t instanceof Tu?this.restoreHistory(i,!0):t instanceof Rs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let l=this.browserPageId,u=j(j({},s),this.generateNgRouterState(r,l));this.location.replaceState(t,"",u)}else{let l=j(j({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",l)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Es(n)))(r||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jC(n,e){n.events.pipe(yt(t=>t instanceof Rs||t instanceof Ro||t instanceof Tu||t instanceof As),ne(t=>t instanceof Rs||t instanceof As?0:(t instanceof Ro?t.code===Pi.Redirect||t.code===Pi.SupersededByNewNavigation:!1)?2:1),yt(t=>t!==2),an(1)).subscribe(()=>{e()})}var fK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ra=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(Fw);stateManager=C(_F);options=C(mh,{optional:!0})||{};pendingTasks=C(Ca);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(mF);urlSerializer=C(dh);location=C(Sa);urlHandlingStrategy=C(V_);_events=new K;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(gF);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(gh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(L_,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ro&&i.code!==Pi.Redirect&&i.code!==Pi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Rs)this.navigated=!0;else if(i instanceof Mu){let s=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u=j({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cK(r.source)},s);this.scheduleNavigation(l,__,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}mK(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),__,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let u=j({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(t);this.scheduleNavigation(l,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(VC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:s,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=r?r.snapshot:this.routerState.snapshot.root;p=qP(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return YP(p,t,h,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Su(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,__,null,i)}navigate(t,i={skipLocationChange:!1}){return pK(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=j({},fK):i===!1?r=j({},hK):r=i,Su(t))return TP(this.currentUrlTree,t,r);let o=this.parseUrl(t);return TP(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,u,d;s?(l=s.resolve,u=s.reject,d=s.promise):d=new Promise((p,g)=>{l=p,u=g});let h=this.pendingTasks.add();return jC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pK(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new X(4008,!1)}function mK(n){return!(n instanceof rh)&&!(n instanceof Mu)}var _K=new F("");function BC(n,...e){return _s([{provide:gh,multi:!0,useValue:n},[],{provide:Oo,useFactory:yK,deps:[Ra]},{provide:Vw,multi:!0,useFactory:vK},e.map(t=>t.\u0275providers)])}function yK(n){return n.routerState.root}function vK(){let n=C(lt);return e=>{let t=n.get(Xn);if(e!==t.components[0])return;let i=n.get(Ra),r=n.get(EK);n.get(bK)===1&&i.initialNavigation(),n.get(wK,null,Ye.Optional)?.setUpPreloading(),n.get(_K,null,Ye.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var EK=new F("",{factory:()=>new K}),bK=new F("",{providedIn:"root",factory:()=>1});var wK=new F("");var DF=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(ue(Qi),ue(Fe))};static \u0275dir=Ze({type:n})}return n})(),xK=(()=>{class n extends DF{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Es(n)))(r||n)}})();static \u0275dir=Ze({type:n,features:[Xr]})}return n})(),SF=new F("");var IK={provide:SF,useExisting:wa(()=>Z_),multi:!0};function DK(){let n=wr()?wr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var SK=new F(""),Z_=(()=>{class n extends DF{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!DK())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(ue(Qi),ue(Fe),ue(SK,8))};static \u0275dir=Ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&$t("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[yi([IK]),Xr]})}return n})();function GC(n){return n==null||WC(n)===0}function WC(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var $C=new F(""),qC=new F(""),TK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,B_=class{static min(e){return MK(e)}static max(e){return RK(e)}static required(e){return AK(e)}static requiredTrue(e){return OK(e)}static email(e){return NK(e)}static minLength(e){return PK(e)}static maxLength(e){return FK(e)}static pattern(e){return LK(e)}static nullValidator(e){return TF()}static compose(e){return PF(e)}static composeAsync(e){return FF(e)}};function MK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function RK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function AK(n){return GC(n.value)?{required:!0}:null}function OK(n){return n.value===!0?null:{required:!0}}function NK(n){return GC(n.value)||TK.test(n.value)?null:{email:!0}}function PK(n){return e=>{let t=e.value?.length??WC(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function FK(n){return e=>{let t=e.value?.length??WC(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function LK(n){if(!n)return TF;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(GC(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function TF(n){return null}function MF(n){return n!=null}function RF(n){return Ia(n)?At(n):n}function AF(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function OF(n,e){return e.map(t=>t(n))}function kK(n){return!n.validate}function NF(n){return n.map(e=>kK(e)?e:t=>e.validate(t))}function PF(n){if(!n)return null;let e=n.filter(MF);return e.length==0?null:function(t){return AF(OF(t,e))}}function YC(n){return n!=null?PF(NF(n)):null}function FF(n){if(!n)return null;let e=n.filter(MF);return e.length==0?null:function(t){let i=OF(t,e).map(RF);return mf(i).pipe(ne(AF))}}function XC(n){return n!=null?FF(NF(n)):null}function vF(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function LF(n){return n._rawValidators}function kF(n){return n._rawAsyncValidators}function UC(n){return n?Array.isArray(n)?n:[n]:[]}function U_(n,e){return Array.isArray(n)?n.includes(e):n===e}function EF(n,e){let t=UC(e);return UC(n).forEach(r=>{U_(t,r)||t.push(r)}),t}function bF(n,e){return UC(e).filter(t=>!U_(n,t))}var H_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=XC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Aa=class extends H_{name;get formDirective(){return null}get path(){return null}},$l=class extends H_{_parent=null;name=null;valueAccessor=null},z_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},VK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Pfe=xe(j({},VK),{"[class.ng-submitted]":"isSubmitted"}),VF=(()=>{class n extends z_{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(ue($l,2))};static \u0275dir=Ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Pt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Xr]})}return n})(),jF=(()=>{class n extends z_{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(ue(Aa,10))};static \u0275dir=Ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Pt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Xr]})}return n})();var _h="VALID",j_="INVALID",Pu="PENDING",yh="DISABLED",Oa=class{},G_=class extends Oa{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Eh=class extends Oa{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},bh=class extends Oa{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Fu=class extends Oa{status;source;constructor(e,t){super(),this.status=e,this.source=t}},HC=class extends Oa{source;constructor(e){super(),this.source=e}},zC=class extends Oa{source;constructor(e){super(),this.source=e}};function BF(n){return(K_(n)?n.validators:n)||null}function jK(n){return Array.isArray(n)?YC(n):n||null}function UF(n,e){return(K_(e)?e.asyncValidators:n)||null}function BK(n){return Array.isArray(n)?XC(n):n||null}function K_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function UK(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new X(1e3,"");if(!i[t])throw new X(1001,"")}function HK(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new X(1002,"")})}var W_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vi(this.statusReactive)}set status(e){vi(()=>this.statusReactive.set(e))}_status=Do(()=>this.statusReactive());statusReactive=wo(void 0);get valid(){return this.status===_h}get invalid(){return this.status===j_}get pending(){return this.status==Pu}get disabled(){return this.status===yh}get enabled(){return this.status!==yh}errors;get pristine(){return vi(this.pristineReactive)}set pristine(e){vi(()=>this.pristineReactive.set(e))}_pristine=Do(()=>this.pristineReactive());pristineReactive=wo(!0);get dirty(){return!this.pristine}get touched(){return vi(this.touchedReactive)}set touched(e){vi(()=>this.touchedReactive.set(e))}_touched=Do(()=>this.touchedReactive());touchedReactive=wo(!1);get untouched(){return!this.touched}_events=new K;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(EF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(EF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bF(e,this._rawAsyncValidators))}hasValidator(e){return U_(this._rawValidators,e)}hasAsyncValidator(e){return U_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(xe(j({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new bh(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new bh(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(xe(j({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Eh(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Eh(!0,i))}markAsPending(e={}){this.status=Pu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fu(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(xe(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=yh,this.errors=null,this._forEachChild(r=>{r.disable(xe(j({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new G_(this.value,i)),this._events.next(new Fu(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xe(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_h,this._forEachChild(i=>{i.enable(xe(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(xe(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_h||this.status===Pu)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new G_(this.value,t)),this._events.next(new Fu(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(xe(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yh:_h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Pu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=RF(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Fu(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?yh:this.errors?j_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pu)?Pu:this._anyControlsHaveStatus(j_)?j_:_h}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Eh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new bh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){K_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BK(this._rawAsyncValidators)}},$_=class extends W_{constructor(e,t,i){super(BF(t),UF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){HK(this,!0,e),Object.keys(e).forEach(i=>{UK(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Q_=new F("",{providedIn:"root",factory:()=>ZC}),ZC="always";function zK(n,e){return[...e.path,n]}function q_(n,e,t=ZC){KC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),WK(n,e),qK(n,e),$K(n,e),GK(n,e)}function wF(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),X_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Y_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function GK(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function KC(n,e){let t=LF(n);e.validator!==null?n.setValidators(vF(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=kF(n);e.asyncValidator!==null?n.setAsyncValidators(vF(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Y_(e._rawValidators,r),Y_(e._rawAsyncValidators,r)}function X_(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=LF(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=kF(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Y_(e._rawValidators,i),Y_(e._rawAsyncValidators,i),t}function WK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&HF(n,e)})}function $K(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&HF(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function HF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qK(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function zF(n,e){n==null,KC(n,e)}function YK(n,e){return X_(n,e)}function XK(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function ZK(n){return Object.getPrototypeOf(n.constructor)===xK}function GF(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function KK(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Z_?t=o:ZK(o)?i=o:r=o}),r||i||t||null}function QK(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var JK={provide:Aa,useExisting:wa(()=>wh)},vh=Promise.resolve(),wh=(()=>{class n extends Aa{callSetDisabledState;get submitted(){return vi(this.submittedReactive)}_submitted=Do(()=>this.submittedReactive());submittedReactive=wo(!1);_directives=new Set;form;ngSubmit=new vt;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new $_({},YC(t),XC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vh.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),q_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vh.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vh.then(()=>{let i=this._findContainer(t.path),r=new $_({});zF(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vh.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){vh.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),GF(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(ue($C,10),ue(qC,10),ue(Q_,8))};static \u0275dir=Ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&$t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yi([JK]),Xr]})}return n})();function CF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function xF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var WF=class extends W_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(BF(t),UF(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(xF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var e9=n=>n instanceof WF;var t9={provide:$l,useExisting:wa(()=>QC)},IF=Promise.resolve(),QC=(()=>{class n extends $l{_changeDetectorRef;callSetDisabledState;control=new WF;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new vt;constructor(t,i,r,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=KK(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),XK(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){q_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){IF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Jn(i);IF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?zK(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(ue(Aa,9),ue($C,10),ue(qC,10),ue(SF,10),ue(En,8),ue(Q_,8))};static \u0275dir=Ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yi([t9]),Xr,br]})}return n})();var $F=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var n9={provide:Aa,useExisting:wa(()=>JC)},JC=(()=>{class n extends Aa{callSetDisabledState;get submitted(){return vi(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Do(()=>this._submittedReactive());_submittedReactive=wo(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new vt;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(X_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return q_(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){wF(t.control||null,t,!1),QK(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),GF(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new HC(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new zC(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(wF(i||null,t),e9(r)&&(q_(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);zF(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&YK(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){KC(this.form,this),this._oldForm&&X_(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(ue($C,10),ue(qC,10),ue(Q_,8))};static \u0275dir=Ze({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&$t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yi([n9]),Xr,br]})}return n})();var i9=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({})}return n})();var qF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Q_,useValue:t.callSetDisabledState??ZC}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[i9]})}return n})();var Bn=[];for(let n=0;n<256;++n)Bn.push((n+256).toString(16).slice(1));function YF(n,e=0){return(Bn[n[e+0]]+Bn[n[e+1]]+Bn[n[e+2]]+Bn[n[e+3]]+"-"+Bn[n[e+4]]+Bn[n[e+5]]+"-"+Bn[n[e+6]]+Bn[n[e+7]]+"-"+Bn[n[e+8]]+Bn[n[e+9]]+"-"+Bn[n[e+10]]+Bn[n[e+11]]+Bn[n[e+12]]+Bn[n[e+13]]+Bn[n[e+14]]+Bn[n[e+15]]).toLowerCase()}var ex,o9=new Uint8Array(16);function tx(){if(!ex){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ex=crypto.getRandomValues.bind(crypto)}return ex(o9)}var s9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),nx={randomUUID:s9};function a9(n,e,t){if(nx.randomUUID&&!e&&!n)return nx.randomUUID();n=n||{};let i=n.random??n.rng?.()??tx();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let r=0;r<16;++r)e[t+r]=i[r];return e}return YF(i)}var ix=a9;function ql(n){return n.buttons===0||n.detail===0}function Yl(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var rx;function XF(){if(rx==null){let n=typeof document<"u"?document.head:null;rx=!!(n&&(n.createShadowRoot||n.attachShadow))}return rx}function ox(n){if(XF()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Cr(n){return n.composedPath?n.composedPath()[0]:n.target}function Fi(n,e,t,i,r){let o=parseInt(Hw.major),s=parseInt(Hw.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,i,r):(e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)})}var sx;try{sx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sx=!1}var Mt=(()=>{class n{_platformId=C(bs);isBrowser=this._platformId?Qw(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||sx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ch;function ZF(){if(Ch==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ch=!0}))}finally{Ch=Ch||!1}return Ch}function Na(n){return ZF()?n:!!n.capture}function Lu(n,e=0){return KF(n)?Number(n):arguments.length===2?e:0}function KF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function tr(n){return n instanceof Fe?n.nativeElement:n}var QF=new F("cdk-input-modality-detector-options"),JF={ignoreKeys:[18,17,224,91,16]},eL=650,ax={passive:!0,capture:!0},tL=(()=>{class n{_platform=C(Mt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Bt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cr(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<eL||(this._modality.next(ql(t)?"keyboard":"mouse"),this._mostRecentTarget=Cr(t))};_onTouchstart=t=>{if(Yl(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cr(t)};constructor(){let t=C(fe),i=C(Ie),r=C(QF,{optional:!0});if(this._options=j(j({},JF),r),this.modalityDetected=this._modality.pipe(_f(1)),this.modalityChanged=this.modalityDetected.pipe(Cl()),this._platform.isBrowser){let o=C(Vn).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[Fi(o,i,"keydown",this._onKeydown,ax),Fi(o,i,"mousedown",this._onMousedown,ax),Fi(o,i,"touchstart",this._onTouchstart,ax)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xh=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(xh||{}),nL=new F("cdk-focus-monitor-default-options"),J_=Na({passive:!0,capture:!0}),ku=(()=>{class n{_ngZone=C(fe);_platform=C(Mt);_inputModalityDetector=C(tL);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=C(Ie,{optional:!0});_stopInputModalityDetector=new K;constructor(){let t=C(nL,{optional:!0});this._detectionMode=t?.detectionMode||xh.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=Cr(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=tr(t);if(!this._platform.isBrowser||r.nodeType!==1)return ce();let o=ox(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let l={checkChildren:i,subject:new K,rootNode:o};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){let i=tr(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=tr(t),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,u])=>this._originChanged(l,i,u)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===xh.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===xh.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?eL:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=Cr(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,J_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,J_)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,J_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,J_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ey=new WeakMap,xr=(()=>{class n{_appRef;_injector=C(lt);_environmentInjector=C(fn);load(t){let i=this._appRef=this._appRef||this._injector.get(Xn),r=ey.get(i);r||(r={loaders:new Set,refs:[]},ey.set(i,r),i.onDestroy(()=>{ey.get(i)?.refs.forEach(o=>o.destroy()),ey.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(Zg(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return n})();function Vu(n){return Array.isArray(n)?n:[n]}var rL=new Set,Xl,l9=(()=>{class n{_platform=C(Mt);_nonce=C(Ff,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):u9}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&c9(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function c9(n,e){if(!rL.has(n))try{Xl||(Xl=document.createElement("style"),e&&Xl.setAttribute("nonce",e),Xl.setAttribute("type","text/css"),document.head.appendChild(Xl)),Xl.sheet&&(Xl.sheet.insertRule(`@media ${n} {body{ }}`,0),rL.add(n))}catch(t){console.error(t)}}function u9(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var sL=(()=>{class n{_mediaMatcher=C(l9);_zone=C(fe);_queries=new Map;_destroySubject=new K;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return oL(Vu(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=oL(Vu(t)).map(s=>this._registerQuery(s).observable),o=qc(r);return o=fa(o.pipe(an(1)),o.pipe(_f(1),pa(0))),o.pipe(ne(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:d})=>{l.matches=l.matches||u,l.breakpoints[d]=u}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new de(s=>{let l=u=>this._zone.run(()=>s.next(u));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(ui(i),ne(({matches:s})=>({query:t,matches:s})),dt(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var aL=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ih=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({providers:[aL]})}return n})();var Pa=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Pa||{}),lL="cdk-high-contrast-black-on-white",cL="cdk-high-contrast-white-on-black",lx="cdk-high-contrast-active",ty=(()=>{class n{_platform=C(Mt);_hasCheckedHighContrastMode;_document=C(Ie);_breakpointSubscription;constructor(){this._breakpointSubscription=C(sL).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Pa.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Pa.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Pa.BLACK_ON_WHITE}return Pa.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(lx,lL,cL),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Pa.BLACK_ON_WHITE?t.add(lx,lL):i===Pa.WHITE_ON_BLACK&&t.add(lx,cL)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cx=(()=>{class n{constructor(){C(ty)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[Ih]})}return n})();var ux={},No=(()=>{class n{_appId=C(Vl);getId(t){return this._appId!=="ng"&&(t+=this._appId),ux.hasOwnProperty(t)||(ux[t]=0),`${t}${ux[t]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var f9=200,ny=class{_letterKeyStream=new K;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new K;selectedItem=this._selectedItem;constructor(e,t){let i=typeof t?.debounceInterval=="number"?t.debounceInterval:f9;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Wt(t=>this._pressedLetters.push(t)),pa(e),yt(()=>this._pressedLetters.length>0),ne(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Zl(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var iy=class{_items;_activeItemIndex=-1;_activeItem=wo(null);_wrap=!1;_typeaheadSubscription=rt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Ea?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):hu(e)&&(this._effectRef=gu(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new K;change=new K;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new ny(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){let t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Zl(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),i=typeof e=="number"?e:t.indexOf(e),r=t[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let i=1;i<=t.length;i++){let r=(this._activeItemIndex+e*i+t.length)%t.length,o=t[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=t,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return hu(this._items)?this._items():this._items instanceof Ea?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let i=e.indexOf(t);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Dh=class extends iy{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var hL=" ";function h9(n,e,t){let i=oy(n,e);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),n.setAttribute(e,i.join(hL)))}function p9(n,e,t){let i=oy(n,e);t=t.trim();let r=i.filter(o=>o!==t);r.length?n.setAttribute(e,r.join(hL)):n.removeAttribute(e)}function oy(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var pL="cdk-describedby-message",ry="cdk-describedby-host",px=0,mL=(()=>{class n{_platform=C(Mt);_document=C(Ie);_messageRegistry=new Map;_messagesContainer=null;_id=`${px++}`;constructor(){C(xr).load(iL),this._id=C(Vl)+"-"+px++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;let o=hx(i,r);typeof i!="string"?(fL(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;let o=hx(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${ry}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(ry);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){let r=this._document.createElement("div");fL(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(hx(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){let i=oy(t,"aria-describedby").filter(r=>r.indexOf(pL)!=0);t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){let r=this._messageRegistry.get(i);h9(t,"aria-describedby",r.messageElement.id),t.setAttribute(ry,this._id),r.referenceCount++}_removeMessageReference(t,i){let r=this._messageRegistry.get(i);r.referenceCount--,p9(t,"aria-describedby",r.messageElement.id),t.removeAttribute(ry)}_isElementDescribedByMessage(t,i){let r=oy(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=t.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hx(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function fL(n,e){n.id||(n.id=`${pL}-${e}-${px++}`)}var gL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return n})();var Kl;function _L(){if(Kl==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Kl=!1,Kl;if("scrollBehavior"in document.documentElement.style)Kl=!0;else{let n=Element.prototype.scrollTo;n?Kl=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Kl=!1}}return Kl}function mx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ju,yL=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function gx(){if(ju)return ju;if(typeof document!="object"||!document)return ju=new Set(yL),ju;let n=document.createElement("input");return ju=new Set(yL.filter(e=>(n.setAttribute("type",e),n.type===e))),ju}function Po(n){return n!=null&&`${n}`!="false"}function cn(n){return n==null?"":typeof n=="string"?n:`${n}px`}var Ir=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ir||{}),_x=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ir.HIDDEN;constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},vL=Na({passive:!0,capture:!0}),yx=class{_events=new Map;addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,vL)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,vL)))}_delegateEventHandler=e=>{let t=Cr(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}},EL={enterDuration:225,exitDuration:150},m9=800,bL=Na({passive:!0,capture:!0}),wL=["mousedown","touchstart"],CL=["mouseup","mouseleave","touchend","touchcancel"],g9=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return n})(),vx=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new yx;constructor(e,t,i,r,o){this._target=e,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=tr(i)),o&&o.get(xr).load(g9)}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=j(j({},EL),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||_9(e,t,r),l=e-r.left,u=t-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${l-s}px`,h.style.top=`${u-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);let p=window.getComputedStyle(h),g=p.transitionProperty,_=p.transitionDuration,v=g==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,w=new _x(this,h,i,v);h.style.transform="scale3d(1, 1, 1)",w.state=Ir.FADING_IN,i.persistent||(this._mostRecentTransientRipple=w);let x=null;return!v&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let D=()=>{x&&(x.fallbackTimer=null),clearTimeout(A),this._finishRippleTransition(w)},T=()=>this._destroyRipple(w),A=setTimeout(T,d+100);h.addEventListener("transitionend",D),h.addEventListener("transitioncancel",T),x={onTransitionEnd:D,onTransitionCancel:T,fallbackTimer:A}}),this._activeRipples.set(w,x),(v||!d)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(e.state===Ir.FADING_OUT||e.state===Ir.HIDDEN)return;let t=e.element,i=j(j({},EL),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Ir.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=tr(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,wL.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{CL.forEach(t=>{this._triggerElement.addEventListener(t,this,bL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ir.FADING_IN?this._startFadeOutTransition(e):e.state===Ir.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Ir.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ir.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=ql(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+m9;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Yl(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Ir.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ir.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(wL.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(CL.forEach(t=>e.removeEventListener(t,this,bL)),this._pointerUpEventsRegistered=!1))}};function _9(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var y9=new F("mat-ripple-global-options"),xL=(()=>{class n{_elementRef=C(Fe);_animationMode=C(Co,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=C(fe),i=C(Mt),r=C(y9,{optional:!0}),o=C(lt);this._globalOptions=r||{},this._rippleRenderer=new vx(this,t,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,j(j({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),t))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Pt("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var Bu=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Uu=class extends Bu{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=o}},Ql=class extends Bu{templateRef;viewContainerRef;context;injector;constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},sy=class extends Bu{element;constructor(e){super(),this.element=e instanceof Fe?e.nativeElement:e}},ay=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Uu)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ql)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof sy)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Hu=class extends ay{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,i,r,o){super(),this.outletElement=e,this._appRef=i,this._defaultInjector=r,this._document=o}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(ba,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||lt.NULL,o=r.get(fn,i.injector);t=Zg(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Ex=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({})}return n})();var IL=new F("cdk-dir-doc",{providedIn:"root",factory:v9});function v9(){return C(Ie)}var E9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function b9(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?E9.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Os=(()=>{class n{value="ltr";change=new vt;constructor(){let t=C(IL,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.value=b9(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ns=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({})}return n})();var DL=20,zu=(()=>{class n{_ngZone=C(fe);_platform=C(Mt);_renderer=C(Vn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new K;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=DL){return this._platform.isBrowser?new de(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=t>0?this._scrolled.pipe($m(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ce()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(yt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let r=tr(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SL=20,Sh=(()=>{class n{_platform=C(Mt);_listeners;_viewportSize;_change=new K;_document=C(Ie,{optional:!0});constructor(){let t=C(fe),i=C(Vn).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),s=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,l=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:l}}change(t=SL){return t>0?this._change.pipe($m(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({})}return n})(),ly=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[Ns,Fa,Ns,Fa]})}return n})();var TL=_L(),cy=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=cn(-this._previousScrollPosition.left),e.style.top=cn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),TL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TL&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};var uy=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(yt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Th=class{enable(){}disable(){}attach(){}};function bx(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return i||r||o||s})}function ML(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return i||r||o||s})}var dy=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bx(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},FL=(()=>{class n{_scrollDispatcher=C(zu);_viewportRuler=C(Sh);_ngZone=C(fe);_document=C(Ie);constructor(){}noop=()=>new Th;close=t=>new uy(this._scrollDispatcher,this._ngZone,this._viewportRuler,t);block=()=>new cy(this._viewportRuler,this._document);reposition=t=>new dy(this._scrollDispatcher,this._viewportRuler,this._ngZone,t);static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gu=class{positionStrategy;scrollStrategy=new Th;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var fy=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var LL=(()=>{class n{_attachedOverlays=[];_document=C(Ie);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kL=(()=>{class n extends LL{_ngZone=C(fe);_renderer=C(Vn).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Es(n)))(r||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VL=(()=>{class n extends LL{_platform=C(Mt);_ngZone=C(fe);_renderer=C(Vn).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,r={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Fi(this._renderer,i,"pointerdown",this._pointerDownListener,r),Fi(this._renderer,i,"click",this._clickListener,r),Fi(this._renderer,i,"auxclick",this._clickListener,r),Fi(this._renderer,i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=Cr(t)};_clickListener=t=>{let i=Cr(t),r=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let l=o[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(RL(l.overlayElement,i)||RL(l.overlayElement,r))break;let u=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(t)):u.next(t)}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=Es(n)))(r||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RL(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var jL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return n})(),Cx=(()=>{class n{_platform=C(Mt);_containerElement;_document=C(Ie);_styleLoader=C(xr);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||mx()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),mx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(jL)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wx=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,r){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},hy=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new K;_attachments=new K;_detachments=new K;_positionStrategy;_scrollStrategy;_locationChanges=rt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new K;_outsidePointerEvents=new K;_renders=new K;_afterRenderRef;_afterNextRenderRef;constructor(e,t,i,r,o,s,l,u,d,h=!1,p,g){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=u,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=p,this._renderer=g,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=vi(()=>kf(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Yr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=j(j({},this._config),e),this._updateElementSize()}setDirection(e){this._config=xe(j({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=cn(this._config.width),e.height=cn(this._config.height),e.minWidth=cn(this._config.minWidth),e.minHeight=cn(this._config.minHeight),e.maxWidth=cn(this._config.maxWidth),e.maxHeight=cn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new wx(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let r=Vu(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(dt(fs(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},AL="cdk-overlay-connected-position-bounding-box",w9=/([A-Za-z%]+)$/,py=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new K;_resizeSubscription=rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(AL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let l of this._preferredPositions){let u=this._getOriginPoint(e,r,l),d=this._getOverlayPoint(u,t,l),h=this._getOverlayFit(d,t,i,l);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,u);return}if(this._canFitWithFlexibleDimensions(h,d,i)){o.push({position:l,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,l)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:u,position:l,overlayRect:t})}if(o.length){let l=null,u=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>u&&(u=h,l=d)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,l=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:l}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=NL(t),{x:s,y:l}=e,u=this._getOffset(r,"x"),d=this._getOffset(r,"y");u&&(s+=u),d&&(l+=d);let h=0-s,p=s+o.width-i.width,g=0-l,_=l+o.height-i.height,v=this._subtractOverflows(o.width,h,p),w=this._subtractOverflows(o.height,g,_),x=v*w;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,s=OL(this._overlayRef.getConfig().minHeight),l=OL(this._overlayRef.getConfig().minWidth),u=e.fitsInViewportVertically||s!=null&&s<=r,d=e.fitsInViewportHorizontally||l!=null&&l<=o;return u&&d}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=NL(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),l=Math.max(e.y+r.height-o.height,0),u=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0),h=0,p=0;return r.width<=o.width?h=d||-s:h=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?p=u||-l:p=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!C9(this._lastScrollVisibility,i)){let r=new fy(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,s,l;if(t.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(t.overlayY==="bottom")l=i.height-e.y+this._viewportMargin*2,o=i.height-l+this._viewportMargin;else{let _=Math.min(i.bottom-e.y+i.top,e.y),v=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-v/2)}let u=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,d=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,h,p,g;if(d)g=i.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(u)p=e.x,h=i.right-e.x;else{let _=Math.min(i.right-e.x+i.left,e.x),v=this._lastBoundingBoxSize.width;h=_*2,p=e.x-_,h>v&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-v/2)}return{top:s,left:p,bottom:l,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=cn(i.height),r.top=cn(i.top),r.bottom=cn(i.bottom),r.width=cn(i.width),r.left=cn(i.left),r.right=cn(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=cn(o)),s&&(r.maxWidth=cn(s))}this._lastBoundingBoxSize=i,Jl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Jl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();Jl(i,this._getExactOverlayY(t,e,h)),Jl(i,this._getExactOverlayX(t,e,h))}else i.position="static";let l="",u=this._getOffset(t,"x"),d=this._getOffset(t,"y");u&&(l+=`translateX(${u}px) `),d&&(l+=`translateY(${d}px)`),i.transform=l.trim(),s.maxHeight&&(r?i.maxHeight=cn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=cn(s.maxWidth):o&&(i.maxWidth="")),Jl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=cn(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;r.right=`${l-(o.x+this._overlayRect.width)}px`}else r.left=cn(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ML(e,i),isOriginOutsideView:bx(e,i),isOverlayClipped:ML(t,i),isOverlayOutsideView:bx(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Vu(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Fe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function Jl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function OL(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(w9);return!t||t==="px"?parseFloat(e):null}return n||null}function NL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function C9(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var PL="cdk-global-overlay-wrapper",my=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(PL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:l}=i,u=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),h=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",v="",w="";u?w="flex-start":h==="center"?(w="center",g?v=p:_=p):g?h==="left"||h==="end"?(w="flex-end",_=p):(h==="right"||h==="start")&&(w="flex-start",v=p):h==="left"||h==="start"?(w="flex-start",_=p):(h==="right"||h==="end")&&(w="flex-end",v=p),e.position=this._cssPosition,e.marginLeft=u?"0":_,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":v,t.justifyContent=w,t.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(PL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},BL=(()=>{class n{_viewportRuler=C(Sh);_document=C(Ie);_platform=C(Mt);_overlayContainer=C(Cx);constructor(){}global(){return new my}flexibleConnectedTo(t){return new py(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dr=(()=>{class n{scrollStrategies=C(FL);_overlayContainer=C(Cx);_positionBuilder=C(BL);_keyboardDispatcher=C(kL);_injector=C(lt);_ngZone=C(fe);_document=C(Ie);_directionality=C(Os);_location=C(Sa);_outsideClickDispatcher=C(VL);_animationsModuleType=C(Co,{optional:!0});_idGenerator=C(No);_renderer=C(Vn).createRenderer(null,null);_appRef;_styleLoader=C(xr);constructor(){}create(t){this._styleLoader.load(jL);let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Gu(t);return s.direction=s.direction||this._directionality.value,new hy(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(fn),this._renderer)}position(){return this._positionBuilder}_createPaneElement(t){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Xn)),new Hu(t,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x9=new F("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=C(Dr);return()=>n.scrollStrategies.reposition()}});function I9(n){return()=>n.scrollStrategies.reposition()}var D9={provide:x9,deps:[Dr],useFactory:I9},Mh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({providers:[Dr,D9],imports:[Ns,Ex,ly,ly]})}return n})();var Mn=(()=>{class n{constructor(){C(ty)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[Ns,Ns]})}return n})();var UL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[Mn,Mn]})}return n})();var F9=["mat-menu-item",""],L9=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],k9=["mat-icon, [matMenuItemIcon]","*"];function V9(n,e){n&1&&(LO(),Ee(0,"svg",2),xt(1,"polygon",3),Re())}var j9=["*"];function B9(n,e){if(n&1){let t=Zr();Ee(0,"div",0),$t("click",function(){Zn(t);let r=It();return Kn(r.closed.emit("click"))})("animationstart",function(r){Zn(t);let o=It();return Kn(o._onAnimationStart(r.animationName))})("animationend",function(r){Zn(t);let o=It();return Kn(o._onAnimationDone(r.animationName))})("animationcancel",function(r){Zn(t);let o=It();return Kn(o._onAnimationDone(r.animationName))}),Ee(1,"div",1),Sn(2),Re()()}if(n&2){let t=It();Yg(t._classList),Pt("mat-menu-panel-animations-disabled",t._animationsDisabled)("mat-menu-panel-exit-animation",t._panelAnimationState==="void")("mat-menu-panel-animating",t._isAnimating),ft("id",t.panelId),_i("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}var Dx=new F("MAT_MENU_PANEL"),Ah=(()=>{class n{_elementRef=C(Fe);_document=C(Ie);_focusMonitor=C(ku);_parentMenu=C(Dx,{optional:!0});_changeDetectorRef=C(En);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new K;_focused=new K;_highlighted=!1;_triggersSubmenu=!1;constructor(){C(xr).load(gL),this._parentMenu?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&$t("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(_i("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Pt("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Jn],disableRipple:[2,"disableRipple","disableRipple",Jn]},exportAs:["matMenuItem"],attrs:F9,ngContentSelectors:k9,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(xs(L9),Sn(0),Ee(1,"span",0),Sn(2,1),Re(),xt(3,"div",1),Tt(4,V9,2,0,":svg:svg",2)),i&2&&(Me(3),ft("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Me(),Qn(r._triggersSubmenu?4:-1))},dependencies:[xL],encapsulation:2,changeDetection:0})}return n})();var U9=new F("MatMenuContent");var H9=new F("mat-menu-default-options",{providedIn:"root",factory:z9});function z9(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var xx="_mat-menu-enter",gy="_mat-menu-exit",Wu=(()=>{class n{_elementRef=C(Fe);_changeDetectorRef=C(En);_injector=C(lt);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Ea;_classList={};_panelAnimationState="void";_animationDone=new K;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(t){let i=this._previousPanelClass,r=j({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(t){this.panelClass=t}closed=new vt;close=this.closed;panelId=C(No).getId("mat-menu-panel-");constructor(){let t=C(H9);this.overlayPanelClass=t.overlayPanelClass||"",this._xPosition=t.xPosition,this._yPosition=t.yPosition,this.backdropClass=t.backdropClass,this.overlapTrigger=t.overlapTrigger,this.hasBackdrop=t.hasBackdrop,this._animationsDisabled=C(Co,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Dh(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ui(this._directDescendantItems),Qt(t=>fs(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(ui(this._directDescendantItems),Qt(i=>fs(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){let i=t.keyCode,r=this._keyManager;switch(i){case 27:Zl(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(t);return}}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Yr(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){}setPositionClasses(t=this.xPosition,i=this.yPosition){this._classList=xe(j({},this._classList),{"mat-menu-before":t==="before","mat-menu-after":t==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(t){let i=t===gy;(i||t===xx)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(t){(t===xx||t===gy)&&(this._isAnimating=!0)}_setIsOpen(t){if(this._panelAnimationState=t?"enter":"void",t){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(gy),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(t?xx:gy)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(ui(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let t=null;return this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),t}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&(Io(o,U9,5),Io(o,Ah,5),Io(o,Ah,4)),i&2){let s;Ft(s=Lt())&&(r.lazyContent=s.first),Ft(s=Lt())&&(r._allItems=s),Ft(s=Lt())&&(r.items=s)}},viewQuery:function(i,r){if(i&1&&jn(qr,5),i&2){let o;Ft(o=Lt())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&_i("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Jn],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>t==null?null:Jn(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[yi([{provide:Dx,useExisting:n}])],ngContentSelectors:j9,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(xs(),Tt(0,B9,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return n})(),HL=new F("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=C(Dr);return()=>n.scrollStrategies.reposition()}});function G9(n){return()=>n.scrollStrategies.reposition()}var W9={provide:HL,deps:[Dr],useFactory:G9},$9={passive:!0};var Rh=new WeakMap,_y=(()=>{class n{_overlay=C(Dr);_element=C(Fe);_viewContainerRef=C(gi);_menuItemInstance=C(Ah,{optional:!0,self:!0});_dir=C(Os,{optional:!0});_focusMonitor=C(ku);_ngZone=C(fe);_scrollStrategy=C(HL);_changeDetectorRef=C(En);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=rt.EMPTY;_hoverSubscription=rt.EMPTY;_menuCloseSubscription=rt.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._parentMaterialMenu,this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new vt;onMenuOpen=this.menuOpened;menuClosed=new vt;onMenuClose=this.menuClosed;constructor(){let t=C(Dx,{optional:!0}),i=C(Qi);this._parentMaterialMenu=t instanceof Wu?t:void 0,this._cleanupTouchstart=Fi(i,this._element.nativeElement,"touchstart",r=>{Yl(r)||(this._openedBy="touch")},$9)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Rh.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let t=this.menu;if(this._menuOpen||!t)return;this._pendingRemoval?.unsubscribe();let i=Rh.get(t);Rh.set(t,this),i&&i!==this&&i.closeMenu();let r=this._createOverlay(t),o=r.getConfig(),s=o.positionStrategy;this._setPosition(t,s),o.hasBackdrop=t.hasBackdrop==null?!this.triggersSubmenu():t.hasBackdrop,r.hasAttached()||(r.attach(this._getPortal(t)),t.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),t instanceof Wu&&(t._setIsOpen(!0),t._directDescendantItems.changes.pipe(dt(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof Wu&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(an(1)).subscribe(()=>{i.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&Rh.delete(r),this.restoreFocus&&(t==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){let i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe(r=>{this.menu instanceof Wu&&this.menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(t){return new Gu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",s=r.connectionPair.overlayY==="top"?"below":"above";t.setPositionClasses(o,s)})})}_setPosition(t,i){let[r,o]=t.xPosition==="before"?["end","start"]:["start","end"],[s,l]=t.yPosition==="above"?["bottom","top"]:["top","bottom"],[u,d]=[s,l],[h,p]=[r,o],g=0;if(this.triggersSubmenu()){if(p=r=t.xPosition==="before"?"start":"end",o=h=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let _=this._parentMaterialMenu.items.first;this._parentInnerPadding=_?_._getHostElement().offsetTop:0}g=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(u=s==="top"?"bottom":"top",d=l==="top"?"bottom":"top");i.withPositions([{originX:r,originY:u,overlayX:h,overlayY:s,offsetY:g},{originX:o,originY:u,overlayX:p,overlayY:s,offsetY:g},{originX:r,originY:d,overlayX:h,overlayY:l,offsetY:-g},{originX:o,originY:d,overlayX:p,overlayY:l,offsetY:-g}])}_menuClosingActions(){let t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:ce(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(yt(s=>this._menuOpen&&s!==this._menuItemInstance)):ce();return fs(t,r,o,i)}_handleMousedown(t){ql(t)||(this._openedBy=t.button===0?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){let i=t.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(t=>{t===this._menuItemInstance&&!t.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Ql(t.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(t){return Rh.get(t)===this}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&$t("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),i&2&&_i("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return n})(),zL=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({providers:[W9],imports:[UL,Mn,Mh,Fa,Mn]})}return n})(),GL={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},M_e=GL.fadeInItems,R_e=GL.transformMenu;var yy;function Y9(){if(yy===void 0&&(yy=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(yy=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return yy}function Oh(n){return Y9()?.createHTML(n)||n}function WL(n){return Error(`Unable to find icon with the name "${n}"`)}function X9(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function $L(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qL(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Ps=class{url;svgText;options;svgElement;constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},XL=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Ps(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){let s=this._sanitizer.sanitize(Ni.HTML,r);if(!s)throw qL(r);let l=Oh(s);return this._addSvgIconConfig(t,i,new Ps("",l,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Ps(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){let o=this._sanitizer.sanitize(Ni.HTML,i);if(!o)throw qL(i);let s=Oh(o);return this._addSvgIconSetConfig(t,new Ps("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(Ni.RESOURCE_URL,t);if(!i)throw $L(t);let r=this._cachedIconsByUrl.get(i);return r?ce(vy(r)):this._loadSvgIconFromConfig(new Ps(t,null)).pipe(Wt(o=>this._cachedIconsByUrl.set(i,o)),ne(o=>vy(o)))}getNamedSvgIcon(t,i=""){let r=YL(i,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):da(WL(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ce(vy(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ne(i=>vy(i)))}_getSvgFromIconSetConfigs(t,i){let r=this._extractIconWithNameFromAnySet(t,i);if(r)return ce(r);let o=i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(po(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Ni.RESOURCE_URL,s.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),ce(null)})));return mf(o).pipe(ne(()=>{let s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw WL(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(s,t,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Wt(i=>t.svgText=i),ne(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ce(null):this._fetchIcon(t).pipe(Wt(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let l=this._svgElementFromString(Oh("<svg></svg>"));return l.appendChild(s),this._setSvgAttributes(l,r)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let i=this._svgElementFromString(Oh("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:s,value:l}=r[o];s!=="id"&&i.setAttribute(s,l)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw X9();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let s=this._sanitizer.sanitize(Ni.RESOURCE_URL,i);if(!s)throw $L(i);let l=this._inProgressUrlFetches.get(s);if(l)return l;let u=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ne(d=>Oh(d)),zr(()=>this._inProgressUrlFetches.delete(s)),ga());return this._inProgressUrlFetches.set(s,u),u}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(YL(t,i),r),this}_addSvgIconSetConfig(t,i){let r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,t);if(o)return Z9(o)?new Ps(o.url,null,o.options):new Ps(o,null)}}static \u0275fac=function(i){return new(i||n)(ie(wu,8),ie(gC),ie(Ie,8),ie(pi))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vy(n){return n.cloneNode(!0)}function YL(n,e){return n+":"+e}function Z9(n){return!!(n.url&&n.options)}var K9=["*"],ZL=new F("MAT_ICON_DEFAULT_OPTIONS"),KL=new F("mat-icon-location",{providedIn:"root",factory:QL});function QL(){let n=C(Ie),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var JL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Q9=JL.map(n=>`[${n}]`).join(", "),J9=/^url\(['"]?#(.*?)['"]?\)$/,Sx=(()=>{class n{_elementRef=C(Fe);_iconRegistry=C(XL);_location=C(KL);_errorHandler=C(pi);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=rt.EMPTY;constructor(){let t=C(new vg("aria-hidden"),{optional:!0}),i=C(ZL,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=t.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(Q9),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)JL.forEach(s=>{let l=i[o],u=l.getAttribute(s),d=u?u.match(J9):null;if(d){let h=r.get(l);h||(h=[],r.set(l,h)),h.push({name:s,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(an(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(_i("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Yg(r.color?"mat-"+r.color:""),Pt("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Jn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:K9,decls:1,vars:0,template:function(i,r){i&1&&(xs(),Sn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Tx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[Mn,Mn]})}return n})();var t7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return n})(),n7={passive:!0},ek=(()=>{class n{_platform=C(Mt);_ngZone=C(fe);_renderer=C(Vn).createRenderer(null,null);_styleLoader=C(xr);_monitoredElements=new Map;constructor(){}monitor(t){if(!this._platform.isBrowser)return Dn;this._styleLoader.load(t7);let i=tr(t),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new K,s="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:d.target,isAutofilled:!1})))},u=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),Fi(this._renderer,i,"animationstart",l,n7)));return this._monitoredElements.set(i,{subject:o,unlisten:u}),o}stopMonitoring(t){let i=tr(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({})}return n})();var nk=new F("MAT_INPUT_VALUE_ACCESSOR");var Mx=class{_box;_destroyed=new K;_resizeSubject=new K;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new de(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(yt(t=>t.some(i=>i.target===e)),hs({bufferSize:1,refCount:!0}),dt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},ik=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=C(fe);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Mx(r)),this._observers.get(r).observe(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var i7=["notch"],r7=["matFormFieldNotchedOutline",""],o7=["*"],s7=["textField"],a7=["iconPrefixContainer"],l7=["textPrefixContainer"],c7=["iconSuffixContainer"],u7=["textSuffixContainer"],d7=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],f7=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function h7(n,e){n&1&&xt(0,"span",20)}function p7(n,e){if(n&1&&(Ee(0,"label",19),Sn(1,1),Tt(2,h7,1,0,"span",20),Re()),n&2){let t=It(2);ft("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),_i("for",t._control.disableAutomaticLabeling?null:t._control.id),Me(2),Qn(!t.hideRequiredMarker&&t._control.required?2:-1)}}function m7(n,e){if(n&1&&Tt(0,p7,3,5,"label",19),n&2){let t=It();Qn(t._hasFloatingLabel()?0:-1)}}function g7(n,e){n&1&&xt(0,"div",7)}function _7(n,e){}function y7(n,e){if(n&1&&Tt(0,_7,0,0,"ng-template",13),n&2){It(2);let t=jl(1);ft("ngTemplateOutlet",t)}}function v7(n,e){if(n&1&&(Ee(0,"div",9),Tt(1,y7,1,1,null,13),Re()),n&2){let t=It();ft("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),Me(),Qn(t._forceDisplayInfixLabel()?-1:1)}}function E7(n,e){n&1&&(Ee(0,"div",10,2),Sn(2,2),Re())}function b7(n,e){n&1&&(Ee(0,"div",11,3),Sn(2,3),Re())}function w7(n,e){}function C7(n,e){if(n&1&&Tt(0,w7,0,0,"ng-template",13),n&2){It();let t=jl(1);ft("ngTemplateOutlet",t)}}function x7(n,e){n&1&&(Ee(0,"div",14,4),Sn(2,4),Re())}function I7(n,e){n&1&&(Ee(0,"div",15,5),Sn(2,5),Re())}function D7(n,e){n&1&&xt(0,"div",16)}function S7(n,e){n&1&&Sn(0,6)}function T7(n,e){if(n&1&&(Ee(0,"mat-hint",21),vn(1),Re()),n&2){let t=It(2);ft("id",t._hintLabelId),Me(),Is(t.hintLabel)}}function M7(n,e){if(n&1&&(Tt(0,T7,2,2,"mat-hint",21),Sn(1,7),xt(2,"div",22),Sn(3,8)),n&2){let t=It();Qn(t.hintLabel?0:-1)}}var by=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["mat-label"]]})}return n})(),uk=new F("MatError");var wy=(()=>{class n{align="start";id=C(No).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Bf("id",r.id),_i("align",null),Pt("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),dk=new F("MatPrefix");var Rx=new F("MatSuffix"),Cy=(()=>{class n{set _isTextSelector(t){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[yi([{provide:Rx,useExisting:n}])]})}return n})(),fk=new F("FloatingLabelParent"),rk=(()=>{class n{_elementRef=C(Fe);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=C(ik);_ngZone=C(fe);_parent=C(fk);_resizeSubscription=new rt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return R7(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&Pt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function R7(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var ok="mdc-line-ripple--active",Ey="mdc-line-ripple--deactivating",sk=(()=>{class n{_elementRef=C(Fe);_cleanupTransitionEnd;constructor(){let t=C(fe),i=C(Qi);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(Ey),t.add(ok)}deactivate(){this._elementRef.nativeElement.classList.add(Ey)}_handleTransitionEnd=t=>{let i=this._elementRef.nativeElement.classList,r=i.contains(Ey);t.propertyName==="opacity"&&r&&i.remove(ok,Ey)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),ak=(()=>{class n{_elementRef=C(Fe);_ngZone=C(fe);open=!1;_notch;constructor(){}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&jn(i7,5),i&2){let o;Ft(o=Lt())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&Pt("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:r7,ngContentSelectors:o7,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(xs(),xt(0,"div",1),Ee(1,"div",2,0),Sn(3),Re(),xt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),xy=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n})}return n})();var Iy=new F("MatFormField"),Dy=new F("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lk="fill",A7="auto",ck="fixed",O7="translateY(-50%)",Sy=(()=>{class n{_elementRef=C(Fe);_changeDetectorRef=C(En);_dir=C(Os);_platform=C(Mt);_idGenerator=C(No);_ngZone=C(fe);_injector=C(lt);_defaults=C(Dy,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=gN(by);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Po(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||A7}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(t){let i=this._appearance,r=t||this._defaults?.appearance||lk;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=lk;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||ck}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||ck}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new K;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let t=this._defaults;t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),this._animationsDisabled=C(Co,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Do(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(ui([void 0,void 0]),ne(()=>[i.errorState,i.userAriaDescribedBy]),Ym(),yt(([[o,s],[l,u]])=>o!==l||s!==u)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(dt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),fs(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),kf(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(dt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Do(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let i=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,l=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,h=s?.getBoundingClientRect().width??0,p=this._dir.value==="rtl"?"-1":"1",g=`${l+u}px`,v=`calc(${p} * (${g} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${O7} translateX(${v})
    )`;let w=l+u+d+h;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${w}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(ON(o,r._labelChild,by,5),Io(o,xy,5),Io(o,dk,5),Io(o,Rx,5),Io(o,uk,5),Io(o,wy,5)),i&2){NN();let s;Ft(s=Lt())&&(r._formFieldControl=s.first),Ft(s=Lt())&&(r._prefixChildren=s),Ft(s=Lt())&&(r._suffixChildren=s),Ft(s=Lt())&&(r._errorChildren=s),Ft(s=Lt())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(jn(s7,5),jn(a7,5),jn(l7,5),jn(c7,5),jn(u7,5),jn(rk,5),jn(ak,5),jn(sk,5)),i&2){let o;Ft(o=Lt())&&(r._textField=o.first),Ft(o=Lt())&&(r._iconPrefixContainer=o.first),Ft(o=Lt())&&(r._textPrefixContainer=o.first),Ft(o=Lt())&&(r._iconSuffixContainer=o.first),Ft(o=Lt())&&(r._textSuffixContainer=o.first),Ft(o=Lt())&&(r._floatingLabel=o.first),Ft(o=Lt())&&(r._notchedOutline=o.first),Ft(o=Lt())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(i,r){i&2&&Pt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[yi([{provide:Iy,useExisting:n},{provide:fk,useExisting:n}])],ngContentSelectors:f7,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=Zr();xs(d7),Tt(0,m7,1,1,"ng-template",null,0,Xg),Ee(2,"div",6,1),$t("click",function(l){return Zn(o),Kn(r._control.onContainerClick(l))}),Tt(4,g7,1,0,"div",7),Ee(5,"div",8),Tt(6,v7,2,2,"div",9)(7,E7,3,0,"div",10)(8,b7,3,0,"div",11),Ee(9,"div",12),Tt(10,C7,1,1,null,13),Sn(11),Re(),Tt(12,x7,3,0,"div",14)(13,I7,3,0,"div",15),Re(),Tt(14,D7,1,0,"div",16),Re(),Ee(15,"div",17),Uw(16),Ee(17,"div",18),Tt(18,S7,1,0)(19,M7,4,1),Re()()}if(i&2){let o;Me(2),Pt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Me(2),Qn(!r._hasOutline()&&!r._control.disabled?4:-1),Me(2),Qn(r._hasOutline()?6:-1),Me(),Qn(r._hasIconPrefix?7:-1),Me(),Qn(r._hasTextPrefix?8:-1),Me(2),Qn(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),Me(2),Qn(r._hasTextSuffix?12:-1),Me(),Qn(r._hasIconSuffix?13:-1),Me(),Qn(r._hasOutline()?-1:14),Me(),Pt("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();Me(2),Pt("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),Me(),Qn((o=s)==="error"?18:o==="hint"?19:-1)}},dependencies:[rk,ak,Zw,sk,wy],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,changeDetection:0})}return n})();var hk=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ty=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var $u=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[Mn,Ih,Mn]})}return n})();var F7=["button","checkbox","file","hidden","image","radio","range","reset","submit"],L7=new F("MAT_INPUT_CONFIG"),pk=(()=>{class n{_elementRef=C(Fe);_platform=C(Mt);ngControl=C($l,{optional:!0,self:!0});_autofillMonitor=C(ek);_ngZone=C(fe);_formField=C(Iy,{optional:!0});_renderer=C(Qi);_uid=C(No).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=C(L7,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new K;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=Po(t),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(t){this._id=t||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(B_.required)??!1}set required(t){this._required=Po(t)}_required;get type(){return this._type}set type(t){let i=this._type;this._type=t||"text",this._validateType(),!this._isTextarea&&gx().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(t){t!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(t):this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Po(t)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>gx().has(t));constructor(){let t=C(wh,{optional:!0}),i=C(JC,{optional:!0}),r=C(hk),o=C(nk,{optional:!0,self:!0}),s=this._elementRef.nativeElement,l=s.nodeName.toLowerCase();o?hu(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Ty(r,this.ngControl,i,t,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&gu(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){if(t!==this.focused){if(!this._isNativeSelect&&t&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=t,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){F7.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(t){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),o;if(r){let s=this._formFieldDescribedBy||t;o=t.concat(r.split(" ").filter(l=>l&&!s.includes(l)))}else o=t;this._formFieldDescribedBy=t,o.length?i.setAttribute("aria-describedby",o.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_iOSKeyupListener=t=>{let i=t.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&$t("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Bf("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),_i("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Pt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Jn]},exportAs:["matInput"],features:[yi([{provide:xy,useExisting:n}]),br]})}return n})(),mk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({imports:[Mn,$u,$u,tk,Mn]})}return n})();var V7=["tooltip"],Ax=20;var Ox=new F("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=C(Dr);return()=>n.scrollStrategies.reposition({scrollThrottle:Ax})}});function yk(n){return()=>n.scrollStrategies.reposition({scrollThrottle:Ax})}var vk={provide:Ox,deps:[Dr],useFactory:yk};function Ek(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var bk=new F("mat-tooltip-default-options",{providedIn:"root",factory:Ek});var gk="tooltip-panel",_k=Na({passive:!0}),j7=8,B7=8,U7=24,H7=200,Nx=(()=>{class n{_elementRef=C(Fe);_ngZone=C(fe);_platform=C(Mt);_ariaDescriber=C(mL);_focusMonitor=C(ku);_dir=C(Os);_injector=C(lt);_viewContainerRef=C(gi);_defaultOptions=C(bk,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=wk;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Po(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let i=Po(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Lu(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Lu(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let i=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new K;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=j7}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(dt(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,_k)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Uu(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(dt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof Fe)return this._overlayRef;this._detach()}let i=this._injector.get(zu).getAncestorScrollContainers(this._elementRef),r=this._injector.get(Dr),o=r.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(dt(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=r.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${gk}`,scrollStrategy:this._injector.get(Ox)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(dt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(dt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(dt(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Zl(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(dt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(j(j({},r.main),o.main)),this._addOffset(j(j({},r.fallback),o.fallback))])}_addOffset(t){let i=B7,r=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-i:t.originY==="bottom"?t.offsetY=i:t.originX==="start"?t.offsetX=r?-i:i:t.originX==="end"&&(t.offsetX=r?i:-i),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&t||i=="right"&&!t?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&t||i=="right"&&!t?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Yr(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){let{overlayY:i,originX:r,originY:o}=t,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let l=this._overlayRef;if(l){let u=`${this._cssClassPrefix}-${gk}-`;l.removePanelClass(u+this._currentPosition),l.addPanelClass(u+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let i;t.x!==void 0&&t.y!==void 0&&(i=t),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,_k)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let i=this._injector.get(Ie).elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let i=this._elementRef.nativeElement,r=i.style;(t==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(t==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||Yr({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ze({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&Pt("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),wk=(()=>{class n{_changeDetectorRef=C(En);_elementRef=C(Fe);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new K;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let t=C(Co,{optional:!0});this._animationsDisabled=t==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>U7&&t.width>=H7}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Xe({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&jn(V7,7),i&2){let o;Ft(o=Lt())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&$t("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=Zr();Ee(0,"div",1,0),$t("animationend",function(l){return Zn(o),Kn(r._handleAnimationEnd(l))}),Ee(2,"div",2),vn(3),Re()()}i&2&&(Pt("mdc-tooltip--multiline",r._isMultiline),ft("ngClass",r.tooltipClass),Me(3),Is(r.message))},dependencies:[Xw],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),Px=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Je({type:n});static \u0275inj=Qe({providers:[vk],imports:[cx,Mh,Mn,Mn,Fa]})}return n})();var La=class n{userStore$=new Bt(null);user$=this.userStore$.asObservable();isLogged(){return!!this.userStore$.getValue()?.id}setUserName(e){this.userStore$.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function G7(n,e){if(n&1){let t=Zr();Ee(0,"form",8),$t("click",function(r){return Zn(t),Kn(r.stopPropagation())}),Ee(1,"mat-form-field",9)(2,"input",10),Bw("ngModelChange",function(r){Zn(t);let o=It();return FN(o.userName,r)||(o.userName=r),Kn(r)}),Re(),Ee(3,"button",11),$t("click",function(){Zn(t);let r=It();return Kn(r.usernameChangeWithEvent())}),Ee(4,"mat-icon",12),vn(5,"recommend"),Re()()()()}if(n&2){let t=It();Me(2),jw("ngModel",t.userName)}}function W7(n,e){if(n&1){let t=Zr();Ee(0,"button",13),$t("click",function(){Zn(t);let r=It();return Kn(r.logout())}),vn(1," Logout "),Re()}}var qu=class n{constructor(e){this.authService$=e}trigger=null;userName="";isLoggedIn=!1;ngOnInit(){this.authService$.user$.subscribe(e=>{e?(this.isLoggedIn=!0,this.userName=e.name):this.isLoggedIn=!1})}usernameChangeWithEvent(){this.userName&&(this.authService$.setUserName({name:this.userName,id:ix()}),this.trigger?.closeMenu())}logout(){this.authService$.setUserName(null)}static \u0275fac=function(t){return new(t||n)(ue(La))};static \u0275cmp=Xe({type:n,selectors:[["app-header"]],viewQuery:function(t,i){if(t&1&&jn(_y,5),t&2){let r;Ft(r=Lt())&&(i.trigger=r.first)}},decls:13,vars:4,consts:[["menu","matMenu"],["login","matMenu"],[1,"brand"],[1,"menu"],["matTooltipPosition","left","matTooltipClass","tooltip","mat-icon-button","","aria-label","Account icon-button with a menu",3,"matTooltip","matMenuTriggerFor"],["src","/assets/icons8-login-50.png","alt","avatar"],["mat-menu-item","","class","login-form",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",1,"login-form",3,"click"],[1,"full-width"],["type","text","name","userName","matInput","","placeholder","Please enter username",3,"ngModelChange","ngModel"],["matTooltip","Submit username","matTooltipPosition","above","matSuffix","","mat-icon-button","","aria-label","Submit",3,"click"],["matIconSuffix",""],["mat-menu-item","",3,"click"]],template:function(t,i){if(t&1&&(Ee(0,"header")(1,"div",2)(2,"h5"),vn(3,"The Hangout"),Re()(),Ee(4,"div",3)(5,"button",4),xt(6,"img",5),Re(),Ee(7,"mat-menu",null,0),Tt(9,G7,6,1,"form",6)(10,W7,2,0,"button",7),Re(),xt(11,"mat-menu",null,1),Re()()),t&2){let r=jl(8);Me(5),ft("matTooltip",i.isLoggedIn?"Logout menu":"Login menu")("matMenuTriggerFor",r),Me(4),ft("ngIf",!i.isLoggedIn),Me(),ft("ngIf",i.isLoggedIn)}},dependencies:[qF,$F,Z_,VF,jF,QC,wh,So,Ds,zL,Wu,Ah,_y,Tx,Sx,mk,pk,Sy,Cy,$u,Px,Nx],styles:[".mat-mdc-menu-content{padding:0 10px!important}  .mat-mdc-menu-item{padding:0!important}  .mat-mdc-text-field-wrapper, button[mat-icon-button][_ngcontent-%COMP%]{background-color:transparent!important}  .mat-mdc-menu-trigger{background-color:transparent!important;border-style:none!important}  .mdc-line-ripple{display:none!important}  .mat-mdc-form-field-icon-suffix>button{border-style:none!important;margin-left:10px I!important}  .mdc-tooltip__surface{color:#fff!important;background:gray!important;background-color:gray!important}  .mat-mdc-menu-panel{min-width:fit-content!important}header[_ngcontent-%COMP%]{display:flex;background:#020024;background:linear-gradient(90deg,#020024,#090979 35%,#00d4ff);margin:0;padding:5px 40px;color:#f5f5f5;box-shadow:0 2px 4px #0000001a}header[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{height:60px}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Lobster,cursive;font-size:20px;margin:0;letter-spacing:1px}header[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{padding:5px}"]})};var hn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Lx(n){let e=un();for(let t=0,i=n.length;t<i;++t)ic(e,n[t]);return e}function $7(n,e,t){let i=Math.min.apply(null,n),r=Math.min.apply(null,e),o=Math.max.apply(null,n),s=Math.max.apply(null,e);return nr(i,r,o,s,t)}function Yu(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Ry(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Ay(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Qr(n,e){return kx(n,e[0],e[1])}function tc(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function kx(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function My(n,e){let t=n[0],i=n[1],r=n[2],o=n[3],s=e[0],l=e[1],u=hn.UNKNOWN;return s<t?u=u|hn.LEFT:s>r&&(u=u|hn.RIGHT),l<i?u=u|hn.BELOW:l>o&&(u=u|hn.ABOVE),u===hn.UNKNOWN&&(u=hn.INTERSECTING),u}function un(){return[1/0,1/0,-1/0,-1/0]}function nr(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function nc(n){return nr(1/0,1/0,-1/0,-1/0,n)}function Oy(n,e){let t=n[0],i=n[1];return nr(t,i,t,i,e)}function Xu(n,e,t,i,r){let o=nc(r);return Vx(o,n,e,t,i)}function Fs(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function Ck(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function ic(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function Vx(n,e,t,i,r){for(;t<i;t+=r)q7(n,e[t],e[t+1]);return n}function q7(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function Ny(n,e){let t;return t=e(Zu(n)),t||(t=e(Ku(n)),t)||(t=e(Qu(n)),t)||(t=e(Tr(n)),t)?t:!1}function Nh(n){let e=0;return ka(n)||(e=Ue(n)*Ut(n)),e}function Zu(n){return[n[0],n[1]]}function Ku(n){return[n[2],n[1]]}function Sr(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function xk(n,e){let t;if(e==="bottom-left")t=Zu(n);else if(e==="bottom-right")t=Ku(n);else if(e==="top-left")t=Tr(n);else if(e==="top-right")t=Qu(n);else throw new Error("Invalid corner");return t}function Ph(n,e,t,i,r){let[o,s,l,u,d,h,p,g]=jx(n,e,t,i);return nr(Math.min(o,l,d,p),Math.min(s,u,h,g),Math.max(o,l,d,p),Math.max(s,u,h,g),r)}function jx(n,e,t,i){let r=e*i[0]/2,o=e*i[1]/2,s=Math.cos(t),l=Math.sin(t),u=r*s,d=r*l,h=o*s,p=o*l,g=n[0],_=n[1];return[g-u+p,_-d-h,g-u-p,_-d+h,g+u-p,_+d+h,g+u+p,_+d-h,g-u+p,_-d-h]}function Ut(n){return n[3]-n[1]}function Fo(n,e,t){let i=t||un();return qt(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):nc(i),i}function Tr(n){return[n[0],n[3]]}function Qu(n){return[n[2],n[3]]}function Ue(n){return n[2]-n[0]}function qt(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function ka(n){return n[2]<n[0]||n[3]<n[1]}function Ik(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function Dk(n,e,t){let i=!1,r=My(n,e),o=My(n,t);if(r===hn.INTERSECTING||o===hn.INTERSECTING)i=!0;else{let s=n[0],l=n[1],u=n[2],d=n[3],h=e[0],p=e[1],g=t[0],_=t[1],v=(_-p)/(g-h),w,x;o&hn.ABOVE&&!(r&hn.ABOVE)&&(w=g-(_-d)/v,i=w>=s&&w<=u),!i&&o&hn.RIGHT&&!(r&hn.RIGHT)&&(x=_-(g-u)*v,i=x>=l&&x<=d),!i&&o&hn.BELOW&&!(r&hn.BELOW)&&(w=g-(_-l)/v,i=w>=s&&w<=u),!i&&o&hn.LEFT&&!(r&hn.LEFT)&&(x=_-(g-s)*v,i=x>=l&&x<=d)}return i}function Sk(n,e,t,i){if(ka(n))return nc(t);let r=[];if(i>1){let l=n[2]-n[0],u=n[3]-n[1];for(let d=0;d<i;++d)r.push(n[0]+l*d/i,n[1],n[2],n[1]+u*d/i,n[2]-l*d/i,n[3],n[0],n[3]-u*d/i)}else r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];e(r,r,2);let o=[],s=[];for(let l=0,u=r.length;l<u;l+=2)o.push(r[l]),s.push(r[l+1]);return $7(o,s,t)}function Bx(n,e){let t=e.getExtent(),i=Sr(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){let r=Ue(t),s=Math.floor((i[0]-t[0])/r)*r;n[0]-=s,n[2]-=s}return n}function Py(n,e,t){if(e.canWrapX()){let i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];Bx(n,e);let r=Ue(i);if(Ue(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}function ct(n,e,t){return Math.min(Math.max(n,e),t)}function Tk(n,e,t,i,r,o){let s=r-t,l=o-i;if(s!==0||l!==0){let u=((n-t)*s+(e-i)*l)/(s*s+l*l);u>1?(t=r,i=o):u>0&&(t+=s*u,i+=l*u)}return Ls(n,e,t,i)}function Ls(n,e,t,i){let r=t-n,o=i-e;return r*r+o*o}function Mk(n){let e=n.length;for(let i=0;i<e;i++){let r=i,o=Math.abs(n[i][i]);for(let l=i+1;l<e;l++){let u=Math.abs(n[l][i]);u>o&&(o=u,r=l)}if(o===0)return null;let s=n[r];n[r]=n[i],n[i]=s;for(let l=i+1;l<e;l++){let u=-n[l][i]/n[i][i];for(let d=i;d<e+1;d++)i==d?n[l][d]=0:n[l][d]+=u*n[i][d]}}let t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function Fy(n){return n*180/Math.PI}function Jr(n){return n*Math.PI/180}function ks(n,e){let t=n%e;return t*e<0?t+e:t}function ei(n,e,t){return n+t*(e-n)}function Ju(n,e){let t=Math.pow(10,e);return Math.round(n*t)/t}function Fh(n,e){return Math.floor(Ju(n,e))}function Lh(n,e){return Math.ceil(Ju(n,e))}function Ly(n,e,t){if(n>=e&&n<t)return n;let i=t-e;return((n-e)%i+i)%i+e}function Rk(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function Y7(n,e,t){return n?e.replace("{x}",n[0].toFixed(t)).replace("{y}",n[1].toFixed(t)):""}function rc(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function ed(n,e){let t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,o=n[1]*t+n[0]*i;return n[0]=r,n[1]=o,n}function Ak(n,e){return n[0]*=e,n[1]*=e,n}function Ok(n,e){return Y7(n,"{x}, {y}",e)}function td(n,e){if(e.canWrapX()){let t=Ue(e.getExtent()),i=Nk(n,e,t);i&&(n[0]-=i*t)}return n}function Nk(n,e,t){let i=e.getExtent(),r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||Ue(i),r=Math.floor((n[0]-i[0])/t)),r}function Lo(n){for(let e in n)delete n[e]}function eo(n){let e;for(e in n)return!1;return!e}function Ae(n,e,t,i,r){if(r){let s=t;t=function(l){return n.removeEventListener(e,t),s.call(i??this,l)}}else i&&i!==n&&(t=t.bind(i));let o={target:n,type:e,listener:t};return n.addEventListener(e,t),o}function nd(n,e,t,i){return Ae(n,e,t,i,!0)}function at(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Lo(n))}var Va={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var Pk={info:1,warn:2,error:3,none:4},X7=Pk.info;function ky(...n){X7>Pk.warn||console.warn(...n)}var to={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var Ux=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||to[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},id=Ux;var kh=6378137,rd=Math.PI*kh,Z7=[-rd,-rd,rd,rd],K7=[-180,-85,180,85],Vy=kh*Math.log(Math.tan(Math.PI/2)),ja=class extends id{constructor(e){super({code:e,units:"m",extent:Z7,global:!0,worldExtent:K7,getPointResolution:function(t,i){return t/Math.cosh(i[1]/kh)}})}},Hx=[new ja("EPSG:3857"),new ja("EPSG:102100"),new ja("EPSG:102113"),new ja("EPSG:900913"),new ja("http://www.opengis.net/def/crs/EPSG/0/3857"),new ja("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Fk(n,e,t,i){let r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i){e[o]=rd*n[o]/180;let s=kh*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));s>Vy?s=Vy:s<-Vy&&(s=-Vy),e[o+1]=s}return e}function Lk(n,e,t,i){let r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i)e[o]=180*n[o]/rd,e[o+1]=360*Math.atan(Math.exp(n[o+1]/kh))/Math.PI-90;return e}var Q7=6378137,kk=[-180,-90,180,90],J7=Math.PI*Q7/180,Vs=class extends id{constructor(e,t){super({code:e,units:"degrees",extent:kk,axisOrientation:t,global:!0,metersPerUnit:J7,worldExtent:kk})}},zx=[new Vs("CRS:84"),new Vs("EPSG:4326","neu"),new Vs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vs("urn:ogc:def:crs:OGC:2:84"),new Vs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Vs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Vs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var Gx={};function Vk(n){return Gx[n]||Gx[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function jk(n,e){Gx[n]=e}var od={};function sd(n,e,t){let i=n.getCode(),r=e.getCode();i in od||(od[i]={}),od[i][r]=t}function jy(n,e){return n in od&&e in od[n]?od[n][e]:null}var By=.9996,Mr=.00669438,Hy=Mr*Mr,zy=Hy*Mr,oc=Mr/(1-Mr),Bk=Math.sqrt(1-Mr),ad=(1-Bk)/(1+Bk),Gk=ad*ad,Wx=Gk*ad,$x=Wx*ad,Wk=$x*ad,$k=1-Mr/4-3*Hy/64-5*zy/256,eQ=3*Mr/8+3*Hy/32+45*zy/1024,tQ=15*Hy/256+45*zy/1024,nQ=35*zy/3072,iQ=3/2*ad-27/32*Wx+269/512*Wk,rQ=21/16*Gk-55/32*$x,oQ=151/96*Wx-417/128*Wk,sQ=1097/512*$x,Uy=6378137;function aQ(n,e,t){let i=n-5e5,s=(t.north?e:e-1e7)/By/(Uy*$k),l=s+iQ*Math.sin(2*s)+rQ*Math.sin(4*s)+oQ*Math.sin(6*s)+sQ*Math.sin(8*s),u=Math.sin(l),d=u*u,h=Math.cos(l),p=u/h,g=p*p,_=g*g,v=1-Mr*d,w=Math.sqrt(1-Mr*d),x=Uy/w,D=(1-Mr)/v,T=oc*h**2,A=T*T,O=i/(x*By),N=O*O,U=N*O,G=U*O,W=G*O,$=W*O,Z=l-p/D*(N/2-G/24*(5+3*g+10*T-4*A-9*oc))+$/720*(61+90*g+298*T+45*_-252*oc-3*A),Ce=(O-U/6*(1+2*g+T)+W/120*(5-2*T+28*g-3*A+8*oc+24*_))/h;return Ce=Ly(Ce+Jr(qk(t.number)),-Math.PI,Math.PI),[Fy(Ce),Fy(Z)]}var Uk=-80,Hk=84,lQ=-180,cQ=180;function uQ(n,e,t){n=Ly(n,lQ,cQ),e<Uk?e=Uk:e>Hk&&(e=Hk);let i=Jr(e),r=Math.sin(i),o=Math.cos(i),s=r/o,l=s*s,u=l*l,d=Jr(n),h=qk(t.number),p=Jr(h),g=Uy/Math.sqrt(1-Mr*r**2),_=oc*o**2,v=o*Ly(d-p,-Math.PI,Math.PI),w=v*v,x=w*v,D=x*v,T=D*v,A=T*v,O=Uy*($k*i-eQ*Math.sin(2*i)+tQ*Math.sin(4*i)-nQ*Math.sin(6*i)),N=By*g*(v+x/6*(1-l+_)+T/120*(5-18*l+u+72*_-58*oc))+5e5,U=By*(O+g*s*(w/2+D/24*(5-l+9*_+4*_**2)+A/720*(61-58*l+u+600*_-330*oc)));return t.north||(U+=1e7),[N,U]}function qk(n){return(n-1)*6-180+3}var dQ=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function Yk(n){let e=0;for(let r of dQ){let o=n.match(r);if(o){e=parseInt(o[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function zk(n,e){return function(t,i,r,o){let s=t.length;r=r>1?r:2,o=o??r,i||(r>2?i=t.slice():i=new Array(s));for(let l=0;l<s;l+=o){let u=t[l],d=t[l+1],h=n(u,d,e);i[l]=h[0],i[l+1]=h[1]}return i}}function Xk(n){return Yk(n)?new id({code:n,units:"m"}):null}function Zk(n){let e=Yk(n.getCode());return e?{forward:zk(uQ,e),inverse:zk(aQ,e)}:null}var fQ=63710088e-1;function qx(n,e,t){t=t||fQ;let i=Jr(n[1]),r=Jr(e[1]),o=(r-i)/2,s=Jr(e[0]-n[0])/2,l=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var hQ=[Zk],pQ=[Xk];var Xx=!0;function Kx(n){Xx=!(n===void 0?!0:n)}function Qx(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function Qk(n,e){if(e!==void 0&&n!==e){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];n=e}return n}function Zx(n){jk(n.getCode(),n),sd(n,n,Qx)}function mQ(n){n.forEach(Zx)}function en(n){if(typeof n!="string")return n;let e=Vk(n);if(e)return e;for(let t of pQ){let i=t(n);if(i)return i}return null}function ld(n,e,t,i){n=en(n);let r,o=n.getPointResolutionFunc();if(o){if(r=o(e,t),i&&i!==n.getUnits()){let s=n.getMetersPerUnit();s&&(r=r*s/to[i])}}else{let s=n.getUnits();if(s=="degrees"&&!i||i=="degrees")r=e;else{let l=ko(n,en("EPSG:4326"));if(!l&&s!=="degrees")r=e*n.getMetersPerUnit();else{let d=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];d=l(d,d,2);let h=qx(d.slice(0,2),d.slice(2,4)),p=qx(d.slice(4,6),d.slice(6,8));r=(h+p)/2}let u=i?to[i]:n.getMetersPerUnit();u!==void 0&&(r/=u)}}return r}function Kk(n){mQ(n),n.forEach(function(e){n.forEach(function(t){e!==t&&sd(e,t,Qx)})})}function gQ(n,e,t,i){n.forEach(function(r){e.forEach(function(o){sd(r,o,t),sd(o,r,i)})})}function Gy(n,e){return n?typeof n=="string"?en(n):n:en(e)}function Jk(n){return function(e,t,i,r){let o=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(o);for(let s=0;s<o;s+=r){let l=n(e.slice(s,s+i)),u=l.length;for(let d=0,h=r;d<h;++d)t[s+d]=d>=u?e[s+d]:l[d]}return t}}function Wy(n,e){return Kx(),ac(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function $y(n,e){if(n===e)return!0;let t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||ko(n,e)===Qx)&&t}function ko(n,e){let t=n.getCode(),i=e.getCode(),r=jy(t,i);if(r)return r;let o=null,s=null;for(let u of hQ)o||(o=u(n)),s||(s=u(e));if(!o&&!s)return null;let l="EPSG:4326";if(s)if(o)r=Yx(o.inverse,s.forward);else{let u=jy(t,l);u&&(r=Yx(u,s.forward))}else{let u=jy(l,i);u&&(r=Yx(o.inverse,u))}return r&&(Zx(n),Zx(e),sd(n,e,r)),r}function Yx(n,e){return function(t,i,r,o){return i=n(t,i,r,o),e(i,i,r,o)}}function sc(n,e){let t=en(n),i=en(e);return ko(t,i)}function ac(n,e,t){let i=sc(e,t);if(!i){let r=en(e).getCode(),o=en(t).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(n,void 0,n.length)}function eV(n,e,t,i){let r=sc(e,t);return Sk(n,r,void 0,i)}var no=null;function js(){return no}function Vh(n,e){return no?ac(n,e,no):n}function io(n,e){return no?ac(n,no,e):(Xx&&!rc(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(Xx=!1,ky("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n)}function Ba(n,e){return no?eV(n,e,no):n}function Rr(n,e){return no?eV(n,no,e):n}function tV(n,e){if(!no)return n;let t=en(e).getMetersPerUnit(),i=no.getMetersPerUnit();return t&&i?n*t/i:n}function _Q(){Kk(Hx),Kk(zx),gQ(zx,Hx,Fk,Lk)}_Q();var Vo={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};var ro={PROPERTYCHANGE:"propertychange"};var J={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};var Jx=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}},Ua=Jx;function nV(n,e,t){let i,r;t=t||Li;let o=0,s=n.length,l=!1;for(;o<s;)i=o+(s-o>>1),r=+t(n[i],e),r<0?o=i+1:(s=i,l=!r);return l?o:~o}function Li(n,e){return n>e?1:n<e?-1:0}function iV(n,e){return n<e?1:n>e?-1:0}function cd(n,e,t){if(n[0]<=e)return 0;let i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){let o=n[r];if(o===e)return r;if(o<e)return t(e,n[r-1],o)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function rV(n,e,t){for(;e<t;){let i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function ud(n,e){let t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function ti(n,e){let t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function oV(n,e,t){let i=e||Li;return n.every(function(r,o){if(o===0)return!0;let s=i(n[o-1],r);return!(s>0||t&&s===0)})}function Bs(){return!0}function Us(){return!1}function Hs(){}function qy(n){let e,t,i;return function(){let r=Array.prototype.slice.call(arguments);return(!t||this!==i||!ti(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function sV(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}var eI=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var Rn=eI;var tI=class extends Ua{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;let i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){let t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;let o=t?new Rn(e):e;o.target||(o.target=this.eventTarget_||this);let s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,l[i]=0),++s[i];let u;for(let d=0,h=r.length;d<h;++d)if("handleEvent"in r[d]?u=r[d].handleEvent(o):u=r[d].call(this,o),u===!1||o.propagationStopped){u=!1;break}if(--s[i]===0){let d=l[i];for(delete l[i];d--;)this.removeEventListener(i,Hs);delete s[i]}return u}disposeInternal(){this.listeners_&&Lo(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;let i=this.listeners_[e];if(!i)return;let r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Hs,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}},Ha=tI;var dd=class extends Ha{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(J.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){let i=e.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Ae(this,e[o],t);return r}return Ae(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){let r=e.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=nd(this,e[o],t)}else i=nd(this,e,t);return t.ol_key=i,i}unInternal(e,t){let i=t.ol_key;if(i)yQ(i);else if(Array.isArray(e))for(let r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}};dd.prototype.on;dd.prototype.once;dd.prototype.un;function yQ(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)at(n[e]);else at(n)}var Yy=dd;function $e(){throw new Error("Unimplemented abstract method.")}var vQ=0;function Oe(n){return n.ol_uid||(n.ol_uid=String(++vQ))}var Xy=class extends Rn{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}},nI=class extends Yy{constructor(e){super(),this.on,this.once,this.un,Oe(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Xy(i,e,t)),i=ro.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Xy(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){let r=this.values_||(this.values_={});if(i)r[e]=t;else{let o=r[e];r[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(let i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){let i=this.values_[e];delete this.values_[e],eo(this.values_)&&(this.values_=null),t||this.notify(e,i)}}},pn=nI;var iI=class extends pn{constructor(e){super();let t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&this.element?.remove();for(let t=0,i=this.listenerKeys.length;t<i;++t)at(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,e){let t=this.target_??e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==Hs&&this.listenerKeys.push(Ae(e,Vo.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}},jo=iI;var rI="projection",aV="coordinateFormat",oI=class extends jo{constructor(e){e=e||{};let t=document.createElement("div");t.className=e.className!==void 0?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(rI,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=e.placeholder!==void 0,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=e.wrapX!==!1}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(aV)}getProjection(){return this.get(rI)}handleMouseMove(e){let t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){let t=e.getViewport();this.listenerKeys.push(Ae(t,Va.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Ae(t,Va.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(aV,e)}setProjection(e){this.set(rI,en(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){let o=this.getProjection();o?this.transform_=ko(this.mapProjection_,o):this.transform_=Qk}let r=this.getMap().getCoordinateFromPixelInternal(e);if(r){let o=js();if(o&&(this.transform_=ko(this.mapProjection_,o)),this.transform_(r,r),this.wrapX_){let l=o||this.getProjection()||this.mapProjection_;td(r,l)}let s=this.getCoordinateFormat();s?t=s(r):t=r.toString()}}(!this.renderedHTML_||t!==this.renderedHTML_)&&(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){let t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}},lV=oI;var Zy=class n{numberCoordinates(e=[0,0],t=0){return Ok(e,t)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ky=class n{constructor(e,t){this.element=e;this.coordinateFormatter=t}map=null;control=null;ngOnInit(){this.control=new lV({className:"mouseposition-control",coordinateFormat:e=>this.coordinateFormatter.numberCoordinates(e,4),target:this.element.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(t){return new(t||n)(ue(Fe),ue(Zy))};static \u0275cmp=Xe({type:n,selectors:[["app-mouse-position"]],inputs:{map:"map"},decls:0,vars:0,template:function(t,i){},styles:[".ol-scale-line{position:relative}  .ol-scale-line,   .ol-scale-line-inner{background-color:transparent;border-color:var(--text-color);color:var(--text-color);font-size:inherit;bottom:auto}"],changeDetection:0})};var jh="ol-hidden";var Bo="ol-unselectable";var fd="ol-control",sI="ol-collapsed",bQ=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),cV=["style","variant","weight","size","lineHeight","family"],aI=function(n){let e=n.match(bQ);if(!e)return null;let t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=cV.length;i<r;++i){let o=e[i+1];o!==void 0&&(t[cV[i]]=o)}return t.families=t.family.split(/,\s?/),t};var lI="units",wQ=[1,2,5],Bh=25.4/.28,cI=class extends jo{constructor(e){e=e||{};let t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;let i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+Bo,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(lI,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(lI)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(lI,e)}setDpi(e){this.dpi_=e}updateElement_(){let e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=e.center,i=e.projection,r=this.getUnits(),o=r=="degrees"?"degrees":"m",s=ld(i,e.resolution,t,o),l=this.minWidth_*(this.dpi_||Bh)/Bh,u=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Bh)/Bh:void 0,d=l*s,h="";if(r=="degrees"){let A=to.degrees;d*=A,d<A/60?(h="\u2033",s*=3600):d<A?(h="\u2032",s*=60):h="\xB0"}else if(r=="imperial")d<.9144?(h="in",s/=.0254):d<1609.344?(h="ft",s/=.3048):(h="mi",s/=1609.344);else if(r=="nautical")s/=1852,h="NM";else if(r=="metric")d<1e-6?(h="nm",s*=1e9):d<.001?(h="\u03BCm",s*=1e6):d<1?(h="mm",s*=1e3):d<1e3?h="m":(h="km",s/=1e3);else if(r=="us")d<.9144?(h="in",s*=39.37):d<1609.344?(h="ft",s/=.30480061):(h="mi",s/=1609.3472);else throw new Error("Invalid units");let p=3*Math.floor(Math.log(l*s)/Math.log(10)),g,_,v,w=0,x,D;for(;;){v=Math.floor(p/3);let A=Math.pow(10,v);if(g=wQ[(p%3+3)%3]*A,_=Math.round(g/s),isNaN(_)){this.element.style.display="none",this.renderedVisible_=!1;return}if(u!==void 0&&_>=u){g=w,_=x,v=D;break}else if(_>=l)break;w=g,x=_,D=v,++p}let T=this.scaleBar_?this.createScaleBar(_,g,h):g.toFixed(v<0?-v:0)+" "+h;this.renderedHTML_!=T&&(this.innerElement_.innerHTML=T,this.renderedHTML_=T),this.renderedWidth_!=_&&(this.innerElement_.style.width=_+"px",this.renderedWidth_=_),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){let r=this.getScaleForResolution(),o=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),s=this.scaleBarSteps_,l=e/s,u=[this.createMarker("absolute")];for(let h=0;h<s;++h){let p=h%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";u.push(`<div><div class="ol-scale-singlebar ${p}" style="width: ${l}px;"></div>`+this.createMarker("relative")+(h%2===0||s===2?this.createStepText(h,e,!1,t,i):"")+"</div>")}return u.push(this.createStepText(s,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+o+"</div>":"")+u.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,t,i,r,o){let l=(e===0?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+o),u=e===0?-3:t/this.scaleBarSteps_*-1,d=e===0?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${u}px;text-align: ${e===0?"left":"center"};min-width: ${d}px;left: ${i?t+"px":"unset"};">`+l+"</div>"}getScaleForResolution(){let e=ld(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||Bh,i=1e3/25.4;return e*i*t}render(e){let t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}},uV=cI;var Qy=class n{constructor(e){this.elementRef=e}map=null;control=null;ngOnInit(){this.control=new uV({target:this.elementRef.nativeElement}),this.map?.addControl(this.control)}static \u0275fac=function(t){return new(t||n)(ue(Fe))};static \u0275cmp=Xe({type:n,selectors:[["app-scale-line"]],inputs:{map:"map"},decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0})};var An={ADD:"add",REMOVE:"remove"};var dV={LENGTH:"length"},hd=class extends Rn{constructor(e,t,i){super(e),this.element=t,this.index=i}},uI=class extends pn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(dV.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new hd(An.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);let t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){let t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;let t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new hd(An.REMOVE,t,e)),t}setAt(e,t){let i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);let r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new hd(An.REMOVE,r,e)),this.dispatchEvent(new hd(An.ADD,t,e))}updateLength_(){this.set(dV.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}},Ei=uI;var dI=class extends Rn{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}},za=dI;var fI=class extends za{constructor(e,t,i,r,o,s){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Uo=fI;var Ot={SINGLECLICK:"singleclick",CLICK:J.CLICK,DBLCLICK:J.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var lc=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",CQ=lc.includes("safari")&&!lc.includes("chrom"),jEe=CQ&&(lc.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(lc)),fV=lc.includes("webkit")&&!lc.includes("edge"),hI=lc.includes("macintosh"),hV=typeof devicePixelRatio<"u"?devicePixelRatio:1,Jy=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,pI=typeof Image<"u"&&Image.prototype.decode;var ev=function(){let n=!1;try{let e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}();var mI=class extends Ha{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;let i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Ae(i,Va.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Ae(i,Va.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_,ev?{passive:!1}:!1)}emulateClick_(e){let t=new Uo(Ot.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Uo(Ot.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;let i=new Uo(Ot.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){let t=e,i=t.pointerId;if(t.type==Ot.POINTERUP||t.type==Ot.POINTERCANCEL){delete this.trackedTouches_[i];for(let r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==Ot.POINTERDOWN||t.type==Ot.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);let t=new Uo(Ot.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(at),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);let t=new Uo(Ot.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){let i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Ae(i,Ot.POINTERMOVE,this.handlePointerMove_,this),Ae(i,Ot.POINTERUP,this.handlePointerUp_,this),Ae(this.element_,Ot.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Ae(this.element_.getRootNode(),Ot.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;let t=new Uo(Ot.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;let t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Uo(Ot.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){let t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(at(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(at(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(at),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},pV=mI;var Un={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var se={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function ke(n,e){if(!n)throw new Error(e)}var Uh=1/0,gI=class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Lo(this.queuedElements_)}dequeue(){let e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));let r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){ke(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");let t=this.priorityFunction_(e);return t!=Uh?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){let t=this.elements_,i=this.priorities_,r=t.length,o=t[e],s=i[e],l=e;for(;e<r>>1;){let u=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),h=d<r&&i[d]<i[u]?d:u;t[e]=t[h],i[e]=i[h],e=h}t[e]=o,i[e]=s,this.siftDown_(l,e)}siftDown_(e,t){let i=this.elements_,r=this.priorities_,o=i[t],s=r[t];for(;t>e;){let l=this.getParentIndex_(t);if(r[l]>s)i[t]=i[l],r[t]=r[l],t=l;else break}i[t]=o,r[t]=s}reprioritize(){let e=this.priorityFunction_,t=this.elements_,i=this.priorities_,r=0,o=t.length,s,l,u;for(l=0;l<o;++l)s=t[l],u=e(s),u==Uh?delete this.queuedElements_[this.keyFunction_(s)]:(i[r]=u,t[r++]=s);t.length=r,i.length=r,this.heapify_()}},mV=gI;var _I=class extends mV{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){let t=super.enqueue(e);return t&&e[0].addEventListener(J.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){let t=e.target,i=t.getState();if(i===se.LOADED||i===se.ERROR||i===se.EMPTY){i!==se.ERROR&&t.removeEventListener(J.CHANGE,this.boundHandleTileChange_);let r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){let r=this.dequeue()[0],o=r.getKey();r.getState()===se.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}},gV=_I;function _V(n,e,t,i,r){if(!n||!(t in n.wantedTiles))return Uh;if(!n.wantedTiles[t][e.getKey()])return Uh;let o=n.viewState.center,s=i[0]-o[0],l=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+l*l)/r}var bn={ANIMATING:0,INTERACTING:1};var Ar={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function yI(n,e,t){return function(i,r,o,s,l){if(!i)return;if(!r&&!e)return i;let u=e?0:o[0]*r,d=e?0:o[1]*r,h=l?l[0]:0,p=l?l[1]:0,g=n[0]+u/2+h,_=n[2]-u/2+h,v=n[1]+d/2+p,w=n[3]-d/2+p;g>_&&(g=(_+g)/2,_=g),v>w&&(v=(w+v)/2,w=v);let x=ct(i[0],g,_),D=ct(i[1],v,w);if(s&&t&&r){let T=30*r;x+=-T*Math.log(1+Math.max(0,g-i[0])/T)+T*Math.log(1+Math.max(0,i[0]-_)/T),D+=-T*Math.log(1+Math.max(0,v-i[1])/T)+T*Math.log(1+Math.max(0,i[1]-w)/T)}return[x,D]}}function yV(n){return n}function vI(n){return Math.pow(n,3)}function Or(n){return 1-vI(1-n)}function vV(n){return 3*n*n-2*n*n*n}function EV(n){return n}var dbe=new Array(6);function On(){return[1,0,0,1,0,0]}function wV(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Yt(n,e){let t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Hn(n,e,t,i,r,o,s,l){let u=Math.sin(o),d=Math.cos(o);return n[0]=i*d,n[1]=r*u,n[2]=-i*u,n[3]=r*d,n[4]=s*i*d-l*i*u+e,n[5]=s*r*u+l*r*d+t,n}function tv(n,e){let t=xQ(e);ke(t!==0,"Transformation matrix cannot be inverted");let i=e[0],r=e[1],o=e[2],s=e[3],l=e[4],u=e[5];return n[0]=s/t,n[1]=-r/t,n[2]=-o/t,n[3]=i/t,n[4]=(o*u-s*l)/t,n[5]=-(i*u-r*l)/t,n}function xQ(n){return n[0]*n[3]-n[1]*n[2]}var IQ=[1e5,1e5,1e5,1e5,2,2];function CV(n){return"matrix("+n.join(", ")+")"}function bV(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function xV(n,e){let t=bV(n),i=bV(e);for(let r=0;r<6;++r)if(Math.round((t[r]-i[r])*IQ[r])!==0)return!1;return!0}function ki(n,e,t,i,r,o,s){o=o||[],s=s||2;let l=0;for(let u=e;u<t;u+=i){let d=n[u],h=n[u+1];o[l++]=r[0]*d+r[2]*h+r[4],o[l++]=r[1]*d+r[3]*h+r[5];for(let p=2;p<s;p++)o[l++]=n[u+p]}return o&&o.length!=l&&(o.length=l),o}function nv(n,e,t,i,r,o,s){s=s||[];let l=Math.cos(r),u=Math.sin(r),d=o[0],h=o[1],p=0;for(let g=e;g<t;g+=i){let _=n[g]-d,v=n[g+1]-h;s[p++]=d+_*l-v*u,s[p++]=h+_*u+v*l;for(let w=g+2;w<g+i;++w)s[p++]=n[w]}return s&&s.length!=p&&(s.length=p),s}function IV(n,e,t,i,r,o,s,l){l=l||[];let u=s[0],d=s[1],h=0;for(let p=e;p<t;p+=i){let g=n[p]-u,_=n[p+1]-d;l[h++]=u+r*g,l[h++]=d+o*_;for(let v=p+2;v<p+i;++v)l[h++]=n[v]}return l&&l.length!=h&&(l.length=h),l}function DV(n,e,t,i,r,o,s){s=s||[];let l=0;for(let u=e;u<t;u+=i){s[l++]=n[u]+r,s[l++]=n[u+1]+o;for(let d=u+2;d<u+i;++d)s[l++]=n[d]}return s&&s.length!=l&&(s.length=l),s}var SV=On(),DQ=[NaN,NaN],EI=class extends pn{constructor(){super(),this.extent_=un(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=qy((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);let r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return $e()}closestPointXY(e,t,i,r){return $e()}containsXY(e,t){return this.closestPointXY(e,t,DQ,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return $e()}getExtent(e){if(this.extentRevision_!=this.getRevision()){let t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&nc(t),this.extentRevision_=this.getRevision()}return Ik(this.extent_,e)}rotate(e,t){$e()}scale(e,t,i){$e()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return $e()}getType(){return $e()}applyTransform(e){$e()}intersectsExtent(e){return $e()}translate(e,t){$e()}transform(e,t){let i=en(e),r=i.getUnits()=="tile-pixels"?function(o,s,l){let u=i.getExtent(),d=i.getWorldExtent(),h=Ut(d)/Ut(u);Hn(SV,d[0],d[3],h,-h,0,0,0);let p=ki(o,0,o.length,l,SV,s),g=sc(i,t);return g?g(p,p,l):p}:sc(i,t);return this.applyTransform(r),this}},TV=EI;var bI=class extends TV{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Xu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return $e()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=MV(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){$e()}setLayout(e,t,i){let r;if(e)r=MV(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=SQ(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();nv(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=Sr(this.getExtent()));let r=this.getFlatCoordinates();if(r){let o=this.getStride();IV(r,0,r.length,o,e,t,i,r),this.changed()}}translate(e,t){let i=this.getFlatCoordinates();if(i){let r=this.getStride();DV(i,0,i.length,r,e,t,i),this.changed()}}};function SQ(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function MV(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function RV(n,e,t){let i=n.getFlatCoordinates();if(!i)return null;let r=n.getStride();return ki(i,0,i.length,r,e,t)}var pd=bI;function wI(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1],l=0,u=0;for(;e<t;e+=i){let d=n[e]-o,h=n[e+1]-s;r+=u*d-l*h,l=d,u=h}return r/2}function AV(n,e,t,i){let r=0;for(let o=0,s=t.length;o<s;++o){let l=t[o];r+=wI(n,e,l,i),e=l}return r}function OV(n,e,t,i,r,o,s){let l=n[e],u=n[e+1],d=n[t]-l,h=n[t+1]-u,p;if(d===0&&h===0)p=e;else{let g=((r-l)*d+(o-u)*h)/(d*d+h*h);if(g>1)p=t;else if(g>0){for(let _=0;_<i;++_)s[_]=ei(n[e+_],n[t+_],g);s.length=i;return}else p=e}for(let g=0;g<i;++g)s[g]=n[p+g];s.length=i}function CI(n,e,t,i,r){let o=n[e],s=n[e+1];for(e+=i;e<t;e+=i){let l=n[e],u=n[e+1],d=Ls(o,s,l,u);d>r&&(r=d),o=l,s=u}return r}function NV(n,e,t,i,r){for(let o=0,s=t.length;o<s;++o){let l=t[o];r=CI(n,e,l,i,r),e=l}return r}function xI(n,e,t,i,r,o,s,l,u,d,h){if(e==t)return d;let p,g;if(r===0){if(g=Ls(s,l,n[e],n[e+1]),g<d){for(p=0;p<i;++p)u[p]=n[e+p];return u.length=i,g}return d}h=h||[NaN,NaN];let _=e+i;for(;_<t;)if(OV(n,_-i,_,i,s,l,h),g=Ls(s,l,h[0],h[1]),g<d){for(d=g,p=0;p<i;++p)u[p]=h[p];u.length=i,_+=i}else _+=i*Math.max((Math.sqrt(g)-Math.sqrt(d))/r|0,1);if(o&&(OV(n,t-i,e,i,s,l,h),g=Ls(s,l,h[0],h[1]),g<d)){for(d=g,p=0;p<i;++p)u[p]=h[p];u.length=i}return d}function PV(n,e,t,i,r,o,s,l,u,d,h){h=h||[NaN,NaN];for(let p=0,g=t.length;p<g;++p){let _=t[p];d=xI(n,e,_,i,r,o,s,l,u,d,h),e=_}return d}function FV(n,e,t,i){for(let r=0,o=t.length;r<o;++r)n[e++]=t[r];return e}function II(n,e,t,i){for(let r=0,o=t.length;r<o;++r){let s=t[r];for(let l=0;l<i;++l)n[e++]=s[l]}return e}function LV(n,e,t,i,r){r=r||[];let o=0;for(let s=0,l=t.length;s<l;++s){let u=II(n,e,t[s],i);r[o++]=u,e=u}return r.length=o,r}function Ga(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=e;s<t;s+=i)r[o++]=n.slice(s,s+i);return r.length=o,r}function md(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,l=t.length;s<l;++s){let u=t[s];r[o++]=Ga(n,e,u,i,r[o]),e=u}return r.length=o,r}function DI(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let s=0,l=t.length;s<l;++s){let u=t[s];r[o++]=u.length===1&&u[0]===e?[]:md(n,e,u,i,r[o]),e=u[u.length-1]}return r.length=o,r}function Hh(n,e,t,i,r,o,s){let l=(t-e)/i;if(l<3){for(;e<t;e+=i)o[s++]=n[e],o[s++]=n[e+1];return s}let u=new Array(l);u[0]=1,u[l-1]=1;let d=[e,t-i],h=0;for(;d.length>0;){let p=d.pop(),g=d.pop(),_=0,v=n[g],w=n[g+1],x=n[p],D=n[p+1];for(let T=g+i;T<p;T+=i){let A=n[T],O=n[T+1],N=Tk(A,O,v,w,x,D);N>_&&(h=T,_=N)}_>r&&(u[(h-e)/i]=1,g+i<h&&d.push(g,h),h+i<p&&d.push(h,p))}for(let p=0;p<l;++p)u[p]&&(o[s++]=n[e+p*i],o[s++]=n[e+p*i+1]);return s}function kV(n,e,t,i,r,o,s,l){for(let u=0,d=t.length;u<d;++u){let h=t[u];s=Hh(n,e,h,i,r,o,s),l.push(s),e=h}return s}function Wa(n,e){return e*Math.round(n/e)}function TQ(n,e,t,i,r,o,s){if(e==t)return s;let l=Wa(n[e],r),u=Wa(n[e+1],r);e+=i,o[s++]=l,o[s++]=u;let d,h;do if(d=Wa(n[e],r),h=Wa(n[e+1],r),e+=i,e==t)return o[s++]=d,o[s++]=h,s;while(d==l&&h==u);for(;e<t;){let p=Wa(n[e],r),g=Wa(n[e+1],r);if(e+=i,p==d&&g==h)continue;let _=d-l,v=h-u,w=p-l,x=g-u;if(_*x==v*w&&(_<0&&w<_||_==w||_>0&&w>_)&&(v<0&&x<v||v==x||v>0&&x>v)){d=p,h=g;continue}o[s++]=d,o[s++]=h,l=d,u=h,d=p,h=g}return o[s++]=d,o[s++]=h,s}function iv(n,e,t,i,r,o,s,l){for(let u=0,d=t.length;u<d;++u){let h=t[u];s=TQ(n,e,h,i,r,o,s),l.push(s),e=h}return s}var SI=class n extends pd{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new n(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<Ay(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(CI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return wI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Ga(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){let t=[];return t.length=Hh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=II(this.flatCoordinates,0,e,this.stride),this.changed()}},TI=SI;var MI=class n extends pd{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){let e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){let o=this.flatCoordinates,s=Ls(e,t,o[0],o[1]);if(s<r){let l=this.stride;for(let u=0;u<l;++u)i[u]=o[u];return i.length=l,s}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Oy(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return kx(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=FV(this.flatCoordinates,0,e,this.stride),this.changed()}},zh=MI;function VV(n,e,t,i,r){return!Ny(r,function(s){return!$a(n,e,t,i,s[0],s[1])})}function $a(n,e,t,i,r,o){let s=0,l=n[t-i],u=n[t-i+1];for(;e<t;e+=i){let d=n[e],h=n[e+1];u<=o?h>o&&(d-l)*(o-u)-(r-l)*(h-u)>0&&s++:h<=o&&(d-l)*(o-u)-(r-l)*(h-u)<0&&s--,l=d,u=h}return s!==0}function rv(n,e,t,i,r,o){if(t.length===0||!$a(n,e,t[0],i,r,o))return!1;for(let s=1,l=t.length;s<l;++s)if($a(n,t[s-1],t[s],i,r,o))return!1;return!0}function Gh(n,e,t,i,r,o,s){let l,u,d,h,p,g,_,v=r[o+1],w=[];for(let T=0,A=t.length;T<A;++T){let O=t[T];for(h=n[O-i],g=n[O-i+1],l=e;l<O;l+=i)p=n[l],_=n[l+1],(v<=g&&_<=v||g<=v&&v<=_)&&(d=(v-g)/(_-g)*(p-h)+h,w.push(d)),h=p,g=_}let x=NaN,D=-1/0;for(w.sort(Li),h=w[0],l=1,u=w.length;l<u;++l){p=w[l];let T=Math.abs(p-h);T>D&&(d=(h+p)/2,rv(n,e,t,i,d,v)&&(x=d,D=T)),h=p}return isNaN(x)&&(x=r[o]),s?(s.push(x,v,D),s):[x,v,D]}function jV(n,e,t,i,r){let o=[];for(let s=0,l=t.length;s<l;++s){let u=t[s];o=Gh(n,e,u,i,r,2*s,o),e=u[u.length-1]}return o}function BV(n,e,t,i,r){let o;for(e+=i;e<t;e+=i)if(o=r(n.slice(e-i,e),n.slice(e,e+i)),o)return o;return!1}function UV(n,e,t,i,r,o){return o=o??Vx(un(),n,e,t,i),qt(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:BV(n,e,t,i,function(s,l){return Dk(r,s,l)}):!1}function RI(n,e,t,i,r){return!!(UV(n,e,t,i,r)||$a(n,e,t,i,r[0],r[1])||$a(n,e,t,i,r[0],r[3])||$a(n,e,t,i,r[2],r[1])||$a(n,e,t,i,r[2],r[3]))}function HV(n,e,t,i,r){if(!RI(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let o=1,s=t.length;o<s;++o)if(VV(n,t[o-1],t[o],i,r)&&!UV(n,t[o-1],t[o],i,r))return!1;return!0}function zV(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){let o=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=o}e+=i,t-=i}}function AI(n,e,t,i){let r=0,o=n[t-i],s=n[t-i+1];for(;e<t;e+=i){let l=n[e],u=n[e+1];r+=(l-o)*(u+s),o=l,s=u}return r===0?void 0:r>0}function GV(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){let l=t[o],u=AI(n,e,l,i);if(o===0){if(r&&u||!r&&!u)return!1}else if(r&&!u||!r&&u)return!1;e=l}return!0}function OI(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,s=t.length;o<s;++o){let l=t[o],u=AI(n,e,l,i);(o===0?r&&u||!r&&!u:r&&!u||!r&&u)&&zV(n,e,l,i),e=l}return e}function WV(n,e){let t=[],i=0,r=0,o;for(let s=0,l=e.length;s<l;++s){let u=e[s],d=AI(n,i,u,2);if(o===void 0&&(o=d),d===o)t.push(e.slice(r,s+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=s+1,i=u}return t}var ov=class n extends pd{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?ud(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Ay(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(NV(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),PV(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return rv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return AV(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),OI(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,md(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){let e=Sr(this.getExtent());this.flatInteriorPoint_=Gh(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new zh(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new TI(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){let e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[],o=0;for(let s=0,l=i.length;s<l;++s){let u=i[s],d=new TI(t.slice(o,u),e);r.push(d),o=u}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;GV(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=OI(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],i=[];return t.length=iv(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return HV(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let i=LV(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}},$V=ov;function NI(n){if(ka(n))throw new Error("Cannot create polygon from empty extent");let e=n[0],t=n[1],i=n[2],r=n[3],o=[e,t,e,r,i,r,i,t,e,t];return new ov(o,"XY",[o.length])}function PI(n,e,t,i){let r=Ue(e)/t[0],o=Ut(e)/t[1];return i?Math.min(n,Math.max(r,o)):Math.min(n,Math.min(r,o))}function FI(n,e,t){let i=Math.min(n,e),r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),ct(i,t/2,e*2)}function qV(n,e,t,i){return e=e!==void 0?e:!0,function(r,o,s,l){if(r!==void 0){let u=n[0],d=n[n.length-1],h=t?PI(u,t,s,i):u;if(l)return e?FI(r,h,d):ct(r,d,h);let p=Math.min(h,r),g=Math.floor(cd(n,p,o));return n[g]>h&&g<n.length-1?n[g+1]:n[g]}}}function YV(n,e,t,i,r,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(s,l,u,d){if(s!==void 0){let h=r?PI(e,r,u,o):e;if(d)return i?FI(s,h,t):ct(s,t,h);let p=1e-9,g=Math.ceil(Math.log(e/h)/Math.log(n)-p),_=-l*(.5-p)+.5,v=Math.min(h,s),w=Math.floor(Math.log(e/v)/Math.log(n)+_),x=Math.max(g,w),D=e/Math.pow(n,x);return ct(D,t,h)}}}function LI(n,e,t,i,r){return t=t!==void 0?t:!0,function(o,s,l,u){if(o!==void 0){let d=i?PI(n,i,l,r):n;return!t||!u?ct(o,e,d):FI(o,d,e)}}}function gd(n){if(n!==void 0)return 0}function kI(n){if(n!==void 0)return n}function XV(n){let e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function ZV(n){let e=n===void 0?Jr(5):n;return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}var VI=0,BI=class extends pn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Gy(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&Kx(),e.center&&(e.center=io(e.center,this.projection_)),e.extent&&(e.extent=Rr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){let t=Object.assign({},e);for(let l in Ar)delete t[l];this.setProperties(t,!0);let i=RQ(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;let r=MQ(e),o=i.constraint,s=AQ(e);this.constraints_={center:r,resolution:o,rotation:s},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;let i=this.getCenterInternal();if(i){let r=e||[0,0,0,0];t=t||[0,0,0,0];let o=this.getResolution(),s=o/2*(r[3]-t[3]+t[1]-r[1]),l=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+s,i[1]-l])}}getUpdatedOptions_(e){let t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);let t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=io(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=io(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){let h=arguments[r];h.center&&this.setCenterInternal(h.center),h.zoom!==void 0?this.setZoom(h.zoom):h.resolution&&this.setResolution(h.resolution),h.rotation!==void 0&&this.setRotation(h.rotation)}if(r===t){i&&sv(i,!0);return}let o=Date.now(),s=this.targetCenter_.slice(),l=this.targetResolution_,u=this.targetRotation_,d=[];for(;r<t;++r){let h=arguments[r],p={start:o,complete:!1,anchor:h.anchor,duration:h.duration!==void 0?h.duration:1e3,easing:h.easing||vV,callback:i};if(h.center&&(p.sourceCenter=s,p.targetCenter=h.center.slice(),s=p.targetCenter),h.zoom!==void 0?(p.sourceResolution=l,p.targetResolution=this.getResolutionForZoom(h.zoom),l=p.targetResolution):h.resolution&&(p.sourceResolution=l,p.targetResolution=h.resolution,l=p.targetResolution),h.rotation!==void 0){p.sourceRotation=u;let g=ks(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=u+g,u=p.targetRotation}OQ(p)?p.complete=!0:o+=p.duration,d.push(p)}this.animations_.push(d),this.setHint(bn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[bn.ANIMATING]>0}getInteracting(){return this.hints_[bn.INTERACTING]>0}cancelAnimations(){this.setHint(bn.ANIMATING,-this.hints_[bn.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){let r=this.animations_[t];if(r[0].callback&&sv(r[0].callback,!1),!e)for(let o=0,s=r.length;o<s;++o){let l=r[o];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;let e=Date.now(),t=!1;for(let i=this.animations_.length-1;i>=0;--i){let r=this.animations_[i],o=!0;for(let s=0,l=r.length;s<l;++s){let u=r[s];if(u.complete)continue;let d=e-u.start,h=u.duration>0?d/u.duration:1;h>=1?(u.complete=!0,h=1):o=!1;let p=u.easing(h);if(u.sourceCenter){let g=u.sourceCenter[0],_=u.sourceCenter[1],v=u.targetCenter[0],w=u.targetCenter[1];this.nextCenter_=u.targetCenter;let x=g+p*(v-g),D=_+p*(w-_);this.targetCenter_=[x,D]}if(u.sourceResolution&&u.targetResolution){let g=p===1?u.targetResolution:u.sourceResolution+p*(u.targetResolution-u.sourceResolution);if(u.anchor){let _=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(g,0,_,!0);this.targetCenter_=this.calculateCenterZoom(v,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=g,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){let g=p===1?ks(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+p*(u.targetRotation-u.sourceRotation);if(u.anchor){let _=this.constraints_.rotation(g,!0);this.targetCenter_=this.calculateCenterRotate(_,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=g}if(this.applyTargetState_(!0),t=!0,!u.complete)break}if(o){this.animations_[i]=null,this.setHint(bn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;let s=r[0].callback;s&&sv(s,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i,r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],ed(i,e-this.getRotation()),Rk(i,t)),i}calculateCenterZoom(e,t){let i,r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){let s=t[0]-e*(t[0]-r[0])/o,l=t[1]-e*(t[1]-r[1])/o;i=[s,l]}return i}getViewportSize_(e){let t=this.viewportSize_;if(e){let i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){let e=this.getCenterInternal();return e&&Vh(e,this.getProjection())}getCenterInternal(){return this.get(Ar.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){let t=this.calculateExtentInternal(e);return Ba(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();let t=this.getCenterInternal();ke(t,"The view center is not defined");let i=this.getResolution();ke(i!==void 0,"The view resolution is not defined");let r=this.getRotation();return ke(r!==void 0,"The view rotation is not defined"),Ph(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Ar.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Rr(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();let i=Ue(e)/t[0],r=Ut(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;let t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*r)}}getRotation(){return this.get(Ar.ROTATION)}getValueForResolutionFunction(e){let t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/t;return function(s){return Math.log(i/s)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e),i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){let e=this.getProjection(),t=this.getResolution(),i=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){let s=this.getViewportSizeMinusPadding_();r=jI(r,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e,t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){let o=cd(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];let t=ct(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(i,ct(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(ke(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){ke(!ka(e),"Cannot fit empty extent provided as `geometry`");let r=Rr(e,this.getProjection());i=NI(r)}else if(e.getType()==="Circle"){let r=Rr(e.getExtent(),this.getProjection());i=NI(r),i.rotate(this.getRotation(),Sr(r))}else{let r=js();r?i=e.clone().transform(r,this.getProjection()):i=e}this.fitInternal(i,t)}rotatedExtentForGeometry(e){let t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),s=e.getStride(),l=1/0,u=1/0,d=-1/0,h=-1/0;for(let p=0,g=o.length;p<g;p+=s){let _=o[p]*i-o[p+1]*r,v=o[p]*r+o[p+1]*i;l=Math.min(l,_),u=Math.min(u,v),d=Math.max(d,_),h=Math.max(h,v)}return[l,u,d,h]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());let r=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1,s;t.minResolution!==void 0?s=t.minResolution:t.maxZoom!==void 0?s=this.getResolutionForZoom(t.maxZoom):s=0;let l=this.rotatedExtentForGeometry(e),u=this.getResolutionForExtentInternal(l,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);u=isNaN(u)?s:Math.max(u,s),u=this.getConstrainedResolution(u,o?0:1);let d=this.getRotation(),h=Math.sin(d),p=Math.cos(d),g=Sr(l);g[0]+=(r[1]-r[3])/2*u,g[1]+=(r[0]-r[2])/2*u;let _=g[0]*p-g[1]*h,v=g[1]*p+g[0]*h,w=this.getConstrainedCenter([_,v],u),x=t.callback?t.callback:Hs;t.duration!==void 0?this.animateInternal({resolution:u,center:w,duration:t.duration,easing:t.easing},x):(this.targetResolution_=u,this.targetCenter_=w,this.applyTargetState_(!1,!0),sv(x,!0))}centerOn(e,t,i){this.centerOnInternal(io(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(jI(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let o,s=this.padding_;if(s&&e){let l=this.getViewportSizeMinusPadding_(-i),u=jI(e,r,[l[0]/2+s[3],l[1]/2+s[0]],t,i);o=[e[0]-u[0],e[1]-u[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){let t=Vh(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){let t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&io(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=io(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){let i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&io(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){let i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,0,o,i),l=this.constraints_.center(this.targetCenter_,s,o,i,this.calculateCenterShift(this.targetCenter_,s,r,o));this.get(Ar.ROTATION)!==r&&this.set(Ar.ROTATION,r),this.get(Ar.RESOLUTION)!==s&&(this.set(Ar.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(Ar.CENTER)||!rc(this.get(Ar.CENTER),l))&&this.set(Ar.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;let r=t||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),l=this.constraints_.resolution(this.targetResolution_,r,s),u=this.constraints_.center(this.targetCenter_,l,s,!1,this.calculateCenterShift(this.targetCenter_,l,o,s));if(e===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=o,this.targetCenter_=u,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==o||!this.getCenterInternal()||!rc(this.getCenterInternal(),u))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:l,duration:e,easing:Or,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(bn.INTERACTING,1)}endInteraction(e,t,i){i=i&&io(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(bn.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){let i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){let i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;let i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}};function sv(n,e){setTimeout(function(){n(e)},0)}function MQ(n){if(n.extent!==void 0){let t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return yI(n.extent,n.constrainOnlyCenter,t)}let e=Gy(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){let t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,yI(t,!1,!1)}return yV}function RQ(n){let e,t,i,s=n.minZoom!==void 0?n.minZoom:VI,l=n.maxZoom!==void 0?n.maxZoom:28,u=n.zoomFactor!==void 0?n.zoomFactor:2,d=n.multiWorld!==void 0?n.multiWorld:!1,h=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,p=n.showFullExtent!==void 0?n.showFullExtent:!1,g=Gy(n.projection,"EPSG:3857"),_=g.getExtent(),v=n.constrainOnlyCenter,w=n.extent;if(!d&&!w&&g.isGlobal()&&(v=!1,w=_),n.resolutions!==void 0){let x=n.resolutions;t=x[s],i=x[l]!==void 0?x[l]:x[x.length-1],n.constrainResolution?e=qV(x,h,!v&&w,p):e=LI(t,i,h,!v&&w,p)}else{let D=(_?Math.max(Ue(_),Ut(_)):360*to.degrees/g.getMetersPerUnit())/256/Math.pow(2,VI),T=D/Math.pow(2,28-VI);t=n.maxResolution,t!==void 0?s=0:t=D/Math.pow(u,s),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(u,l):i=D/Math.pow(u,l):i=T),l=s+Math.floor(Math.log(t/i)/Math.log(u)),i=t/Math.pow(u,l-s),n.constrainResolution?e=YV(u,t,i,h,!v&&w,p):e=LI(t,i,h,!v&&w,p)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:s,zoomFactor:u}}function AQ(n){if(n.enableRotation!==void 0?n.enableRotation:!0){let t=n.constrainRotation;return t===void 0||t===!0?ZV():t===!1?kI:typeof t=="number"?XV(t):kI}return gd}function OQ(n){return!(n.sourceCenter&&n.targetCenter&&!rc(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function jI(n,e,t,i,r){let o=Math.cos(-r),s=Math.sin(-r),l=n[0]*o-n[1]*s,u=n[1]*o+n[0]*s;l+=(e[0]/2-t[0])*i,u+=(t[1]-e[1]/2)*i,s=-s;let d=l*o-u*s,h=u*o+l*s;return[d,h]}var ir=BI;function Et(n,e,t,i){let r;return t&&t.length?r=t.shift():Jy?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}var UI;function _d(){return UI||(UI=Et(1,1)),UI}function cc(n){let e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function HI(n,e){let t=e.parentNode;t&&t.replaceChild(n,e)}function QV(n){for(;n.lastChild;)n.lastChild.remove()}function JV(n,e){let t=n.childNodes;for(let i=0;;++i){let r=t[i],o=e[i];if(!r&&!o)break;if(r!==o){if(!r){n.appendChild(o);continue}if(!o){n.removeChild(r),--i;continue}n.insertBefore(o,r)}}}var zI=class extends jo{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;let t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"\u203A",s=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;let l=e.label!==void 0?e.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=r):this.label_=l;let u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(u),this.toggleButton_.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);let d=t+" "+Bo+" "+fd+(this.collapsed_&&this.collapsible_?" "+sI:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=d,h.appendChild(this.toggleButton_),h.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){let t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){let r=!t.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(i)}updateElement_(e){return gl(this,null,function*(){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let t=yield Promise.all(this.collectSourceAttributions_(e).map(r=>sV(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!ti(t,this.renderedAttributions_)){QV(this.ulElement_);for(let r=0,o=t.length;r<o;++r){let s=document.createElement("li");s.innerHTML=t[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=t}})}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(sI),this.collapsed_?HI(this.collapseLabel_,this.label_):HI(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},Wh=zI;var GI=class extends jo{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});let t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"\u21E7",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));let o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=t+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);let l=t+" "+Bo+" "+fd,u=this.element;u.className=l,u.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(jh)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){let t=this.getMap().getView();if(!t)return;let i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Or}):t.setRotation(0))}render(e){let t=e.frameState;if(!t)return;let i=t.viewState.rotation;if(i!=this.rotation_){let r="rotate("+i+"rad)";if(this.autoHide_){let o=this.element.classList.contains(jh);!o&&i===0?this.element.classList.add(jh):o&&i!==0&&this.element.classList.remove(jh)}this.label_.style.transform=r}this.rotation_=i}},e2=GI;var WI=class extends jo{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});let t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",s=e.zoomInLabel!==void 0?e.zoomInLabel:"+",l=e.zoomOutLabel!==void 0?e.zoomOutLabel:"\u2013",u=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof s=="string"?document.createTextNode(s):s),h.addEventListener(J.CLICK,this.handleClick_.bind(this,i),!1);let p=document.createElement("button");p.className=o,p.setAttribute("type","button"),p.title=d,p.appendChild(typeof l=="string"?document.createTextNode(l):l),p.addEventListener(J.CLICK,this.handleClick_.bind(this,-i),!1);let g=t+" "+Bo+" "+fd,_=this.element;_.className=g,_.appendChild(h),_.appendChild(p),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){let i=this.getMap().getView();if(!i)return;let r=i.getZoom();if(r!==void 0){let o=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Or})):i.setZoom(o)}}},t2=WI;function $h(n){n=n||{};let e=new Ei;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new t2(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new e2(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new Wh(n.attributionOptions)),e}var $I=class{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;let e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;let r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;let o=this.points_[t]-this.points_[i],s=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},n2=$I;var qI={ACTIVE:"active"};var YI=class extends pn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(qI.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(qI.ACTIVE,e)}setMap(e){this.map_=e}};function i2(n,e,t){let i=n.getCenterInternal();if(i){let r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:EV,center:n.getConstrainedCenter(r)})}}function yd(n,e,t,i){let r=n.getZoom();if(r===void 0)return;let o=n.getConstrainedZoom(r+e),s=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:s,anchor:t,duration:i!==void 0?i:250,easing:Or})}var Ho=YI;var XI=class extends Ho{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Ot.DBLCLICK){let i=e.originalEvent,r=e.map,o=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_,l=r.getView();yd(l,s,o,this.duration_),i.preventDefault(),t=!0}return!t}},r2=XI;function qh(n){let e=arguments;return function(t){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](t),!!i);++r);return i}}var o2=function(n){let e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},NQ=function(n){let e=n.map.getTargetElement(),t=e.getRootNode(),i=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},av=function(n){let e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?NQ(n):!0},s2=Bs;var lv=function(n){let e=n.originalEvent;return e instanceof PointerEvent&&e.button==0&&!(fV&&hI&&e.ctrlKey)};var cv=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};var a2=function(n){let e=n.originalEvent;return hI?e.metaKey:e.ctrlKey},l2=function(n){let e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},uv=function(n){let e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},dv=function(n){let e=n.originalEvent;return e instanceof PointerEvent&&e.pointerType=="mouse"};var c2=function(n){let e=n.originalEvent;return e instanceof PointerEvent&&e.isPrimary&&e.button===0};var ZI=class extends Ho{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Ot.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Ot.POINTERUP){let i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Ot.POINTERDOWN){let i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Ot.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function vd(n){let e=n.length,t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}var zo=ZI;var KI=class extends zo{constructor(e){super({stopDown:Us}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;let t=e.condition?e.condition:qh(cv,c2);this.condition_=e.onFocusOnly?qh(av,t):t,this.noKinetic_=!1}handleDragEvent(e){let t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());let i=this.targetPointers,r=t.getEventPixel(vd(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){let o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],l=e.map.getView();Ak(o,l.getResolution()),ed(o,l.getRotation()),l.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){let t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){let r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=i.getCenterInternal(),l=t.getPixelFromCoordinateInternal(s),u=t.getCoordinateFromPixelInternal([l[0]-r*Math.cos(o),l[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(u),duration:500,easing:Or})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){let i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},u2=KI;var QI=class extends zo{constructor(e){e=e||{},super({stopDown:Us}),this.condition_=e.condition?e.condition:o2,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!dv(e))return;let t=e.map,i=t.getView();if(i.getConstraints().rotation===gd)return;let r=t.getSize(),o=e.pixel,s=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){let l=s-this.lastAngle_;i.adjustRotationInternal(-l)}this.lastAngle_=s}handleUpEvent(e){return dv(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return dv(e)&&lv(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}},d2=QI;var JI=class extends Ua{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){let e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);let t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;let e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new $V([r])}getGeometry(){return this.geometry_}},f2=JI;var Ed={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},uc=class extends Rn{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}},eD=class extends zo{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new f2(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??lv,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){let r=i[0]-t[0],o=i[1]-t[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new uc(Ed.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;let t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new uc(t?Ed.BOXEND:Ed.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new uc(Ed.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new uc(Ed.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new uc(Ed.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}},h2=eD;var tD=class extends h2{constructor(e){e=e||{};let t=e.condition?e.condition:l2;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){let i=this.getMap().getView(),r=this.getGeometry();if(this.out_){let o=i.rotatedExtentForGeometry(r),s=i.getResolutionForExtentInternal(o),l=i.getResolution()/s;r=r.clone(),r.scale(l*l)}i.fitInternal(r,{duration:this.duration_,easing:Or})}},p2=tD;var qa={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};var nD=class extends Ho{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return cv(t)&&uv(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==J.KEYDOWN){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==qa.DOWN||r==qa.LEFT||r==qa.RIGHT||r==qa.UP)){let s=e.map.getView(),l=s.getResolution()*this.pixelDelta_,u=0,d=0;r==qa.DOWN?d=-l:r==qa.LEFT?u=-l:r==qa.RIGHT?u=l:d=l;let h=[u,d];ed(h,s.getRotation()),i2(s,h,this.duration_),i.preventDefault(),t=!0}}return!t}},m2=nD;var iD=class extends Ho{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!a2(t)&&uv(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==J.KEYDOWN||e.type==J.KEYPRESS){let i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){let o=e.map,s=r==="+"?this.delta_:-this.delta_,l=o.getView();yd(l,s,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}},g2=iD;var rD=class extends Ho{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;let t=e.condition?e.condition:s2;this.condition_=e.onFocusOnly?qh(av,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;let e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==J.WHEEL)return!0;let i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o;if(e.type==J.WHEEL&&(o=r.deltaY,r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;let s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");let l=i.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=s,!1;this.totalDelta_+=o;let u=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),u),!1}handleWheelZoom_(e){let t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-ct(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),yd(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},_2=rD;var oD=class extends zo{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Us),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0,i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){let u=o-this.lastAngle_;this.rotationDelta_+=u,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=u}this.lastAngle_=o;let s=e.map,l=s.getView();l.getConstraints().rotation!==gd&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(vd(this.targetPointers))),this.rotating_&&(s.render(),l.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},y2=oD;var sD=class extends zo{constructor(e){e=e||{};let t=e;t.stopDown||(t.stopDown=Us),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1,i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,s=i.clientY-r.clientY,l=Math.sqrt(o*o+s*s);this.lastDistance_!==void 0&&(t=this.lastDistance_/l),this.lastDistance_=l;let u=e.map,d=u.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(vd(this.targetPointers))),u.render(),d.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){let i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){let t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}},v2=sD;function E2(n){n=n||{};let e=new Ei,t=new n2(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new d2),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new r2({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new u2({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new y2),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new v2({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new m2),e.push(new g2({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new _2({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new p2({duration:n.zoomDuration})),e}var pt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var aD=class extends pn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;let t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[pt.OPACITY]=e.opacity!==void 0?e.opacity:1,ke(typeof t[pt.OPACITY]=="number","Layer opacity must be a number"),t[pt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[pt.Z_INDEX]=e.zIndex,t[pt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[pt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[pt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[pt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){let t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=ct(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return $e()}getLayerStatesArray(e){return $e()}getExtent(){return this.get(pt.EXTENT)}getMaxResolution(){return this.get(pt.MAX_RESOLUTION)}getMinResolution(){return this.get(pt.MIN_RESOLUTION)}getMinZoom(){return this.get(pt.MIN_ZOOM)}getMaxZoom(){return this.get(pt.MAX_ZOOM)}getOpacity(){return this.get(pt.OPACITY)}getSourceState(){return $e()}getVisible(){return this.get(pt.VISIBLE)}getZIndex(){return this.get(pt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(pt.EXTENT,e)}setMaxResolution(e){this.set(pt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(pt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(pt.MAX_ZOOM,e)}setMinZoom(e){this.set(pt.MIN_ZOOM,e)}setOpacity(e){ke(typeof e=="number","Layer opacity must be a number"),this.set(pt.OPACITY,e)}setVisible(e){this.set(pt.VISIBLE,e)}setZIndex(e){this.set(pt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},fv=aD;var oo=class extends Rn{constructor(e,t){super(e),this.layer=t}},lD={LAYERS:"layers"},cD=class n extends fv{constructor(e){e=e||{};let t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(lD.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Ei(i.slice(),{unique:!0}):ke(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Ei(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(at),this.layersListenerKeys_.length=0;let e=this.getLayers();this.layersListenerKeys_.push(Ae(e,An.ADD,this.handleLayersAdd_,this),Ae(e,An.REMOVE,this.handleLayersRemove_,this));for(let i in this.listenerKeys_)this.listenerKeys_[i].forEach(at);Lo(this.listenerKeys_);let t=e.getArray();for(let i=0,r=t.length;i<r;i++){let o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new oo("addlayer",o))}this.changed()}registerLayerListeners_(e){let t=[Ae(e,ro.PROPERTYCHANGE,this.handleLayerChange_,this),Ae(e,J.CHANGE,this.handleLayerChange_,this)];e instanceof n&&t.push(Ae(e,"addlayer",this.handleLayerGroupAdd_,this),Ae(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Oe(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new oo("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new oo("removelayer",e.layer))}handleLayersAdd_(e){let t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new oo("addlayer",t)),this.changed()}handleLayersRemove_(e){let t=e.element,i=Oe(t);this.listenerKeys_[i].forEach(at),delete this.listenerKeys_[i],this.dispatchEvent(new oo("removelayer",t)),this.changed()}getLayers(){return this.get(lD.LAYERS)}setLayers(e){let t=this.getLayers();if(t){let i=t.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new oo("removelayer",i[r]))}this.set(lD.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){let t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(t)});let r=this.getLayerState(),o=r.zIndex;!e&&r.zIndex===void 0&&(o=0);for(let s=i,l=t.length;s<l;s++){let u=t[s];u.opacity*=r.opacity,u.visible=u.visible&&r.visible,u.maxResolution=Math.min(u.maxResolution,r.maxResolution),u.minResolution=Math.max(u.minResolution,r.minResolution),u.minZoom=Math.max(u.minZoom,r.minZoom),u.maxZoom=Math.min(u.maxZoom,r.maxZoom),r.extent!==void 0&&(u.extent!==void 0?u.extent=Fo(u.extent,r.extent):u.extent=r.extent),u.zIndex===void 0&&(u.zIndex=o)}return t}getSourceState(){return"ready"}},Yh=cD;var zn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var uD=class extends fv{constructor(e){let t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(pt.SOURCE,this.handleSourcePropertyChange_);let i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(pt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){let e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(at(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;let e=this.getSource();e&&(this.sourceChangeKey_=Ae(e,J.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t,i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof ir?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(s=>s.layer===this),!r)return!1}else r=this.getLayerState();let o=this.getExtent();return Xh(r,t.viewState)&&(!o||qt(o,t.extent))}getAttributions(e){if(!this.isVisible(e))return[];let t=this.getSource()?.getAttributions();if(!t)return[];let i=e instanceof ir?e.getViewStateAndExtent():e,r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){let i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){let t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(pt.MAP,e)}getMapInternal(){return this.get(pt.MAP)}setMap(e){this.mapPrecomposeKey_&&(at(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(at(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ae(e,zn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Ae(this,J.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){let t=e.frameState.layerStatesArray,i=this.getLayerState(!1);ke(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(pt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};function Xh(n,e){if(!n.visible)return!1;let t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;let i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}var dc=uD;function hv(n,e,t=0,i=n.length-1,r=PQ){for(;i>t;){if(i-t>600){let u=i-t+1,d=e-t+1,h=Math.log(u),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(u-p)/u)*(d-u/2<0?-1:1),_=Math.max(t,Math.floor(e-d*p/u+g)),v=Math.min(i,Math.floor(e+(u-d)*p/u+g));hv(n,e,_,v,r)}let o=n[e],s=t,l=i;for(Zh(n,t,e),r(n[i],o)>0&&Zh(n,t,i);s<l;){for(Zh(n,s,l),s++,l--;r(n[s],o)<0;)s++;for(;r(n[l],o)>0;)l--}r(n[t],o)===0?Zh(n,t,l):(l++,Zh(n,l,i)),l<=e&&(t=l+1),e<=l&&(i=l-1)}}function Zh(n,e,t){let i=n[e];n[e]=n[t],n[t]=i}function PQ(n,e){return n<e?-1:n>e?1:0}var Cd=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,i=[];if(!mv(e,t))return i;let r=this.toBBox,o=[];for(;t;){for(let s=0;s<t.children.length;s++){let l=t.children[s],u=t.leaf?r(l):l;mv(e,u)&&(t.leaf?i.push(l):fD(e,u)?this._all(l,i):o.push(l))}t=o.pop()}return i}collides(e){let t=this.data;if(!mv(e,t))return!1;let i=[];for(;t;){for(let r=0;r<t.children.length;r++){let o=t.children[r],s=t.leaf?this.toBBox(o):o;if(mv(e,s)){if(t.leaf||fD(e,s))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=wd([]),this}remove(e,t){if(!e)return this;let i=this.data,r=this.toBBox(e),o=[],s=[],l,u,d;for(;i||o.length;){if(i||(i=o.pop(),u=o[o.length-1],l=s.pop(),d=!0),i.leaf){let h=FQ(e,i.children,t);if(h!==-1)return i.children.splice(h,1),o.push(i),this._condense(o),this}!d&&!i.leaf&&fD(i,r)?(o.push(i),s.push(l),l=0,u=i,i=i.children[0]):u?(l++,i=u.children[l],d=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){let o=i-t+1,s=this._maxEntries,l;if(o<=s)return l=wd(e.slice(t,i+1)),bd(l,this.toBBox),l;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),l=wd([]),l.leaf=!1,l.height=r;let u=Math.ceil(o/s),d=u*Math.ceil(Math.sqrt(s));b2(e,t,i,d,this.compareMinX);for(let h=t;h<=i;h+=d){let p=Math.min(h+d-1,i);b2(e,h,p,u,this.compareMinY);for(let g=h;g<=p;g+=u){let _=Math.min(g+u-1,p);l.children.push(this._build(e,g,_,r-1))}}return bd(l,this.toBBox),l}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let o=1/0,s=1/0,l;for(let u=0;u<t.children.length;u++){let d=t.children[u],h=dD(d),p=VQ(e,d)-h;p<s?(s=p,o=h<o?h:o,l=d):p===s&&h<o&&(o=h,l=d)}t=l||t.children[0]}return t}_insert(e,t,i){let r=i?e:this.toBBox(e),o=[],s=this._chooseSubtree(r,this.data,t,o);for(s.children.push(e),Qh(s,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){let i=e[t],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);let s=this._chooseSplitIndex(i,o,r),l=wd(i.children.splice(s,i.children.length-s));l.height=i.height,l.leaf=i.leaf,bd(i,this.toBBox),bd(l,this.toBBox),t?e[t-1].children.push(l):this._splitRoot(i,l)}_splitRoot(e,t){this.data=wd([e,t]),this.data.height=e.height+1,this.data.leaf=!1,bd(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,o=1/0,s=1/0;for(let l=t;l<=i-t;l++){let u=Kh(e,0,l,this.toBBox),d=Kh(e,l,i,this.toBBox),h=jQ(u,d),p=dD(u)+dD(d);h<o?(o=h,r=l,s=p<s?p:s):h===o&&p<s&&(s=p,r=l)}return r||i-t}_chooseSplitAxis(e,t,i){let r=e.leaf?this.compareMinX:LQ,o=e.leaf?this.compareMinY:kQ,s=this._allDistMargin(e,t,i,r),l=this._allDistMargin(e,t,i,o);s<l&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);let o=this.toBBox,s=Kh(e,0,t,o),l=Kh(e,i-t,i,o),u=pv(s)+pv(l);for(let d=t;d<i-t;d++){let h=e.children[d];Qh(s,e.leaf?o(h):h),u+=pv(s)}for(let d=i-t-1;d>=t;d--){let h=e.children[d];Qh(l,e.leaf?o(h):h),u+=pv(l)}return u}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)Qh(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():bd(e[t],this.toBBox)}};function FQ(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function bd(n,e){Kh(n,0,n.children.length,e,n)}function Kh(n,e,t,i,r){r||(r=wd(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<t;o++){let s=n.children[o];Qh(r,n.leaf?i(s):s)}return r}function Qh(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function LQ(n,e){return n.minX-e.minX}function kQ(n,e){return n.minY-e.minY}function dD(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function pv(n){return n.maxX-n.minX+(n.maxY-n.minY)}function VQ(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function jQ(n,e){let t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,o-i)}function fD(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function mv(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function wd(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b2(n,e,t,i,r){let o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;let s=e+Math.ceil((t-e)/i/2)*i;hv(n,s,e,t,r),o.push(e,s,s,t)}}var _v=[NaN,NaN,NaN,0],hD;function BQ(){return hD||(hD=Et(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),hD}var UQ=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,HQ=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,zQ=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,GQ=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function gv(n,e){return n.endsWith("%")?Number(n.substring(0,n.length-1))/e:Number(n)}function ep(n){throw new Error('failed to parse "'+n+'" as color')}function w2(n){if(n.toLowerCase().startsWith("rgb")){let o=n.match(HQ)||n.match(UQ)||n.match(zQ);if(o){let s=o[4],l=100/255;return[ct(gv(o[1],l)+.5|0,0,255),ct(gv(o[2],l)+.5|0,0,255),ct(gv(o[3],l)+.5|0,0,255),s!==void 0?ct(gv(s,100),0,1):1]}ep(n)}if(n.startsWith("#")){if(GQ.test(n)){let o=n.substring(1),s=o.length<=4?1:2,l=[0,0,0,255];for(let u=0,d=o.length;u<d;u+=s){let h=parseInt(o.substring(u,u+s),16);s===1&&(h+=h<<4),l[u/s]=h}return l[3]=l[3]/255,l}ep(n)}let e=BQ();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=n,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=n,e.fillStyle===t&&ep(n));let i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return w2(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);let r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=Ju(r[3]/255,3),r}function C2(n){return typeof n=="string"?n:np(n)}var WQ=1024,Jh={},pD=0;function x2(n){if(n.length===4)return n;let e=n.slice();return e[3]=1,e}function mD(n){return n>.0031308?Math.pow(n,1/2.4)*269.025-14.025:n*3294.6}function gD(n){return n>.2068965?Math.pow(n,3):(n-4/29)*(108/841)}function _D(n){return n>10.314724?Math.pow((n+14.025)/269.025,2.4):n/3294.6}function yD(n){return n>.0088564?Math.pow(n,1/3):n/(108/841)+4/29}function vD(n){let e=_D(n[0]),t=_D(n[1]),i=_D(n[2]),r=yD(e*.222488403+t*.716873169+i*.06060791),o=500*(yD(e*.452247074+t*.399439023+i*.148375274)-r),s=200*(r-yD(e*.016863605+t*.117638439+i*.865350722)),l=Math.atan2(s,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+s*s),l<0?l+360:l,n[3]]}function I2(n){let e=(n[0]+16)/116,t=n[1],i=n[2]*Math.PI/180,r=gD(e),o=gD(e+t/500*Math.cos(i)),s=gD(e-t/200*Math.sin(i)),l=mD(o*3.021973625-r*1.617392459-s*.404875592),u=mD(o*-.943766287+r*1.916279586+s*.027607165),d=mD(o*.069407491-r*.22898585+s*1.159737864);return[ct(l+.5|0,0,255),ct(u+.5|0,0,255),ct(d+.5|0,0,255),n[3]]}function tp(n){if(n==="none")return _v;if(Jh.hasOwnProperty(n))return Jh[n];if(pD>=WQ){let t=0;for(let i in Jh)(t++&3)===0&&(delete Jh[i],--pD)}let e=w2(n);e.length!==4&&ep(n);for(let t of e)isNaN(t)&&ep(n);return Jh[n]=e,++pD,e}function so(n){return Array.isArray(n)?n:tp(n)}function np(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);let r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}function ED(n){return n[0]>0&&n[1]>0}function D2(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function tn(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}var fc=0;var ni=1<<fc++,ot=1<<fc++,bi=1<<fc++,rr=1<<fc++,Xa=1<<fc++,ip=1<<fc++,yv=Math.pow(2,fc)-1,CD={[ni]:"boolean",[ot]:"number",[bi]:"string",[rr]:"color",[Xa]:"number[]",[ip]:"size"},$Q=Object.keys(CD).map(Number).sort(Li);function qQ(n){return n in CD}function rp(n){let e=[];for(let t of $Q)op(n,t)&&e.push(CD[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function op(n,e){return(n&e)===e}function Ya(n,e){return n===e}var nn=class{constructor(e,t){if(!qQ(e))throw new Error(`literal expressions must have a specific type, got ${rp(e)}`);this.type=e,this.value=t}},wD=class{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}};function xD(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Nn(n,e,t){switch(typeof n){case"boolean":{if(Ya(e,bi))return new nn(bi,n?"true":"false");if(!op(e,ni))throw new Error(`got a boolean, but expected ${rp(e)}`);return new nn(ni,n)}case"number":{if(Ya(e,ip))return new nn(ip,tn(n));if(Ya(e,ni))return new nn(ni,!!n);if(Ya(e,bi))return new nn(bi,n.toString());if(!op(e,ot))throw new Error(`got a number, but expected ${rp(e)}`);return new nn(ot,n)}case"string":{if(Ya(e,rr))return new nn(rr,tp(n));if(Ya(e,ni))return new nn(ni,!!n);if(!op(e,bi))throw new Error(`got a string, but expected ${rp(e)}`);return new nn(bi,n)}default:}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return rJ(n,e,t);for(let i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(Ya(e,ip)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new nn(ip,n)}if(Ya(e,rr)){if(n.length===3)return new nn(rr,[...n,1]);if(n.length===4)return new nn(rr,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!op(e,Xa))throw new Error(`got an array of numbers, but expected ${rp(e)}`);return new nn(Xa,n)}var k={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},YQ={[k.Get]:De(He(1,1/0),S2),[k.Var]:De(He(1,1),XQ),[k.Has]:De(He(1,1/0),S2),[k.Id]:De(ZQ,xd),[k.Concat]:De(He(2,1/0),mt(bi)),[k.GeometryType]:De(KQ,xd),[k.LineMetric]:De(xd),[k.Resolution]:De(bD,xd),[k.Zoom]:De(bD,xd),[k.Time]:De(bD,xd),[k.Any]:De(He(2,1/0),mt(ni)),[k.All]:De(He(2,1/0),mt(ni)),[k.Not]:De(He(1,1),mt(ni)),[k.Equal]:De(He(2,2),mt(yv)),[k.NotEqual]:De(He(2,2),mt(yv)),[k.GreaterThan]:De(He(2,2),mt(ot)),[k.GreaterThanOrEqualTo]:De(He(2,2),mt(ot)),[k.LessThan]:De(He(2,2),mt(ot)),[k.LessThanOrEqualTo]:De(He(2,2),mt(ot)),[k.Multiply]:De(He(2,1/0),T2),[k.Coalesce]:De(He(2,1/0),T2),[k.Divide]:De(He(2,2),mt(ot)),[k.Add]:De(He(2,1/0),mt(ot)),[k.Subtract]:De(He(2,2),mt(ot)),[k.Clamp]:De(He(3,3),mt(ot)),[k.Mod]:De(He(2,2),mt(ot)),[k.Pow]:De(He(2,2),mt(ot)),[k.Abs]:De(He(1,1),mt(ot)),[k.Floor]:De(He(1,1),mt(ot)),[k.Ceil]:De(He(1,1),mt(ot)),[k.Round]:De(He(1,1),mt(ot)),[k.Sin]:De(He(1,1),mt(ot)),[k.Cos]:De(He(1,1),mt(ot)),[k.Atan]:De(He(1,2),mt(ot)),[k.Sqrt]:De(He(1,1),mt(ot)),[k.Match]:De(He(4,1/0),M2,JQ),[k.Between]:De(He(3,3),mt(ot)),[k.Interpolate]:De(He(6,1/0),M2,eJ),[k.Case]:De(He(3,1/0),QQ,tJ),[k.In]:De(He(2,2),nJ),[k.Number]:De(He(1,1/0),mt(yv)),[k.String]:De(He(1,1/0),mt(yv)),[k.Array]:De(He(1,1/0),mt(ot)),[k.Color]:De(He(1,4),mt(ot)),[k.Band]:De(He(1,3),mt(ot)),[k.Palette]:De(He(2,2),iJ),[k.ToString]:De(He(1,1),mt(ni|ot|bi|rr))};function S2(n,e,t){let i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=n[o+1];switch(typeof s){case"number":{r[o]=new nn(ot,s);break}case"string":{r[o]=new nn(bi,s);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${s}`)}o===0&&t.properties.add(String(s))}return r}function XQ(n,e,t){let i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new nn(bi,i)]}function ZQ(n,e,t){t.featureId=!0}function KQ(n,e,t){t.geometryType=!0}function bD(n,e,t){t.mapState=!0}function xd(n,e,t){let i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function He(n,e){return function(t,i,r){let o=t[0],s=t.length-1;if(n===e){if(s!==n){let l=n===1?"":"s";throw new Error(`expected ${n} argument${l} for ${o}, got ${s}`)}}else if(s<n||s>e){let l=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${l} arguments for ${o}, got ${s}`)}}}function T2(n,e,t){let i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){let s=Nn(n[o+1],e,t);r[o]=s}return r}function mt(n){return function(e,t,i){let r=e.length-1,o=new Array(r);for(let s=0;s<r;++s){let l=Nn(e[s+1],n,i);o[s]=l}return o}}function QQ(n,e,t){let i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function M2(n,e,t){let i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function JQ(n,e,t){let i=n.length-1,r=bi|ot|ni,o=Nn(n[1],r,t),s=Nn(n[n.length-1],e,t),l=new Array(i-2);for(let u=0;u<i-2;u+=2){try{let d=Nn(n[u+2],o.type,t);l[u]=d}catch(d){throw new Error(`failed to parse argument ${u+1} of match expression: ${d.message}`)}try{let d=Nn(n[u+3],s.type,t);l[u+1]=d}catch(d){throw new Error(`failed to parse argument ${u+2} of match expression: ${d.message}`)}}return[o,...l,s]}function eJ(n,e,t){let i=n[1],r;switch(i[0]){case"linear":r=1;break;case"exponential":let u=i[1];if(typeof u!="number"||u<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(u)} instead`);r=u;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}let o=new nn(ot,r),s;try{s=Nn(n[2],ot,t)}catch(u){throw new Error(`failed to parse argument 1 in interpolate expression: ${u.message}`)}let l=new Array(n.length-3);for(let u=0;u<l.length;u+=2){try{let d=Nn(n[u+3],ot,t);l[u]=d}catch(d){throw new Error(`failed to parse argument ${u+2} for interpolate expression: ${d.message}`)}try{let d=Nn(n[u+4],e,t);l[u+1]=d}catch(d){throw new Error(`failed to parse argument ${u+3} for interpolate expression: ${d.message}`)}}return[o,s,...l]}function tJ(n,e,t){let i=Nn(n[n.length-1],e,t),r=new Array(n.length-1);for(let o=0;o<r.length-1;o+=2){try{let s=Nn(n[o+1],ni,t);r[o]=s}catch(s){throw new Error(`failed to parse argument ${o} of case expression: ${s.message}`)}try{let s=Nn(n[o+2],i.type,t);r[o+1]=s}catch(s){throw new Error(`failed to parse argument ${o+1} of case expression: ${s.message}`)}}return r[r.length-1]=i,r}function nJ(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=bi}else r=ot;let o=new Array(i.length);for(let l=0;l<o.length;l++)try{let u=Nn(i[l],r,t);o[l]=u}catch(u){throw new Error(`failed to parse haystack item ${l} for "in" expression: ${u.message}`)}return[Nn(n[1],r,t),...o]}function iJ(n,e,t){let i;try{i=Nn(n[1],ot,t)}catch(s){throw new Error(`failed to parse first argument in palette expression: ${s.message}`)}let r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");let o=new Array(r.length);for(let s=0;s<o.length;s++){let l;try{l=Nn(r[s],rr,t)}catch(u){throw new Error(`failed to parse color at index ${s} in palette expression: ${u.message}`)}if(!(l instanceof nn))throw new Error(`the palette color at index ${s} must be a literal value`);o[s]=l}return[i,...o]}function De(...n){return function(e,t,i){let r=e[0],o;for(let s=0;s<n.length;s++){let l=n[s](e,t,i);if(s==n.length-1){if(!l)throw new Error("expected last argument validator to return the parsed args");o=l}}return new wD(t,r,...o)}}function rJ(n,e,t){let i=n[0],r=YQ[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function ID(n){if(!n)return"";let e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return ID(n.getGeometries()[0]);default:return""}}function DD(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Go(n,e,t){let i=Nn(n,e,t);return ao(i,t)}function ao(n,e){if(n instanceof nn){if(n.type===rr&&typeof n.value=="string"){let i=tp(n.value);return function(){return i}}return function(){return n.value}}let t=n.operator;switch(t){case k.Number:case k.String:case k.Coalesce:return oJ(n,e);case k.Get:case k.Var:case k.Has:return sJ(n,e);case k.Id:return i=>i.featureId;case k.GeometryType:return i=>i.geometryType;case k.Concat:{let i=n.args.map(r=>ao(r,e));return r=>"".concat(...i.map(o=>o(r).toString()))}case k.Resolution:return i=>i.resolution;case k.Any:case k.All:case k.Between:case k.In:case k.Not:return lJ(n,e);case k.Equal:case k.NotEqual:case k.LessThan:case k.LessThanOrEqualTo:case k.GreaterThan:case k.GreaterThanOrEqualTo:return aJ(n,e);case k.Multiply:case k.Divide:case k.Add:case k.Subtract:case k.Clamp:case k.Mod:case k.Pow:case k.Abs:case k.Floor:case k.Ceil:case k.Round:case k.Sin:case k.Cos:case k.Atan:case k.Sqrt:return cJ(n,e);case k.Case:return uJ(n,e);case k.Match:return dJ(n,e);case k.Interpolate:return fJ(n,e);case k.ToString:return hJ(n,e);default:throw new Error(`Unsupported operator ${t}`)}}function oJ(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ao(n.args[o],e);switch(t){case k.Coalesce:return o=>{for(let s=0;s<i;++s){let l=r[s](o);if(typeof l<"u"&&l!==null)return l}throw new Error("Expected one of the values to be non-null")};case k.Number:case k.String:return o=>{for(let s=0;s<i;++s){let l=r[s](o);if(typeof l===t)return l}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function sJ(n,e){let i=n.args[0].value;switch(n.operator){case k.Get:return r=>{let o=n.args,s=r.properties[i];for(let l=1,u=o.length;l<u;++l){let h=o[l].value;s=s[h]}return s};case k.Var:return r=>r.variables[i];case k.Has:return r=>{let o=n.args;if(!(i in r.properties))return!1;let s=r.properties[i];for(let l=1,u=o.length;l<u;++l){let h=o[l].value;if(!s||!Object.hasOwn(s,h))return!1;s=s[h]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function aJ(n,e){let t=n.operator,i=ao(n.args[0],e),r=ao(n.args[1],e);switch(t){case k.Equal:return o=>i(o)===r(o);case k.NotEqual:return o=>i(o)!==r(o);case k.LessThan:return o=>i(o)<r(o);case k.LessThanOrEqualTo:return o=>i(o)<=r(o);case k.GreaterThan:return o=>i(o)>r(o);case k.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${t}`)}}function lJ(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ao(n.args[o],e);switch(t){case k.Any:return o=>{for(let s=0;s<i;++s)if(r[s](o))return!0;return!1};case k.All:return o=>{for(let s=0;s<i;++s)if(!r[s](o))return!1;return!0};case k.Between:return o=>{let s=r[0](o),l=r[1](o),u=r[2](o);return s>=l&&s<=u};case k.In:return o=>{let s=r[0](o);for(let l=1;l<i;++l)if(s===r[l](o))return!0;return!1};case k.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${t}`)}}function cJ(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ao(n.args[o],e);switch(t){case k.Multiply:return o=>{let s=1;for(let l=0;l<i;++l)s*=r[l](o);return s};case k.Divide:return o=>r[0](o)/r[1](o);case k.Add:return o=>{let s=0;for(let l=0;l<i;++l)s+=r[l](o);return s};case k.Subtract:return o=>r[0](o)-r[1](o);case k.Clamp:return o=>{let s=r[0](o),l=r[1](o);if(s<l)return l;let u=r[2](o);return s>u?u:s};case k.Mod:return o=>r[0](o)%r[1](o);case k.Pow:return o=>Math.pow(r[0](o),r[1](o));case k.Abs:return o=>Math.abs(r[0](o));case k.Floor:return o=>Math.floor(r[0](o));case k.Ceil:return o=>Math.ceil(r[0](o));case k.Round:return o=>Math.round(r[0](o));case k.Sin:return o=>Math.sin(r[0](o));case k.Cos:return o=>Math.cos(r[0](o));case k.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case k.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${t}`)}}function uJ(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=ao(n.args[r],e);return r=>{for(let o=0;o<t-1;o+=2)if(i[o](r))return i[o+1](r);return i[t-1](r)}}function dJ(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=ao(n.args[r],e);return r=>{let o=i[0](r);for(let s=1;s<t-1;s+=2)if(o===i[s](r))return i[s+1](r);return i[t-1](r)}}function fJ(n,e){let t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=ao(n.args[r],e);return r=>{let o=i[0](r),s=i[1](r),l,u;for(let d=2;d<t;d+=2){let h=i[d](r),p=i[d+1](r),g=Array.isArray(p);if(g&&(p=x2(p)),h>=s)return d===2?p:g?pJ(o,s,l,u,h,p):sp(o,s,l,u,h,p);l=h,u=p}return u}}function hJ(n,e){let t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ao(n.args[o],e);switch(t){case k.ToString:return o=>{let s=r[0](o);return n.args[0].type===rr?np(s):s.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function sp(n,e,t,i,r,o){let s=r-t;if(s===0)return i;let l=e-t,u=n===1?l/s:(Math.pow(n,l)-1)/(Math.pow(n,s)-1);return i+u*(o-i)}function pJ(n,e,t,i,r,o){if(r-t===0)return i;let l=vD(i),u=vD(o),d=u[2]-l[2];d>180?d-=360:d<-180&&(d+=360);let h=[sp(n,e,t,l[0],r,u[0]),sp(n,e,t,l[1],r,u[1]),l[2]+sp(n,e,t,0,r,d),sp(n,e,t,i[3],r,o[3])];return I2(h)}var we={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function R2(n,e,t){let i=n,r=!0,o=!1,s=!1,l=[nd(i,J.LOAD,function(){s=!0,o||e()})];return i.src&&pI?(o=!0,i.decode().then(function(){r&&e()}).catch(function(u){r&&(s?e():t())})):l.push(nd(i,J.ERROR,t)),function(){r=!1,l.forEach(at)}}function mJ(n,e){return new Promise((t,i)=>{function r(){s(),t(n)}function o(){s(),i(new Error("Image load error"))}function s(){n.removeEventListener("load",r),n.removeEventListener("error",o)}n.addEventListener("load",r),n.addEventListener("error",o),e&&(n.src=e)})}function A2(n,e){return e&&(n.src=e),n.src&&pI?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):mJ(n)}var TD=class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(let t in this.cache_){let i=this.cache_[t];(e++&3)===0&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){let r=SD(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){let r=SD(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,o){let s=SD(e,t,i),l=s in this.cache_;this.cache_[s]=r,o&&(r.getImageState()===we.IDLE&&r.load(),r.getImageState()===we.LOADING?r.ready().then(()=>{this.patternCache_[s]=_d().createPattern(r.getImage(1),"repeat")}):this.patternCache_[s]=_d().createPattern(r.getImage(1),"repeat")),l||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};function SD(n,e,t){let i=t?so(t):"null";return e+":"+n+":"+i}var ii=new TD;var ap=null,vv=class extends Ha{constructor(e,t,i,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?we.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===we.LOADED){ap||(ap=Et(1,1,void 0,{willReadFrequently:!0})),ap.drawImage(this.image_,0,0);try{ap.getImageData(0,0,1,1),this.tainted_=!1}catch{ap=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(J.CHANGE)}handleImageError_(){this.imageState_=we.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=we.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],i=Et(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===we.IDLE){this.image_||this.initializeImage_(),this.imageState_=we.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&A2(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==we.LOADED)return;let t=this.image_,i=Et(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=C2(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===we.LOADED||this.imageState_===we.ERROR)e();else{let t=()=>{(this.imageState_===we.LOADED||this.imageState_===we.ERROR)&&(this.removeEventListener(J.CHANGE,t),e())};this.addEventListener(J.CHANGE,t)}})),this.ready_}};function Id(n,e,t,i,r,o){let s=e===void 0?void 0:ii.get(e,t,r);return s||(s=new vv(n,n&&"src"in n?n.src||void 0:e,t,i,r),ii.set(e,t,r,s,o)),o&&s&&!ii.getPattern(e,t,r)&&ii.set(e,t,r,s,o),s}var O2=vv;function Vi(n){return n?Array.isArray(n)?np(n):typeof n=="object"&&"src"in n?gJ(n):n:null}function gJ(n){if(!n.offset||!n.size)return ii.getPattern(n.src,"anonymous",n.color);let e=n.src+":"+n.offset,t=ii.getPattern(e,void 0,n.color);if(t)return t;let i=ii.get(n.src,"anonymous",null);if(i.getImageState()!==we.LOADED)return null;let r=Et(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),Id(r.canvas,e,void 0,we.LOADED,n.color,!0),ii.getPattern(e,void 0,n.color)}var bv="10px sans-serif",wn="#000",$o="round",ji=[],Bi=0,qo="round",zs=10,Gs="#000",Za="center",hc="middle",Ws=[0,0,0,0],$s=1,Wo=new pn,Dd=null,MD,RD={},N2=function(){let e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10\uF013",o,s;function l(d,h,p){let g=!0;for(let _=0;_<i;++_){let v=t[_];if(s=Ev(d+" "+h+" "+e+v,r),p!=v){let w=Ev(d+" "+h+" "+e+p+","+v,r);g=g&&w!=s}}return!!g}function u(){let d=!0,h=Wo.getKeys();for(let p=0,g=h.length;p<g;++p){let _=h[p];if(Wo.get(_)<100){let[v,w,x]=_.split(`
`);l(v,w,x)?(Lo(RD),Dd=null,MD=void 0,Wo.set(_,100)):(Wo.set(_,Wo.get(_)+1,!0),d=!1)}}d&&(clearInterval(o),o=void 0)}return function(d){let h=aI(d);if(!h)return;let p=h.families;for(let g=0,_=p.length;g<_;++g){let v=p[g],w=h.style+`
`+h.weight+`
`+v;Wo.get(w)===void 0&&(Wo.set(w,100,!0),l(h.style,h.weight,v)||(Wo.set(w,0,!0),o===void 0&&(o=setInterval(u,32))))}}}(),_J=function(){let n;return function(e){let t=RD[e];if(t==null){if(Jy){let i=aI(e),r=P2(e,"\u017Dg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);RD[e]=t}return t}}();function P2(n,e){return Dd||(Dd=Et(1,1)),n!=MD&&(Dd.font=n,MD=Dd.font),Dd.measureText(e)}function Ev(n,e){return P2(n,e).width}function AD(n,e,t){if(e in t)return t[e];let i=e.split(`
`).reduce((r,o)=>Math.max(r,Ev(n,o)),0);return t[e]=i,i}function F2(n,e){let t=[],i=[],r=[],o=0,s=0,l=0,u=0;for(let d=0,h=e.length;d<=h;d+=2){let p=e[d];if(p===`
`||d===h){o=Math.max(o,s),r.push(s),s=0,l+=u,u=0;continue}let g=e[d+1]||n.font,_=Ev(g,p);t.push(_),s+=_;let v=_J(g);i.push(v),u=Math.max(u,v)}return{width:o,height:l,widths:t,heights:i,lineWidths:r}}function L2(n,e,t,i,r,o,s,l,u,d,h){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=p=>p.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(u,d),n.scale(h[0],h[1]),yJ(i,n)):h[0]<0||h[1]<0?(n.translate(u,d),n.scale(h[0],h[1]),n.drawImage(i,r,o,s,l,0,0,s,l)):n.drawImage(i,r,o,s,l,u,d,s*h[0],l*h[1]),n.restore()}function yJ(n,e){let t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}var OD=class n{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=tn(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return $e()}getImage(e){return $e()}getHitDetectionImage(){return $e()}getPixelRatio(e){return 1}getImageState(){return $e()}getImageSize(){return $e()}getOrigin(){return $e()}getSize(){return $e()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=tn(e)}listenImageChange(e){$e()}load(){$e()}unlistenImageChange(e){$e()}ready(){return Promise.resolve()}},wv=OD;var ND=class n extends wv{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?we.LOADING:we.LOADED,this.imageState_===we.LOADING&&this.ready().then(()=>this.imageState_=we.LOADED),this.render()}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){let e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let t=this.fill_?.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(","),r=ii.get(i,null,null)?.getImage(1);if(!r){let o=this.renderOptions_,s=Math.ceil(o.size*e),l=Et(s,s);this.draw_(o,l,e),r=l.canvas,ii.set(i,null,null,new O2(r,void 0,null,we.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){let U=r;r=o,o=U}let s=this.radius2_===void 0?this.points_:this.points_*2,l=2*Math.PI/s,u=o*Math.sin(l),d=Math.sqrt(o*o-u*u),h=r-d,p=Math.sqrt(u*u+h*h),g=p/u;if(e==="miter"&&g<=i)return g*t;let _=t/2/g,v=t/2*(h/p),x=Math.sqrt((r+_)*(r+_)+v*v)-r;if(this.radius2_===void 0||e==="bevel")return x*2;let D=r*Math.sin(l),T=Math.sqrt(r*r-D*D),A=o-T,N=Math.sqrt(D*D+A*A)/D;if(N<=i){let U=N*t/2-o-r;return 2*Math.max(x,U)}return x*2}createRenderOptions(){let e=$o,t=qo,i=0,r=null,o=0,s,l=0;this.stroke_&&(s=Vi(this.stroke_.getColor()??Gs),l=this.stroke_.getWidth()??$s,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??qo,e=this.stroke_.getLineCap()??$o,i=this.stroke_.getMiterLimit()??zs);let u=this.calculateLineJoinSize_(t,l,i),d=Math.max(this.radius,this.radius2_||0),h=Math.ceil(2*d+u);return{strokeStyle:s,strokeWidth:l,size:h,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();let e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=wn),t.fillStyle=Vi(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=so(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=Et(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_,i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{let r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);let o=this.angle_-Math.PI/2,s=2*Math.PI/t;for(let l=0;l<t;l++){let u=o+l*s,d=l%2===0?i:r;e.lineTo(d*Math.cos(u),d*Math.sin(u))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=wn,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}},Cv=ND;var PD=class n extends Cv{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}},xv=PD;var FD=class n{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){let t=Id(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===we.IDLE&&t.load(),t.getImageState()===we.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){let e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Oe(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:so(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}},Ka=FD;function k2(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}var LD=class n extends wv{constructor(e){e=e||{};let t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;let s=e.img!==void 0?e.img:null,l=e.src;ke(!(l!==void 0&&s),"`image` and `src` cannot be provided at the same time"),(l===void 0||l.length===0)&&s&&(l=s.src||Oe(s)),ke(l!==void 0&&l.length>0,"A defined and non-empty `src` or `image` must be provided"),ke(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let u;if(e.src!==void 0?u=we.IDLE:s!==void 0&&("complete"in s?s.complete?u=s.src?we.LOADED:we.IDLE:u=we.LOADING:u=we.LOADED),this.color_=e.color!==void 0?so(e.color):null,this.iconImage_=Id(s,l,this.crossOrigin_,u,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let d,h;if(e.size)[d,h]=e.size;else{let p=this.getImage(1);if(p.width&&p.height)d=p.width,h=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=e;let g=()=>{if(this.unlistenImageChange(g),!this.initialOptions_)return;let _=this.iconImage_.getSize();this.setScale(k2(_[0],_[1],e.width,e.height))};this.listenImageChange(g);return}}d!==void 0&&this.setScale(k2(d,h,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){let t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==we.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){let e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==we.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(J.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(J.CHANGE,e)}ready(){return this.iconImage_.ready()}},pc=LD;var kD=class n{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new n({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}},Sd=kD;var Iv=class n{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=V2,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new n({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=V2,this.geometry_=e}setZIndex(e){this.zIndex_=e}};function j2(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(ke(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}var VD=null;function jD(n,e){if(!VD){let t=new Ka({color:"rgba(255,255,255,0.4)"}),i=new Sd({color:"#3399CC",width:1.25});VD=[new Iv({image:new xv({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return VD}function V2(n){return n.getGeometry()}var Qa=Iv;var vJ="#333",BD=class n{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=tn(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Ka({color:vJ}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){let e=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=tn(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}},Dv=BD;function EJ(n){return!0}function z2(n){let e=xD(),t=bJ(n,e),i=DD();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,e.featureId){let s=r.getId();s!==void 0?i.featureId=s:i.featureId=null}return e.geometryType&&(i.geometryType=ID(r.getGeometry())),t(i)}}function zD(n){let e=xD(),t=n.length,i=new Array(t);for(let s=0;s<t;++s)i[s]=UD(n[s],e);let r=DD(),o=new Array(t);return function(s,l){if(r.properties=s.getPropertiesInternal(),r.resolution=l,e.featureId){let d=s.getId();d!==void 0?r.featureId=d:r.featureId=null}let u=0;for(let d=0;d<t;++d){let h=i[d](r);h&&(o[u]=h,u+=1)}return o.length=u,o}}function bJ(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r){let o=n[r],s="filter"in o?Go(o.filter,ni,e):EJ,l;if(Array.isArray(o.style)){let u=o.style.length;l=new Array(u);for(let d=0;d<u;++d)l[d]=UD(o.style[d],e)}else l=[UD(o.style,e)];i[r]={filter:s,styles:l}}return function(r){let o=[],s=!1;for(let l=0;l<t;++l){let u=i[l].filter;if(u(r)&&!(n[l].else&&s)){s=!0;for(let d of i[l].styles){let h=d(r);h&&o.push(h)}}}return o}}function UD(n,e){let t=lp(n,"",e),i=cp(n,"",e),r=wJ(n,e),o=CJ(n,e),s=Ui(n,"z-index",e);if(!t&&!i&&!r&&!o&&!eo(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));let l=new Qa;return function(u){let d=!0;if(t){let h=t(u);h&&(d=!1),l.setFill(h)}if(i){let h=i(u);h&&(d=!1),l.setStroke(h)}if(r){let h=r(u);h&&(d=!1),l.setText(h)}if(o){let h=o(u);h&&(d=!1),l.setImage(h)}return s&&l.setZIndex(s(u)),d?null:l}}function lp(n,e,t){let i;if(e+"fill-pattern-src"in n)i=SJ(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return o=>null;i=GD(n,e+"fill-color",t)}if(!i)return null;let r=new Ka;return function(o){let s=i(o);return s===_v?null:(r.setColor(s),r)}}function cp(n,e,t){let i=Ui(n,e+"stroke-width",t),r=GD(n,e+"stroke-color",t);if(!i&&!r)return null;let o=qs(n,e+"stroke-line-cap",t),s=qs(n,e+"stroke-line-join",t),l=G2(n,e+"stroke-line-dash",t),u=Ui(n,e+"stroke-line-dash-offset",t),d=Ui(n,e+"stroke-miter-limit",t),h=new Sd;return function(p){if(r){let g=r(p);if(g===_v)return null;h.setColor(g)}if(i&&h.setWidth(i(p)),o){let g=o(p);if(g!=="butt"&&g!=="round"&&g!=="square")throw new Error("Expected butt, round, or square line cap");h.setLineCap(g)}if(s){let g=s(p);if(g!=="bevel"&&g!=="round"&&g!=="miter")throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(g)}return l&&h.setLineDash(l(p)),u&&h.setLineDashOffset(u(p)),d&&h.setMiterLimit(d(p)),h}}function wJ(n,e){let t="text-",i=qs(n,t+"value",e);if(!i)return null;let r=lp(n,t,e),o=lp(n,t+"background-",e),s=cp(n,t,e),l=cp(n,t+"background-",e),u=qs(n,t+"font",e),d=Ui(n,t+"max-angle",e),h=Ui(n,t+"offset-x",e),p=Ui(n,t+"offset-y",e),g=Td(n,t+"overflow",e),_=qs(n,t+"placement",e),v=Ui(n,t+"repeat",e),w=Mv(n,t+"scale",e),x=Td(n,t+"rotate-with-view",e),D=Ui(n,t+"rotation",e),T=qs(n,t+"align",e),A=qs(n,t+"justify",e),O=qs(n,t+"baseline",e),N=Td(n,t+"keep-upright",e),U=G2(n,t+"padding",e),G=Rv(n,t+"declutter-mode"),W=new Dv({declutterMode:G});return function($){if(W.setText(i($)),r&&W.setFill(r($)),o&&W.setBackgroundFill(o($)),s&&W.setStroke(s($)),l&&W.setBackgroundStroke(l($)),u&&W.setFont(u($)),d&&W.setMaxAngle(d($)),h&&W.setOffsetX(h($)),p&&W.setOffsetY(p($)),g&&W.setOverflow(g($)),_){let Z=_($);if(Z!=="point"&&Z!=="line")throw new Error("Expected point or line for text-placement");W.setPlacement(Z)}if(v&&W.setRepeat(v($)),w&&W.setScale(w($)),x&&W.setRotateWithView(x($)),D&&W.setRotation(D($)),T){let Z=T($);if(Z!=="left"&&Z!=="center"&&Z!=="right"&&Z!=="end"&&Z!=="start")throw new Error("Expected left, right, center, start, or end for text-align");W.setTextAlign(Z)}if(A){let Z=A($);if(Z!=="left"&&Z!=="right"&&Z!=="center")throw new Error("Expected left, right, or center for text-justify");W.setJustify(Z)}if(O){let Z=O($);if(Z!=="bottom"&&Z!=="top"&&Z!=="middle"&&Z!=="alphabetic"&&Z!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");W.setTextBaseline(Z)}return U&&W.setPadding(U($)),N&&W.setKeepUpright(N($)),W}}function CJ(n,e){return"icon-src"in n?xJ(n,e):"shape-points"in n?IJ(n,e):"circle-radius"in n?DJ(n,e):null}function xJ(n,e){let t="icon-",i=t+"src",r=W2(n[i],i),o=Sv(n,t+"anchor",e),s=Mv(n,t+"scale",e),l=Ui(n,t+"opacity",e),u=Sv(n,t+"displacement",e),d=Ui(n,t+"rotation",e),h=Td(n,t+"rotate-with-view",e),p=U2(n,t+"anchor-origin"),g=H2(n,t+"anchor-x-units"),_=H2(n,t+"anchor-y-units"),v=AJ(n,t+"color"),w=MJ(n,t+"cross-origin"),x=RJ(n,t+"offset"),D=U2(n,t+"offset-origin"),T=Tv(n,t+"width"),A=Tv(n,t+"height"),O=TJ(n,t+"size"),N=Rv(n,t+"declutter-mode"),U=new pc({src:r,anchorOrigin:p,anchorXUnits:g,anchorYUnits:_,color:v,crossOrigin:w,offset:x,offsetOrigin:D,height:A,width:T,size:O,declutterMode:N});return function(G){return l&&U.setOpacity(l(G)),u&&U.setDisplacement(u(G)),d&&U.setRotation(d(G)),h&&U.setRotateWithView(h(G)),s&&U.setScale(s(G)),o&&U.setAnchor(o(G)),U}}function IJ(n,e){let t="shape-",i=t+"points",r=t+"radius",o=HD(n[i],i),s=HD(n[r],r),l=lp(n,t,e),u=cp(n,t,e),d=Mv(n,t+"scale",e),h=Sv(n,t+"displacement",e),p=Ui(n,t+"rotation",e),g=Td(n,t+"rotate-with-view",e),_=Tv(n,t+"radius2"),v=Tv(n,t+"angle"),w=Rv(n,t+"declutter-mode"),x=new Cv({points:o,radius:s,radius2:_,angle:v,declutterMode:w});return function(D){return l&&x.setFill(l(D)),u&&x.setStroke(u(D)),h&&x.setDisplacement(h(D)),p&&x.setRotation(p(D)),g&&x.setRotateWithView(g(D)),d&&x.setScale(d(D)),x}}function DJ(n,e){let t="circle-",i=lp(n,t,e),r=cp(n,t,e),o=Ui(n,t+"radius",e),s=Mv(n,t+"scale",e),l=Sv(n,t+"displacement",e),u=Ui(n,t+"rotation",e),d=Td(n,t+"rotate-with-view",e),h=Rv(n,t+"declutter-mode"),p=new xv({radius:5,declutterMode:h});return function(g){return o&&p.setRadius(o(g)),i&&p.setFill(i(g)),r&&p.setStroke(r(g)),l&&p.setDisplacement(l(g)),u&&p.setRotation(u(g)),d&&p.setRotateWithView(d(g)),s&&p.setScale(s(g)),p}}function Ui(n,e,t){if(!(e in n))return;let i=Go(n[e],ot,t);return function(r){return HD(i(r),e)}}function qs(n,e,t){if(!(e in n))return null;let i=Go(n[e],bi,t);return function(r){return W2(i(r),e)}}function SJ(n,e,t){let i=qs(n,e+"pattern-src",t),r=B2(n,e+"pattern-offset",t),o=B2(n,e+"pattern-size",t),s=GD(n,e+"color",t);return function(l){return{src:i(l),offset:r&&r(l),size:o&&o(l),color:s&&s(l)}}}function Td(n,e,t){if(!(e in n))return null;let i=Go(n[e],ni,t);return function(r){let o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function GD(n,e,t){if(!(e in n))return null;let i=Go(n[e],rr,t);return function(r){return $2(i(r),e)}}function G2(n,e,t){if(!(e in n))return null;let i=Go(n[e],Xa,t);return function(r){return up(i(r),e)}}function Sv(n,e,t){if(!(e in n))return null;let i=Go(n[e],Xa,t);return function(r){let o=up(i(r),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function B2(n,e,t){if(!(e in n))return null;let i=Go(n[e],Xa,t);return function(r){return q2(i(r),e)}}function Mv(n,e,t){if(!(e in n))return null;let i=Go(n[e],Xa|ot,t);return function(r){return OJ(i(r),e)}}function Tv(n,e){let t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function TJ(n,e){let t=n[e];if(t!==void 0){if(typeof t=="number")return tn(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function MJ(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function U2(n,e){let t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function H2(n,e){let t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function RJ(n,e){let t=n[e];if(t!==void 0)return up(t,e)}function Rv(n,e){let t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function AJ(n,e){let t=n[e];if(t!==void 0)return $2(t,e)}function up(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);let t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function W2(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function HD(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function $2(n,e){if(typeof n=="string")return n;let t=up(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function q2(n,e){let t=up(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function OJ(n,e){return typeof n=="number"?n:q2(n,e)}var Y2={RENDER_ORDER:"renderOrder"},WD=class extends dc{constructor(e){e=e||{};let t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Y2.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){let i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new Cd(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(Y2.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?jD:e;let t=NJ(e);this.styleFunction_=e===null?void 0:j2(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}};function NJ(n){if(n===void 0)return jD;if(!n)return null;if(typeof n=="function"||n instanceof Qa)return n;if(!Array.isArray(n))return zD([n]);if(n.length===0)return[];let e=n.length,t=n[0];if(t instanceof Qa){let r=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!(s instanceof Qa))throw new Error("Expected a list of style instances");r[o]=s}return r}if("style"in t){let r=new Array(e);for(let o=0;o<e;++o){let s=n[o];if(!("style"in s))throw new Error("Expected a list of rules with a style property");r[o]=s}return z2(r)}return zD(n)}var Av=WD;var $D=class extends Rn{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}},Ov=$D;var qD=class extends Ua{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){$e()}calculateMatrices2D(e){let t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Hn(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),tv(r,i)}forEachFeatureAtCoordinate(e,t,i,r,o,s,l,u){let d,h=t.viewState;function p(O,N,U,G){return o.call(s,N,O?U:null,G)}let g=h.projection,_=td(e.slice(),g),v=[[0,0]];if(g.canWrapX()&&r){let O=g.getExtent(),N=Ue(O);v.push([-N,0],[N,0])}let w=t.layerStatesArray,x=w.length,D=[],T=[];for(let O=0;O<v.length;O++)for(let N=x-1;N>=0;--N){let U=w[N],G=U.layer;if(G.hasRenderer()&&Xh(U,h)&&l.call(u,G)){let W=G.getRenderer(),$=G.getSource();if(W&&$){let Z=$.getWrapX()?_:e,Ce=p.bind(null,U.managed);T[0]=Z[0]+v[O][0],T[1]=Z[1]+v[O][1],d=W.forEachFeatureAtCoordinate(T,t,i,Ce,D)}if(d)return d}}if(D.length===0)return;let A=1/D.length;return D.forEach((O,N)=>O.distanceSq+=N*A),D.sort((O,N)=>O.distanceSq-N.distanceSq),D.some(O=>d=O.callback(O.feature,O.layer,O.geometry)),d}hasFeatureAtCoordinate(e,t,i,r,o,s){return this.forEachFeatureAtCoordinate(e,t,i,r,Bs,this,o,s)!==void 0}getMap(){return this.map_}renderFrame(e){$e()}scheduleExpireIconCache(e){ii.canExpireCache()&&e.postRenderFunctions.push(PJ)}};function PJ(n,e){ii.expire()}var X2=qD;var YD=class extends X2{constructor(e){super(e),this.fontChangeListenerKey_=Ae(Wo,ro.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");let t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Bo+" ol-layers";let i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){let i=this.getMap();if(i.hasListener(e)){let r=new Ov(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){at(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(zn.PRECOMPOSE,e);let t=e.layerStatesArray.sort((l,u)=>l.zIndex-u.zIndex);t.some(l=>l.layer instanceof Av&&l.layer.getDeclutter())&&(e.declutter={});let r=e.viewState;this.children_.length=0;let o=[],s=null;for(let l=0,u=t.length;l<u;++l){let d=t[l];e.layerIndex=l;let h=d.layer,p=h.getSourceState();if(!Xh(d,r)||p!="ready"&&p!="undefined"){h.unrender();continue}let g=h.render(e,s);g&&(g!==s&&(this.children_.push(g),s=g),o.push(d))}this.declutter(e,o),JV(this.element_,this.children_),this.dispatchRenderEvent(zn.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){let r=t[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}},Z2=YD;function K2(n){if(n instanceof dc){n.setMapInternal(null);return}n instanceof Yh&&n.getLayers().forEach(K2)}function Q2(n,e){if(n instanceof dc){n.setMapInternal(e);return}if(n instanceof Yh){let t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)Q2(t[i],e)}}var XD=class extends pn{constructor(e){super(),e=e||{},this.on,this.once,this.un;let t=FJ(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:hV,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=On(),this.pixelToCoordinateTransform_=On(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||$h(),this.interactions=t.interactions||E2({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new gV(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Un.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Un.VIEW,this.handleViewChanged_),this.addChangeListener(Un.SIZE,this.handleSizeChanged_),this.addChangeListener(Un.TARGET,this.handleTargetChanged_),this.setProperties(t.values);let i=this;e.view&&!(e.view instanceof ir)&&e.view.then(function(r){i.setView(new ir(r))}),this.controls.addEventListener(An.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(An.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(An.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(An.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(An.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(An.REMOVE,r=>{let o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Q2(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){let t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;let r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};let o=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Bs,l=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,l,t,null,s,null)}getFeaturesAtPixel(e,t){let i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){let e=[];function t(i){i.forEach(function(r){r instanceof Yh?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;let i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};let r=t.layerFilter!==void 0?t.layerFilter:Bs,o=t.hitTolerance!==void 0?t.hitTolerance:0,s=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,s,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){let i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],s=i.height/r[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-i.left)/o,(l.clientY-i.top)/s]}getTarget(){return this.get(Un.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Vh(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){let t=this.frameState_;return t?Yt(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){let t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Un.LAYERGROUP)}setLayers(e){let t=this.getLayerGroup();if(e instanceof Ei){t.setLayers(e);return}let i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t];if(!r.visible)continue;let o=r.layer.getRenderer();if(o&&!o.ready)return!0;let s=r.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){let t=io(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){let t=this.frameState_;return t?Yt(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Un.SIZE)}getView(){return this.get(Un.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){let e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return _V(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;let i=new Uo(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;let t=e.originalEvent,i=t.type;if(i===Va.POINTERDOWN||i===J.WHEEL||i===J.KEYDOWN){let r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,s=t.target,l=o instanceof ShadowRoot?o.host===s?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(s)||!l.contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){let r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){let e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,o=r;if(e){let s=e.viewHints;if(s[bn.ANIMATING]||s[bn.INTERACTING]){let l=Date.now()-e.time>8;r=l?0:8,o=l?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(zn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(zn.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new za(Vo.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new za(Vo.LOADSTART,this,e))));let i=this.postRenderFunctions_;if(e)for(let r=0,o=i.length;r<o;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)at(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(J.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);let i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}let e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Z2(this)),this.mapBrowserEventHandler_=new pV(this,this.moveTolerance_);for(let o in Ot)this.mapBrowserEventHandler_.addEventListener(Ot[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(J.WHEEL,this.boundHandleBrowserEvent_,ev?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{let o=t.getRootNode();i=o instanceof ShadowRoot?o.host:t}this.targetChangeHandlerKeys_=[Ae(i,J.KEYDOWN,this.handleBrowserEvent,this),Ae(i,J.KEYPRESS,this.handleBrowserEvent,this)];let r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(at(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(at(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);let e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Ae(e,ro.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Ae(e,J.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(at),this.layerGroupPropertyListenerKeys_=null);let e=this.getLayerGroup();e&&(this.handleLayerAdd_(new oo("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Ae(e,ro.PROPERTYCHANGE,this.render,this),Ae(e,J.CHANGE,this.render,this),Ae(e,"addlayer",this.handleLayerAdd_,this),Ae(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){let e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){let r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){K2(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){let t=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(t!==void 0&&ED(t)&&i&&i.isDef()){let s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Ph(l.center,l.resolution,l.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:s,wantedTiles:{},mapId:Oe(this),renderTargets:{}},l.nextCenter&&l.nextResolution){let u=isNaN(l.nextRotation)?l.rotation:l.nextRotation;o.nextExtent=Ph(l.nextCenter,l.nextResolution,u,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!ka(this.previousExtent_)&&!Fs(o.extent,this.previousExtent_))&&(this.dispatchEvent(new za(Vo.MOVESTART,this,r)),this.previousExtent_=nc(this.previousExtent_)),this.previousExtent_&&!o.viewHints[bn.ANIMATING]&&!o.viewHints[bn.INTERACTING]&&!Fs(o.extent,this.previousExtent_)&&(this.dispatchEvent(new za(Vo.MOVEEND,this,o)),Ry(o.extent,this.previousExtent_))),this.dispatchEvent(new za(Vo.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Vo.LOADSTART)||this.hasListener(Vo.LOADEND)||this.hasListener(zn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){let t=this.getLayerGroup();t&&this.handleLayerRemove_(new oo("removelayer",t)),this.set(Un.LAYERGROUP,e)}setSize(e){this.set(Un.SIZE,e)}setTarget(e){this.set(Un.TARGET,e)}setView(e){if(!e||e instanceof ir){this.set(Un.VIEW,e);return}this.set(Un.VIEW,new ir);let t=this;e.then(function(i){t.setView(new ir(i))})}updateSize(){let e=this.getTargetElement(),t;if(e){let r=getComputedStyle(e),o=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),s=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(t=[Math.max(0,o),Math.max(0,s)],!ED(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&ky("No map visible because the map container's width or height are 0."))}let i=this.getSize();t&&(!i||!ti(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){let t=this.getView();t&&t.setViewportSize(e)}};function FJ(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);let t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new Yh({layers:n.layers});t[Un.LAYERGROUP]=i,t[Un.TARGET]=n.target,t[Un.VIEW]=n.view instanceof ir?n.view:new ir;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new Ei(n.controls.slice()):(ke(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new Ei(n.interactions.slice()):(ke(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=n.interactions));let s;return n.overlays!==void 0?Array.isArray(n.overlays)?s=new Ei(n.overlays.slice()):(ke(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),s=n.overlays):s=new Ei,{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:t}}var J2=XD;var ZD=class extends Ha{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(J.CHANGE)}release(){this.setState(se.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==se.EMPTY){if(this.state!==se.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){$e()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;let r=t-i+1e3/60;return r>=this.transition_?1:vI(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}},Md=ZD;function Nv(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}var LJ=new Error("disposed");var kJ=[256,256],KD=class extends Md{constructor(e){let t=se.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;let e=Nv(this.data_);return e?[e.width,e.height]:kJ}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==se.IDLE&&this.state!==se.ERROR)return;this.state=se.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=se.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=se.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(LJ),this.controller_=null),super.disposeInternal()}},QD=KD;var JD=class extends Md{constructor(e,t,i,r,o,s){super(e,t,s),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=se.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=se.ERROR,this.unlistenImage_(),this.image_=VJ(),this.changed()}handleImageLoad_(){let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=se.LOADED:this.state=se.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==se.ERROR&&(this.state=se.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==se.IDLE&&(this.state=se.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=R2(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};function VJ(){let n=Et(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var Pv=JD;var Fv=class{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}};function mc(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new Fv(n,e,t,i)}var Lv=Fv;var eS,gc=[];function ej(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function tS(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function jJ(){if(eS===void 0){let n=Et(6,6,gc);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",ej(n,4,5,4,0),ej(n,4,5,0,5);let e=n.getImageData(0,0,3,3).data;eS=tS(e,0)||tS(e,4)||tS(e,8),cc(n),gc.push(n.canvas)}return eS}function tj(n,e,t,i){let r=ac(t,e,n),o=ld(e,i,t),s=e.getMetersPerUnit();s!==void 0&&(o*=s);let l=n.getMetersPerUnit();l!==void 0&&(o/=l);let u=n.getExtent();if(!u||Qr(u,r)){let d=ld(n,o,r)/o;isFinite(d)&&d>0&&(o/=d)}return o}function nj(n,e,t,i){let r=Sr(t),o=tj(n,e,r,i);return(!isFinite(o)||o<=0)&&Ny(t,function(s){return o=tj(n,e,s,i),isFinite(o)&&o>0}),o}function ij(n,e,t,i,r,o,s,l,u,d,h,p,g,_){let v=Et(Math.round(t*n),Math.round(t*e),gc);if(p||(v.imageSmoothingEnabled=!1),u.length===0)return v.canvas;v.scale(t,t);function w(N){return Math.round(N*t)/t}v.globalCompositeOperation="lighter";let x=un();u.forEach(function(N,U,G){Ck(x,N.extent)});let D,T=t/i,A=(p?1:1+Math.pow(2,-24))/T;if(!g||u.length!==1||d!==0){if(D=Et(Math.round(Ue(x)*T),Math.round(Ut(x)*T),gc),p||(D.imageSmoothingEnabled=!1),r&&_){let N=(r[0]-x[0])*T,U=-(r[3]-x[3])*T,G=Ue(r)*T,W=Ut(r)*T;D.rect(N,U,G,W),D.clip()}u.forEach(function(N,U,G){if(N.image.width>0&&N.image.height>0){if(N.clipExtent){D.save();let ae=(N.clipExtent[0]-x[0])*T,ee=-(N.clipExtent[3]-x[3])*T,ze=Ue(N.clipExtent)*T,te=Ut(N.clipExtent)*T;D.rect(p?ae:Math.round(ae),p?ee:Math.round(ee),p?ze:Math.round(ae+ze)-Math.round(ae),p?te:Math.round(ee+te)-Math.round(ee)),D.clip()}let W=(N.extent[0]-x[0])*T,$=-(N.extent[3]-x[3])*T,Z=Ue(N.extent)*T,Ce=Ut(N.extent)*T;D.drawImage(N.image,d,d,N.image.width-2*d,N.image.height-2*d,p?W:Math.round(W),p?$:Math.round($),p?Z:Math.round(W+Z)-Math.round(W),p?Ce:Math.round($+Ce)-Math.round($)),N.clipExtent&&D.restore()}})}let O=Tr(s);return l.getTriangles().forEach(function(N,U,G){let W=N.source,$=N.target,Z=W[0][0],Ce=W[0][1],ae=W[1][0],ee=W[1][1],ze=W[2][0],te=W[2][1],pe=w(($[0][0]-O[0])/o),re=w(-($[0][1]-O[1])/o),le=w(($[1][0]-O[0])/o),me=w(-($[1][1]-O[1])/o),et=w(($[2][0]-O[0])/o),gt=w(-($[2][1]-O[1])/o),q=Z,Ht=Ce;Z=0,Ce=0,ae-=q,ee-=Ht,ze-=q,te-=Ht;let dn=[[ae,ee,0,0,le-pe],[ze,te,0,0,et-pe],[0,0,ae,ee,me-re],[0,0,ze,te,gt-re]],zt=Mk(dn);if(!zt)return;if(v.save(),v.beginPath(),jJ()||!p){v.moveTo(le,me);let Xt=4,ar=pe-le,Gn=re-me;for(let Cn=0;Cn<Xt;Cn++)v.lineTo(le+w((Cn+1)*ar/Xt),me+w(Cn*Gn/(Xt-1))),Cn!=Xt-1&&v.lineTo(le+w((Cn+1)*ar/Xt),me+w((Cn+1)*Gn/(Xt-1)));v.lineTo(et,gt)}else v.moveTo(le,me),v.lineTo(pe,re),v.lineTo(et,gt);v.clip(),v.transform(zt[0],zt[2],zt[1],zt[3],pe,re),v.translate(x[0]-q,x[3]-Ht);let mn;if(D)mn=D.canvas,v.scale(A,-A);else{let Xt=u[0],ar=Xt.extent;mn=Xt.image,v.scale(Ue(ar)/mn.width,-Ut(ar)/mn.height)}v.drawImage(mn,0,0),v.restore()}),D&&(cc(D),gc.push(D.canvas)),h&&(v.save(),v.globalCompositeOperation="source-over",v.strokeStyle="black",v.lineWidth=1,l.getTriangles().forEach(function(N,U,G){let W=N.target,$=(W[0][0]-O[0])/o,Z=-(W[0][1]-O[1])/o,Ce=(W[1][0]-O[0])/o,ae=-(W[1][1]-O[1])/o,ee=(W[2][0]-O[0])/o,ze=-(W[2][1]-O[1])/o;v.beginPath(),v.moveTo(Ce,ae),v.lineTo($,Z),v.lineTo(ee,ze),v.closePath(),v.stroke()}),v.restore()),v.canvas}var BJ=10,rj=.25,nS=class{constructor(e,t,i,r,o,s,l){this.sourceProj_=e,this.targetProj_=t;let u={},d=l?Jk(A=>Yt(l,ac(A,this.targetProj_,this.sourceProj_))):sc(this.targetProj_,this.sourceProj_);this.transformInv_=function(A){let O=A[0]+"/"+A[1];return u[O]||(u[O]=d(A)),u[O]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ue(r)>=Ue(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ue(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ue(this.targetProj_.getExtent()):null;let h=Tr(i),p=Qu(i),g=Ku(i),_=Zu(i),v=this.transformInv_(h),w=this.transformInv_(p),x=this.transformInv_(g),D=this.transformInv_(_),T=BJ+(s?Math.max(0,Math.ceil(Math.log2(Nh(i)/(s*s*256*256)))):0);if(this.addQuad_(h,p,g,_,v,w,x,D,T),this.wrapsXInSource_){let A=1/0;this.triangles_.forEach(function(O,N,U){A=Math.min(A,O.source[0][0],O.source[1][0],O.source[2][0])}),this.triangles_.forEach(O=>{if(Math.max(O.source[0][0],O.source[1][0],O.source[2][0])-A>this.sourceWorldWidth_/2){let N=[[O.source[0][0],O.source[0][1]],[O.source[1][0],O.source[1][1]],[O.source[2][0],O.source[2][1]]];N[0][0]-A>this.sourceWorldWidth_/2&&(N[0][0]-=this.sourceWorldWidth_),N[1][0]-A>this.sourceWorldWidth_/2&&(N[1][0]-=this.sourceWorldWidth_),N[2][0]-A>this.sourceWorldWidth_/2&&(N[2][0]-=this.sourceWorldWidth_);let U=Math.min(N[0][0],N[1][0],N[2][0]);Math.max(N[0][0],N[1][0],N[2][0])-U<this.sourceWorldWidth_/2&&(O.source=N)}})}u={}}addTriangle_(e,t,i,r,o,s){this.triangles_.push({source:[r,o,s],target:[e,t,i]})}addQuad_(e,t,i,r,o,s,l,u,d){let h=Lx([o,s,l,u]),p=this.sourceWorldWidth_?Ue(h)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,_=this.sourceProj_.canWrapX()&&p>.5&&p<1,v=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let x=Lx([e,t,i,r]);v=Ue(x)/this.targetWorldWidth_>rj||v}!_&&this.sourceProj_.isGlobal()&&p&&(v=p>rj||v)}if(!v&&this.maxSourceExtent_&&isFinite(h[0])&&isFinite(h[1])&&isFinite(h[2])&&isFinite(h[3])&&!qt(h,this.maxSourceExtent_))return;let w=0;if(!v&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(u[0])||!isFinite(u[1]))){if(d>0)v=!0;else if(w=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(d>0){if(!v){let x=[(e[0]+i[0])/2,(e[1]+i[1])/2],D=this.transformInv_(x),T;_?T=(ks(o[0],g)+ks(l[0],g))/2-ks(D[0],g):T=(o[0]+l[0])/2-D[0];let A=(o[1]+l[1])/2-D[1];v=T*T+A*A>this.errorThresholdSquared_}if(v){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){let x=[(t[0]+i[0])/2,(t[1]+i[1])/2],D=this.transformInv_(x),T=[(r[0]+e[0])/2,(r[1]+e[1])/2],A=this.transformInv_(T);this.addQuad_(e,t,x,T,o,s,D,A,d-1),this.addQuad_(T,x,i,r,A,D,l,u,d-1)}else{let x=[(e[0]+t[0])/2,(e[1]+t[1])/2],D=this.transformInv_(x),T=[(i[0]+r[0])/2,(i[1]+r[1])/2],A=this.transformInv_(T);this.addQuad_(e,x,T,r,o,D,A,u,d-1),this.addQuad_(x,t,i,T,D,s,l,A,d-1)}return}}if(_){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(e,i,r,o,l,u),(w&14)==0&&this.addTriangle_(e,i,t,o,l,s),w&&((w&13)==0&&this.addTriangle_(t,r,e,s,u,o),(w&7)==0&&this.addTriangle_(t,r,i,s,u,l))}calculateSourceExtent(){let e=un();return this.triangles_.forEach(function(t,i,r){let o=t.source;ic(e,o[0]),ic(e,o[1]),ic(e,o[2])}),e}getTriangles(){return this.triangles_}},oj=nS;var iS=class extends Md{constructor(e,t,i,r,o,s,l,u,d,h,p,g){super(o,se.IDLE,g),this.renderEdges_=p!==void 0?p:!1,this.pixelRatio_=l,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;let _=r.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent(),w=this.sourceTileGrid_.getExtent(),x=v?Fo(_,v):_;if(Nh(x)===0){this.state=se.EMPTY;return}let D=e.getExtent();D&&(w?w=Fo(w,D):w=D);let T=r.getResolution(this.wrappedTileCoord_[0]),A=nj(e,i,x,T);if(!isFinite(A)||A<=0){this.state=se.EMPTY;return}let O=h!==void 0?h:.5;if(this.triangulation_=new oj(e,i,x,w,A*O,T),this.triangulation_.getTriangles().length===0){this.state=se.EMPTY;return}this.sourceZ_=t.getZForResolution(A);let N=this.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(N[1]=ct(N[1],w[1],w[3]),N[3]=ct(N[3],w[1],w[3])):N=Fo(N,w)),!Nh(N))this.state=se.EMPTY;else{let U=0,G=0;e.canWrapX()&&(U=Ue(D),G=Math.floor((N[0]-D[0])/U)),Py(N.slice(),e,!0).forEach($=>{let Z=t.getTileRangeForExtentAndZ($,this.sourceZ_);for(let Ce=Z.minX;Ce<=Z.maxX;Ce++)for(let ae=Z.minY;ae<=Z.maxY;ae++){let ee=d(this.sourceZ_,Ce,ae,l);if(ee){let ze=G*U;this.sourceTiles_.push({tile:ee,offset:ze})}}++G}),this.sourceTiles_.length===0&&(this.state=se.EMPTY)}}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let i=t.tile;if(i&&i.getState()==se.LOADED){let r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=t.offset,r[2]+=t.offset;let o=this.clipExtent_?.slice();o&&(o[0]+=t.offset,o[2]+=t.offset),e.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=se.ERROR;else{let t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(t),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ij(r,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=se.LOADED}this.changed()}load(){if(this.state==se.IDLE){this.state=se.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{let i=t.getState();if(i==se.IDLE||i==se.LOADING){e++;let r=Ae(t,J.CHANGE,o=>{let s=t.getState();(s==se.LOADED||s==se.ERROR||s==se.EMPTY)&&(at(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==se.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(at),this.sourcesListenerKeys_=null}release(){this.canvas_&&(cc(this.canvas_.getContext("2d")),gc.push(this.canvas_),this.canvas_=null),super.release()}},kv=iS;var rS=class{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){let e=this.pop();e instanceof Ua&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let i=this.entries_[e];return ke(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){let t=this.entries_[e];return ke(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){let e=new Array(this.count_),t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){ke(!(e in this.entries_),"Tried to set a value for a key that is used already");let i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}},sj=rS;function Rd(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function aj(n,e,t){return n+"/"+e+"/"+t}function lj(n){return UJ(n[0],n[1],n[2])}function UJ(n,e,t){return(e<<n)+t}function cj(n,e){let t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;let o=e.getFullTileRange(t);return o?o.containsXY(i,r):!0}var oS=class{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(_d(),{get:(e,t)=>{if(typeof _d()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,i)=>(this.push_(t,i),!0)})}push_(...e){let t=this.instructions_,i=this.zIndex+this.offset_;t[i]||(t[i]=[]),t[i].push(...e)}pushMethodArgs_=(...e)=>(this.push_(e),this);pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){let o=t[i];if(typeof o=="function"){o(e);continue}let s=t[++i];if(typeof e[o]=="function")e[o](...s);else{if(typeof s=="function"){e[o]=s(e);continue}e[o]=s}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},Vv=oS;var HJ=5,sS=class extends Yy{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=HJ}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return $e()}getData(e){return null}prepareFrame(e){return $e()}renderFrame(e,t){return $e()}forEachFeatureAtCoordinate(e,t,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===we.LOADED||t.getState()===we.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=we.LOADED&&t!=we.ERROR&&e.addEventListener(J.CHANGE,this.boundHandleImageChange_),t==we.IDLE&&(e.load(),t=e.getState()),t==we.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},uj=sS;var lS=[],Ad=null;function zJ(){Ad=Et(1,1,void 0,{willReadFrequently:!0})}var aS=class extends uj{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=On(),this.pixelTransform=On(),this.inversePixelTransform=On(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){Ad||zJ(),Ad.clearRect(0,0,1,1);let r;try{Ad.drawImage(e,t,i,1,1,0,0,1,1),r=Ad.getImageData(0,0,1,1).data}catch{return Ad=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){let r=this.getLayer().getClassName(),o,s;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&ti(so(e.style.backgroundColor),so(i)))){let l=e.firstElementChild;l instanceof HTMLCanvasElement&&(s=l.getContext("2d"))}if(s&&xV(s.canvas.style.transform,t)?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let l=o.style;l.position="absolute",l.width="100%",l.height="100%",s=Et();let u=s.canvas;o.appendChild(u),l=u.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){let r=Tr(i),o=Qu(i),s=Ku(i),l=Zu(i);Yt(t.coordinateToPixelTransform,r),Yt(t.coordinateToPixelTransform,o),Yt(t.coordinateToPixelTransform,s),Yt(t.coordinateToPixelTransform,l);let u=this.inversePixelTransform;Yt(u,r),Yt(u,o),Yt(u,s),Yt(u,l),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}prepareContainer(e,t){let i=e.extent,r=e.viewState.resolution,o=e.viewState.rotation,s=e.pixelRatio,l=Math.round(Ue(i)/r*s),u=Math.round(Ut(i)/r*s);Hn(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/s,1/s,o,-l/2,-u/2),tv(this.inversePixelTransform,this.pixelTransform);let d=CV(this.pixelTransform);if(this.useContainer(t,d,this.getBackground(e)),!this.containerReused){let h=this.context.canvas;h.width!=l||h.height!=u?(h.width=l,h.height=u):this.context.clearRect(0,0,l,u),d!==h.style.transform&&(h.style.transform=d)}}dispatchRenderEvent_(e,t,i){let r=this.getLayer();if(r.hasListener(e)){let o=new Ov(e,this.inversePixelTransform,i,t);r.dispatchEvent(o)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(zn.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(zn.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Vv),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(zn.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(zn.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,o,s,l){let u=o/2,d=s/2,h=r/t,p=-h,g=-e[0]+l,_=-e[1];return Hn(this.tempTransform,u,d,h,p,-i,g,_)}disposeInternal(){delete this.frameState,super.disposeInternal()}},jv=aS;function cS(n,e,t,i){return`${n},${aj(e,t,i)}`}function uS(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;let i=n[t],r=i.has(e);return r||i.add(e),!r}function GJ(n,e,t){let i=n[t];return i?i.delete(e):!1}function dj(n,e){let t=n.layerStatesArray[n.layerIndex];t.extent&&(e=Fo(e,Rr(t.extent,n.viewState.projection)));let i=t.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=Fo(e,r))}return e}var dS=class extends jv{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=un(),this.tempTileRange_=new Lv(0,0,0,0),this.tempTileCoord_=Rd(0,0,0);let i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new sj(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){let o=this.tileCache_,l=this.getLayer().getSource(),u=cS(l.getKey(),e,t,i),d;if(o.containsKey(u))d=o.get(u);else{if(d=l.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!d)return null;o.set(u,d)}return d}getTile(e,t,i,r){let o=this.getOrCreateTile(e,t,i,r);return o||null}getData(e){let t=this.frameState;if(!t)return null;let i=this.getLayer(),r=Yt(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Qr(o,r))return null;let s=t.viewState,l=i.getRenderSource(),u=l.getTileGridForProjection(s.projection),d=l.getTilePixelRatio(t.pixelRatio);for(let h=u.getZForResolution(s.resolution);h>=u.getMinZoom();--h){let p=u.getTileCoordForCoordAndZ(r,h),g=this.getTile(h,p[1],p[2],t);if(!g||g.getState()!==se.LOADED)continue;let _=u.getOrigin(h),v=tn(u.getTileSize(h)),w=u.getResolution(h),x;if(g instanceof Pv||g instanceof kv)x=g.getImage();else if(g instanceof QD){if(x=Nv(g.getData()),!x)continue}else continue;let D=Math.floor(d*((r[0]-_[0])/w-p[1]*v[0])),T=Math.floor(d*((_[1]-r[1])/w-p[2]*v[1])),A=Math.round(d*l.getGutterForProjection(s.projection));return this.getImageData(x,D+A,T+A)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;let t=this.getLayer().getSource();if(!t)return!1;let i=t.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,t,i,r,o){let s=e.viewState,l=this.getLayer(),u=l.getRenderSource(),d=u.getTileGridForProjection(s.projection),h=Oe(u);h in e.wantedTiles||(e.wantedTiles[h]={});let p=e.wantedTiles[h],g=l.getMapInternal(),_=Math.max(i-o,d.getMinZoom(),d.getZForResolution(Math.min(l.getMaxResolution(),g?g.getView().getResolutionForZoom(Math.max(l.getMinZoom(),0)):d.getResolution(0)),u.zDirection)),v=s.rotation,w=v?jx(s.center,s.resolution,v,e.size):void 0;for(let x=i;x>=_;--x){let D=d.getTileRangeForExtentAndZ(t,x,this.tempTileRange_),T=d.getResolution(x);for(let A=D.minX;A<=D.maxX;++A)for(let O=D.minY;O<=D.maxY;++O){if(v&&!d.tileCoordIntersectsViewport([x,A,O],w))continue;let N=this.getTile(x,A,O,e);if(!N||!uS(r,N,x))continue;let G=N.getKey();if(p[G]=!0,N.getState()===se.IDLE&&!e.tileQueue.isKeyQueued(G)){let W=Rd(x,A,O,this.tempTileCoord_);e.tileQueue.enqueue([N,h,d.getTileCoordCenter(W),T])}}}}findStaleTile_(e,t){let i=this.tileCache_,r=e[0],o=e[1],s=e[2],l=this.getStaleKeys();for(let u=0;u<l.length;++u){let d=cS(l[u],r,o,s);if(i.containsKey(d)){let h=i.peek(d);if(h.getState()===se.LOADED)return h.endTransition(Oe(this)),uS(t,h,r),!0}}return!1}findAltTiles_(e,t,i,r){let o=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!o)return!1;let s=!0,l=this.tileCache_,d=this.getLayer().getRenderSource().getKey();for(let h=o.minX;h<=o.maxX;++h)for(let p=o.minY;p<=o.maxY;++p){let g=cS(d,i,h,p),_=!1;if(l.containsKey(g)){let v=l.peek(g);v.getState()===se.LOADED&&(uS(r,v,i),_=!0)}_||(s=!1)}return s}renderFrame(e,t){this.renderComplete=!0;let i=e.layerStatesArray[e.layerIndex],r=e.viewState,o=r.projection,s=r.resolution,l=r.center,u=e.pixelRatio,d=this.getLayer(),h=d.getSource(),p=h.getTileGridForProjection(o),g=p.getZForResolution(s,h.zDirection),_=p.getResolution(g),v=h.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==v&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=v):this.renderedSourceKey_=v;let w=e.extent,x=h.getTilePixelRatio(u);this.prepareContainer(e,t);let D=this.context.canvas.width,T=this.context.canvas.height,A=i.extent&&Rr(i.extent,o);A&&(w=Fo(w,Rr(i.extent,o)));let O=_*D/2/x,N=_*T/2/x,U=[l[0]-O,l[1]-N,l[0]+O,l[1]+N],G={};this.renderedTiles.length=0;let W=d.getPreload();if(e.nextExtent){let le=p.getZForResolution(r.nextResolution,h.zDirection),me=dj(e,e.nextExtent);this.enqueueTiles(e,me,le,G,W)}let $=dj(e,w);if(this.enqueueTiles(e,$,g,G,0),W>0&&setTimeout(()=>{this.enqueueTiles(e,$,g-1,G,W-1)},0),!(g in G))return this.container;let Z=Oe(this),Ce=e.time;for(let le of G[g]){let me=le.getState();if(me===se.EMPTY)continue;let et=le.tileCoord;if(me===se.LOADED&&le.getAlpha(Z,Ce)===1){le.endTransition(Z);continue}if(me!==se.ERROR&&(this.renderComplete=!1),this.findStaleTile_(et,G)){GJ(G,le,g),e.animate=!0;continue}if(this.findAltTiles_(p,et,g+1,G))continue;let Ht=p.getMinZoom();for(let dn=g-1;dn>=Ht&&!this.findAltTiles_(p,et,dn,G);--dn);}let ae=_/s*u/x,ee=this.getRenderContext(e);Hn(this.tempTransform,D/2,T/2,ae,ae,0,-D/2,-T/2),i.extent&&this.clipUnrotated(ee,e,A),h.getInterpolate()||(ee.imageSmoothingEnabled=!1),this.preRender(ee,e);let ze=Object.keys(G).map(Number);ze.sort(Li);let te,pe=[],re=[];for(let le=ze.length-1;le>=0;--le){let me=ze[le],et=h.getTilePixelSize(me,u,o),q=p.getResolution(me)/_,Ht=et[0]*q*ae,dn=et[1]*q*ae,zt=p.getTileCoordForCoordAndZ(Tr(U),me),mn=p.getTileCoordExtent(zt),Xt=Yt(this.tempTransform,[x*(mn[0]-U[0])/_,x*(U[3]-mn[3])/_]),ar=x*h.getGutterForProjection(o);for(let Gn of G[me]){if(Gn.getState()!==se.LOADED)continue;let Cn=Gn.tileCoord,il=zt[1]-Cn[1],ri=Math.round(Xt[0]-(il-1)*Ht),Nr=zt[2]-Cn[2],Ko=Math.round(Xt[1]-(Nr-1)*dn),Zt=Math.round(Xt[0]-il*Ht),Hi=Math.round(Xt[1]-Nr*dn),Ks=ri-Zt,lr=Ko-Hi,Pn=ze.length===1,zi=!1;te=[Zt,Hi,Zt+Ks,Hi,Zt+Ks,Hi+lr,Zt,Hi+lr];for(let Pr=0,Qs=pe.length;Pr<Qs;++Pr)if(!Pn&&me<re[Pr]){let kt=pe[Pr];qt([Zt,Hi,Zt+Ks,Hi+lr],[kt[0],kt[3],kt[4],kt[7]])&&(zi||(ee.save(),zi=!0),ee.beginPath(),ee.moveTo(te[0],te[1]),ee.lineTo(te[2],te[3]),ee.lineTo(te[4],te[5]),ee.lineTo(te[6],te[7]),ee.moveTo(kt[6],kt[7]),ee.lineTo(kt[4],kt[5]),ee.lineTo(kt[2],kt[3]),ee.lineTo(kt[0],kt[1]),ee.clip())}pe.push(te),re.push(me),this.drawTile(Gn,e,Zt,Hi,Ks,lr,ar,Pn),zi&&ee.restore(),this.renderedTiles.unshift(Gn),this.updateUsedTiles(e.usedTiles,h,Gn)}}if(this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!Fs(this.renderedExtent_,U),this.renderedExtent_=U,this.renderedPixelRatio=u,this.postRender(this.context,e),i.extent&&ee.restore(),ee.imageSmoothingEnabled=!0,this.renderComplete){let le=(me,et)=>{let gt=Oe(h),q=et.wantedTiles[gt],Ht=q?Object.keys(q).length:0;this.updateCacheSize(Ht),this.tileCache_.expireCache()};e.postRenderFunctions.push(le)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,o,s,l,u){let d;if(e instanceof QD){if(d=Nv(e.getData()),!d)throw new Error("Rendering array data is not yet supported")}else d=this.getTileImage(e);if(!d)return;let h=this.getRenderContext(t),p=Oe(this),g=t.layerStatesArray[t.layerIndex],_=g.opacity*(u?e.getAlpha(p,t.time):1),v=_!==h.globalAlpha;v&&(h.save(),h.globalAlpha=_),h.drawImage(d,l,l,d.width-2*l,d.height-2*l,i,r,o,s),v&&h.restore(),_!==g.opacity?t.animate=!0:u&&e.endTransition(p)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){let r=Oe(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}},fj=dS;var dp={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var fS=class extends dc{constructor(e){e=e||{};let t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(dp.PRELOAD)}setPreload(e){this.set(dp.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(dp.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(dp.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}},hj=fS;var hS=class extends hj{constructor(e){super(e)}createRenderer(){return new fj(this,{cacheSize:this.getCacheSize()})}},pj=hS;var Od=[0,0,0],Ja=5,pS=class{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ke(oV(this.resolutions_,(r,o)=>o-r,!0),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ke(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Tr(i)),ke(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ke(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:256,ke(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,o)=>{let s=new Lv(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){let l=this.getTileRangeForExtentAndZ(i,o);s.minX=Math.max(l.minX,s.minX),s.maxX=Math.min(l.maxX,s.maxX),s.minY=Math.max(l.minY,s.minY),s.maxY=Math.min(l.maxY,s.maxY)}return s}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){let r=this.getTileRangeForExtentAndZ(e,t);for(let o=r.minX,s=r.maxX;o<=s;++o)for(let l=r.minY,u=r.maxY;l<=u;++l)i([t,o,l])}forEachTileCoordParentTileRange(e,t,i,r){let o,s,l,u=null,d=e[0]-1;for(this.zoomFactor_===2?(s=e[1],l=e[2]):u=this.getTileCoordExtent(e,r);d>=this.minZoom;){if(s!==void 0&&l!==void 0?(s=Math.floor(s/2),l=Math.floor(l/2),o=mc(s,s,l,l,i)):o=this.getTileRangeForExtentAndZ(u,d,i),t(d,o))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){let o=e[1]*2,s=e[2]*2;return mc(o,o+1,s,s+1,t)}let r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;let r=e[0],o=e[1],s=e[2];if(t===r)return mc(o,s,o,s,i);if(this.zoomFactor_){let u=Math.pow(this.zoomFactor_,t-r),d=Math.floor(o*u),h=Math.floor(s*u);if(t<r)return mc(d,d,h,h,i);let p=Math.floor(u*(o+1))-1,g=Math.floor(u*(s+1))-1;return mc(d,p,h,g,i)}let l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,Od);let r=Od[1],o=Od[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,Od);let s=Od[1],l=Od[2];return mc(r,s,o,l,i)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=tn(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){let i=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=tn(this.getTileSize(e[0]),this.tmpSize_),s=i[0]+e[1]*o[0]*r,l=i[1]-(e[2]+1)*o[1]*r,u=s+o[0]*r,d=l+o[1]*r;return nr(s,l,u,d,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,o){let s=this.getZForResolution(i),l=i/this.getResolution(s),u=this.getOrigin(s),d=tn(this.getTileSize(s),this.tmpSize_),h=l*(e-u[0])/i/d[0],p=l*(u[1]-t)/i/d[1];return r?(h=Lh(h,Ja)-1,p=Lh(p,Ja)-1):(h=Fh(h,Ja),p=Fh(p,Ja)),Rd(s,h,p,o)}getTileCoordForXYAndZ_(e,t,i,r,o){let s=this.getOrigin(i),l=this.getResolution(i),u=tn(this.getTileSize(i),this.tmpSize_),d=(e-s[0])/l/u[0],h=(s[1]-t)/l/u[1];return r?(d=Lh(d,Ja)-1,h=Lh(h,Ja)-1):(d=Fh(d,Ja),h=Fh(h,Ja)),Rd(i,d,h,o)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let i=cd(this.resolutions_,e,t||0);return ct(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return RI(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}},mS=pS;function Bv(n){let e=n.getDefaultTileGrid();return e||(e=$J(n),n.setDefaultTileGrid(e)),e}function mj(n,e,t){let i=e[0],r=n.getTileCoordCenter(e),o=Uv(t);if(!Qr(o,r)){let s=Ue(o),l=Math.ceil((o[0]-r[0])/s);return r[0]+=s*l,n.getTileCoordForCoordAndZ(r,i)}return e}function WJ(n,e,t,i){i=i!==void 0?i:"top-left";let r=_j(n,e,t);return new mS({extent:n,origin:xk(n,i),resolutions:r,tileSize:t})}function gj(n){let e=n||{},t=e.extent||en("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:_j(t,e.maxZoom,e.tileSize,e.maxResolution)};return new mS(i)}function _j(n,e,t,i){e=e!==void 0?e:42,t=tn(t!==void 0?t:256);let r=Ut(n),o=Ue(n);i=i>0?i:Math.max(o/t[0],r/t[1]);let s=e+1,l=new Array(s);for(let u=0;u<s;++u)l[u]=i/Math.pow(2,u);return l}function $J(n,e,t,i){let r=Uv(n);return WJ(r,e,t,i)}function Uv(n){n=en(n);let e=n.getExtent();if(!e){let t=180*to.degrees/n.getMetersPerUnit();e=nr(-t,-t,t,t)}return e}var qJ=/\{z\}/g,YJ=/\{x\}/g,XJ=/\{y\}/g,ZJ=/\{-y\}/g;function yj(n,e,t,i,r){return n.replace(qJ,e.toString()).replace(YJ,t.toString()).replace(XJ,i.toString()).replace(ZJ,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function vj(n){let e=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){let i=t[1].charCodeAt(0),r=t[2].charCodeAt(0),o;for(o=i;o<=r;++o)e.push(n.replace(t[0],String.fromCharCode(o)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){let i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function KJ(n,e){return function(t,i,r){if(!t)return;let o,s=t[0];if(e){let l=e.getFullTileRange(s);l&&(o=l.getHeight()-1)}return yj(n,s,t[1],t[2],o)}}function Ej(n,e){let t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=KJ(n[r],e);return QJ(i)}function QJ(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;let r=lj(e),o=ks(r,n.length);return n[o](e,t,i)}}var gS=class extends pn{constructor(e){super(),this.projection=en(e.projection),this.attributions_=bj(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=bj(e),this.changed()}setState(e){this.state_=e,this.changed()}};function bj(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}var Hv=gS;var _S=class extends Hv{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;let t=[256,256];this.tileGrid&&tn(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||Oe(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,o){return $e()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Bv(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){let r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(t),s=tn(r.getTileSize(e),this.tmpSize);return o==1?s:D2(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){let i=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=mj(r,e,i)),cj(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}},zv=class extends Rn{constructor(e,t){super(e),this.tile=t}},wj=_S;var Gv={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var yS=class n extends wj{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===n.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t=e.target,i=Oe(t),r=t.getState(),o;r==se.LOADING?(this.tileLoadingKeys_[i]=!0,o=Gv.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==se.ERROR?Gv.TILELOADERROR:r==se.LOADED?Gv.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new zv(o,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){let t=vj(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Ej(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}},Cj=yS;var vS=class extends Cj{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:JJ,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Pv,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!$y(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||$y(t,e)))return this.tileGrid;let i=Oe(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Bv(e)),this.tileGridForProjection[i]}createTile_(e,t,i,r,o,s){let l=[e,t,i],u=this.getTileCoordForTileUrlFunction(l,o),d=u?this.tileUrlFunction(u,r,o):void 0,h=new this.tileClass(l,d!==void 0?se.IDLE:se.EMPTY,d!==void 0?d:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=s,h.addEventListener(J.CHANGE,this.handleTileChange.bind(this)),h}getTile(e,t,i,r,o){let s=this.getProjection();if(!s||!o||$y(s,o))return this.getTileInternal(e,t,i,r,s||o);let l=[e,t,i],u=this.getKey(),d=this.getTileGridForProjection(s),h=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(l,o),g=new kv(s,d,o,h,l,p,this.getTilePixelRatio(r),this.getGutter(),(_,v,w,x)=>this.getTileInternal(_,v,w,x,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=u,g}getTileInternal(e,t,i,r,o){let s=this.getKey();return this.createTile_(e,t,i,r,o,s)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){let i=en(e);if(i){let r=Oe(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}};function JJ(n,e){n.getImage().src=e}var xj=vS;var ES=class extends xj{constructor(e){e=e||{};let t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:gj({extent:Uv(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}},Ij=ES;var eee='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',bS=class extends Ij{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[eee];let i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}},Dj=bS;var wS=class n extends pn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){let t=e;this.setGeometry(t)}else{let t=e;this.setProperties(t)}}clone(){let e=new n(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(at(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=Ae(e,J.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?tee(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}};function tee(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(ke(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}var Wv=wS;function CS(n,e,t,i,r,o,s){let l,u,d=(t-e)/i;if(d===1)l=e;else if(d===2)l=e,u=r;else if(d!==0){let h=n[e],p=n[e+1],g=0,_=[0];for(let x=e+i;x<t;x+=i){let D=n[x],T=n[x+1];g+=Math.sqrt((D-h)*(D-h)+(T-p)*(T-p)),_.push(g),h=D,p=T}let v=r*g,w=nV(_,v);w<0?(u=(v-_[-w-2])/(_[-w-1]-_[-w-2]),l=e+(-w-2)*i):l=e+w*i}s=s>1?s:2,o=o||new Array(s);for(let h=0;h<s;++h)o[h]=l===void 0?NaN:u===void 0?n[l+h]:ei(n[l+h],n[l+i+h],u);return o}function Sj(n,e,t,i){let r=n[e],o=n[e+1],s=0;for(let l=e+i;l<t;l+=i){let u=n[l],d=n[l+1];s+=Math.sqrt((u-r)*(u-r)+(d-o)*(d-o)),r=u,o=d}return s}var xS=class{drawCustom(e,t,i,r,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},$v=xS;var IS=class extends $v{constructor(e,t,i,r,o,s,l){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?Ju(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=s,this.userTransform_=l,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=On()}drawImages_(e,t,i,r){if(!this.image_)return;let o=ki(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.tmpLocalTransform_,u=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=u*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let h=0,p=o.length;h<p;h+=2){let g=o[h]-this.imageAnchorX_,_=o[h+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){let v=g+this.imageAnchorX_,w=_+this.imageAnchorY_;Hn(l,v,w,1,1,d,-v,-w),s.save(),s.transform.apply(s,l),s.translate(v,w),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,g,_,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=u)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let o=ki(e,t,i,r,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.textRotation_;for(this.transformRotation_===0&&(l-=this.viewRotation_),this.textRotateWithView_&&(l+=this.viewRotation_);t<i;t+=r){let u=o[t]+this.textOffsetX_,d=o[t+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.save(),s.translate(u-this.textOffsetX_,d-this.textOffsetY_),s.rotate(l),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,u,d),this.textFillState_&&s.fillText(this.text_,u,d))}}moveToLineTo_(e,t,i,r,o){let s=this.context_,l=ki(e,t,i,r,this.transform_,this.pixelCoordinates_);s.moveTo(l[0],l[1]);let u=l.length;o&&(u-=2);for(let d=2;d<u;d+=2)s.lineTo(l[d],l[d+1]);return o&&s.closePath(),i}drawRings_(e,t,i,r){for(let o=0,s=i.length;o<s;++o)t=this.moveToLineTo_(e,t,i[o],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=RV(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(i*i+r*r),s=this.context_;s.beginPath(),s.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break;default:}}drawFeature(e,t){let i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if(qt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let i=this.context_,r=e.getFlatCoordinates(),o=0,s=e.getEnds(),l=e.getStride();i.beginPath();for(let u=0,d=s.length;u<d;++u)o=this.moveToLineTo_(r,o,s[u],l,!1);i.stroke()}if(this.text_!==""){let i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,i=e.getOrientedFlatCoordinates(),r=0,o=e.getEndss(),s=e.getStride();t.beginPath();for(let l=0,u=o.length;l<u;++l){let d=o[l];r=this.drawRings_(i,r,d,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),ti(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:Za;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{let i=e.getColor();this.fillState_={fillStyle:Vi(i||wn)}}if(!t)this.strokeState_=null;else{let i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),s=t.getLineDashOffset(),l=t.getLineJoin(),u=t.getWidth(),d=t.getMiterLimit(),h=o||ji;this.strokeState_={lineCap:r!==void 0?r:$o,lineDash:this.pixelRatio_===1?h:h.map(p=>p*this.pixelRatio_),lineDashOffset:(s||Bi)*this.pixelRatio_,lineJoin:l!==void 0?l:qo,lineWidth:(u!==void 0?u:$s)*this.pixelRatio_,miterLimit:d!==void 0?d:zs,strokeStyle:Vi(i||Gs)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/i,s[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{let t=e.getFill();if(!t)this.textFillState_=null;else{let _=t.getColor();this.textFillState_={fillStyle:Vi(_||wn)}}let i=e.getStroke();if(!i)this.textStrokeState_=null;else{let _=i.getColor(),v=i.getLineCap(),w=i.getLineDash(),x=i.getLineDashOffset(),D=i.getLineJoin(),T=i.getWidth(),A=i.getMiterLimit();this.textStrokeState_={lineCap:v!==void 0?v:$o,lineDash:w||ji,lineDashOffset:x||Bi,lineJoin:D!==void 0?D:qo,lineWidth:T!==void 0?T:$s,miterLimit:A!==void 0?A:zs,strokeStyle:Vi(_||Gs)}}let r=e.getFont(),o=e.getOffsetX(),s=e.getOffsetY(),l=e.getRotateWithView(),u=e.getRotation(),d=e.getScaleArray(),h=e.getText(),p=e.getTextAlign(),g=e.getTextBaseline();this.textState_={font:r!==void 0?r:bv,textAlign:p!==void 0?p:Za,textBaseline:g!==void 0?g:hc},this.text_=h!==void 0?Array.isArray(h)?h.reduce((_,v,w)=>_+=w%2?" ":v,""):h:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=l!==void 0?l:!1,this.textRotation_=u!==void 0?u:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}},Tj=IS;var nee=.5,Mj={Point:cee,LineString:see,Polygon:dee,MultiPoint:uee,MultiLineString:aee,MultiPolygon:lee,GeometryCollection:oee,Circle:iee};function Rj(n,e){return parseInt(Oe(n),10)-parseInt(Oe(e),10)}function DS(n,e){let t=SS(n,e);return t*t}function SS(n,e){return nee*n/e}function iee(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(o||s){let u=n.getBuilder(t.getZIndex(),"Circle");u.setFillStrokeStyle(o,s),u.drawCircle(e,i,r)}let l=t.getText();if(l&&l.getText()){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,i)}}function TS(n,e,t,i,r,o,s,l){let u=[],d=t.getImage();if(d){let g=!0,_=d.getImageState();_==we.LOADED||_==we.ERROR?g=!1:_==we.IDLE&&d.load(),g&&u.push(d.ready())}let h=t.getFill();h&&h.loading()&&u.push(h.ready());let p=u.length>0;return p&&Promise.all(u).then(()=>r(null)),ree(n,e,t,i,o,s,l),p}function ree(n,e,t,i,r,o,s){let l=t.getGeometryFunction()(e);if(!l)return;let u=l.simplifyTransformed(i,r);if(t.getRenderer())Aj(n,u,t,e,s);else{let h=Mj[u.getType()];h(n,u,t,e,s,o)}}function Aj(n,e,t,i,r){if(e.getType()=="GeometryCollection"){let s=e.getGeometries();for(let l=0,u=s.length;l<u;++l)Aj(n,s[l],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function oee(n,e,t,i,r,o){let s=e.getGeometriesArray(),l,u;for(l=0,u=s.length;l<u;++l){let d=Mj[s[l].getType()];d(n,s[l],t,i,r,o)}}function see(n,e,t,i,r){let o=t.getStroke();if(o){let l=n.getBuilder(t.getZIndex(),"LineString");l.setFillStrokeStyle(null,o),l.drawLineString(e,i,r)}let s=t.getText();if(s&&s.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,i,r)}}function aee(n,e,t,i,r){let o=t.getStroke();if(o){let l=n.getBuilder(t.getZIndex(),"LineString");l.setFillStrokeStyle(null,o),l.drawMultiLineString(e,i,r)}let s=t.getText();if(s&&s.getText()){let l=n.getBuilder(t.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,i,r)}}function lee(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(s||o){let u=n.getBuilder(t.getZIndex(),"Polygon");u.setFillStrokeStyle(o,s),u.drawMultiPolygon(e,i,r)}let l=t.getText();if(l&&l.getText()){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,i,r)}}function cee(n,e,t,i,r,o){let s=t.getImage(),l=t.getText(),u=l&&l.getText(),d=o&&s&&u?{}:void 0;if(s){if(s.getImageState()!=we.LOADED)return;let h=n.getBuilder(t.getZIndex(),"Image");h.setImageStyle(s,d),h.drawPoint(e,i,r)}if(u){let h=n.getBuilder(t.getZIndex(),"Text");h.setTextStyle(l,d),h.drawText(e,i,r)}}function uee(n,e,t,i,r,o){let s=t.getImage(),l=s&&s.getOpacity()!==0,u=t.getText(),d=u&&u.getText(),h=o&&l&&d?{}:void 0;if(l){if(s.getImageState()!=we.LOADED)return;let p=n.getBuilder(t.getZIndex(),"Image");p.setImageStyle(s,h),p.drawMultiPoint(e,i,r)}if(d){let p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(u,h),p.drawText(e,i,r)}}function dee(n,e,t,i,r){let o=t.getFill(),s=t.getStroke();if(o||s){let u=n.getBuilder(t.getZIndex(),"Polygon");u.setFillStrokeStyle(o,s),u.drawPolygon(e,i,r)}let l=t.getText();if(l&&l.getText()){let u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,i,r)}}var fee=!1;function hee(n,e,t,i,r,o,s){let l=new XMLHttpRequest;l.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(l.responseType="arraybuffer"),l.withCredentials=fee,l.onload=function(u){if(!l.status||l.status>=200&&l.status<300){let d=e.getType();try{let h;d=="text"||d=="json"?h=l.responseText:d=="xml"?h=l.responseXML||l.responseText:d=="arraybuffer"&&(h=l.response),h?o(e.readFeatures(h,{extent:t,featureProjection:r}),e.readProjection(h)):s()}catch{s()}}else s()},l.onerror=s,l.send()}function MS(n,e){return function(t,i,r,o,s){hee(n,e,t,i,r,(l,u)=>{this.addFeatures(l),o!==void 0&&o(l)},()=>{this.changed(),s!==void 0&&s()})}}function Oj(n,e){return[[-1/0,-1/0,1/0,1/0]]}function Nj(n,e,t,i){let r=[],o=un();for(let s=0,l=t.length;s<l;++s){let u=t[s];o=Xu(n,e,u[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return r}var Pj=On(),fp=class n{constructor(e,t,i,r,o,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Oy(this.flatCoordinates_):Xu(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=Sr(this.getExtent());this.flatInteriorPoints_=Gh(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=WV(this.flatCoordinates_,this.ends_),t=Nj(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=jV(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=CS(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,i=this.ends_;for(let r=0,o=i.length;r<o;++r){let s=i[r],l=CS(e,t,s,2,.5);ud(this.flatMidpoints_,l),t=s}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=en(e);let t=e.getExtent(),i=e.getWorldExtent();if(t&&i){let r=Ut(i)/Ut(t);Hn(Pj,i[0],i[3],r,-r,0,0,0),ki(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Pj,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new n(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=qy((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates(),r;switch(this.type_){case"LineString":i.length=Hh(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=kV(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=iv(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break;default:}return r&&(this.simplifiedGeometry_=new n(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}};fp.prototype.getFlatCoordinates=fp.prototype.getOrientedFlatCoordinates;var _c=fp;var RS=class{constructor(e){this.rbush_=new Cd(e),this.items_={}}insert(e,t){let i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[Oe(t)]=i}load(e,t){let i=new Array(t.length);for(let r=0,o=t.length;r<o;r++){let s=e[r],l=t[r],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:l};i[r]=u,this.items_[Oe(l)]=u}this.rbush_.load(i)}remove(e){let t=Oe(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){let i=this.items_[Oe(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Fs(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,o=e.length;r<o;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return eo(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return nr(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(let t in e.items_)this.items_[t]=e.items_[t]}},AS=RS;var or={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};var Yo=class extends Rn{constructor(e,t,i){super(e),this.feature=t,this.features=i}},OS=class extends Hv{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Hs,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(ke(this.format_,"`format` must be set when `url` is set"),this.loader_=MS(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:Oj;let t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new AS:null,this.loadedExtentsRtree_=new AS,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new Ei(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=Oe(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let i=e.getGeometry();if(i){let r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Yo(or.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof _c||(this.featureChangeKeys_[e]=[Ae(t,J.CHANGE,this.handleFeatureChange_,this),Ae(t,ro.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){let r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof _c){let o=this.idIndex_[r];o instanceof _c?Array.isArray(o)?o.push(t):this.idIndex_[r]=[o,t]:i=!1}else i=!1}return i&&(ke(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],i=[],r=[];for(let o=0,s=e.length;o<s;o++){let l=e[o],u=Oe(l);this.addToIndex_(u,l)&&i.push(l)}for(let o=0,s=i.length;o<s;o++){let l=i[o],u=Oe(l);this.setupChangeEvents_(u,l);let d=l.getGeometry();if(d){let h=d.getExtent();t.push(h),r.push(l)}else this.nullGeometryFeatures_[u]=l}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(or.ADDFEATURE))for(let o=0,s=i.length;o<s;o++)this.dispatchEvent(new Yo(or.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(or.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(or.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(An.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(An.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(at);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(let i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new Yo(or.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){let o=r.getGeometry();if(o instanceof _c||o.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){let r=i.getGeometry();if(r instanceof _c||r.intersectsExtent(e)){let o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),eo(this.nullGeometryFeatures_)||ud(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);let r=Py(e,t);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let i=e[0],r=e[1],o=null,s=[NaN,NaN],l=1/0,u=[-1/0,-1/0,1/0,1/0];return t=t||Bs,this.featuresRtree_.forEachInExtent(u,function(d){if(t(d)){let h=d.getGeometry(),p=l;if(l=h instanceof _c?0:h.closestPointXY(i,r,s,l),l<p){o=d;let g=Math.sqrt(l);u[0]=i-g,u[1]=r-g,u[2]=i+g,u[3]=r+g}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,i=Oe(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{let s=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(s,t)):this.featuresRtree_&&this.featuresRtree_.update(s,t)}let o=t.getId();if(o!==void 0){let s=o.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Yo(or.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return t!==void 0?t in this.idIndex_:Oe(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&eo(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){let r=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let s=0,l=o.length;s<l;++s){let u=o[s];r.forEachInExtent(u,function(h){return tc(h.extent,u)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Yo(or.FEATURESLOADSTART)),this.loader_.call(this,u,t,i,h=>{--this.loadingExtentsCount_,this.dispatchEvent(new Yo(or.FEATURESLOADEND,void 0,h))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Yo(or.FEATURESLOADERROR))}),r.insert(u,{extent:u.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(Fs(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=Oe(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[t]?.forEach(at),delete this.featureChangeKeys_[t];let r=e.getId();if(r!==void 0){let o=r.toString(),s=this.idIndex_[o];s===e?delete this.idIndex_[o]:Array.isArray(s)&&(s.splice(s.indexOf(e),1),s.length===1&&(this.idIndex_[o]=s[0]))}return delete this.uidIndex_[t],this.hasListener(or.REMOVEFEATURE)&&this.dispatchEvent(new Yo(or.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(let t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){ke(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(MS(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}},NS=OS;var hp={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},pp=[hp.FILL],Xo=[hp.STROKE],Ys=[hp.BEGIN_PATH],PS=[hp.CLOSE_PATH],he=hp;var FS=class extends $v{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){let i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,s=o.length;for(let l=0,u=e.length;l<u;l+=t)r[0]=e[l],r[1]=e[l+1],Qr(i,r)&&(o[s++]=r[0],o[s++]=r[1]);return s}appendFlatLineCoordinates(e,t,i,r,o,s){let l=this.coordinates,u=l.length,d=this.getBufferedMaxExtent();s&&(t+=r);let h=e[t],p=e[t+1],g=this.tmpCoordinate_,_=!0,v,w,x;for(v=t+r;v<i;v+=r)g[0]=e[v],g[1]=e[v+1],x=My(d,g),x!==w?(_&&(l[u++]=h,l[u++]=p,_=!1),l[u++]=g[0],l[u++]=g[1]):x===hn.INTERSECTING?(l[u++]=g[0],l[u++]=g[1],_=!1):_=!0,h=g[0],p=g[1],w=x;return(o&&_||v===t+r)&&(l[u++]=h,l[u++]=p),u}drawCustomCoordinates_(e,t,i,r,o){for(let s=0,l=i.length;s<l;++s){let u=i[s],d=this.appendFlatLineCoordinates(e,t,u,r,!1,!1);o.push(d),t=u}return t}drawCustom(e,t,i,r,o){this.beginGeometry(e,t,o);let s=e.getType(),l=e.getStride(),u=this.coordinates.length,d,h,p,g,_;switch(s){case"MultiPolygon":d=e.getOrientedFlatCoordinates(),g=[];let v=e.getEndss();_=0;for(let w=0,x=v.length;w<x;++w){let D=[];_=this.drawCustomCoordinates_(d,_,v[w],l,D),g.push(D)}this.instructions.push([he.CUSTOM,u,g,e,i,DI,o]),this.hitDetectionInstructions.push([he.CUSTOM,u,g,e,r||i,DI,o]);break;case"Polygon":case"MultiLineString":p=[],d=s=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),_=this.drawCustomCoordinates_(d,0,e.getEnds(),l,p),this.instructions.push([he.CUSTOM,u,p,e,i,md,o]),this.hitDetectionInstructions.push([he.CUSTOM,u,p,e,r||i,md,o]);break;case"LineString":case"Circle":d=e.getFlatCoordinates(),h=this.appendFlatLineCoordinates(d,0,d.length,l,!1,!1),this.instructions.push([he.CUSTOM,u,h,e,i,Ga,o]),this.hitDetectionInstructions.push([he.CUSTOM,u,h,e,r||i,Ga,o]);break;case"MultiPoint":d=e.getFlatCoordinates(),h=this.appendFlatPointCoordinates(d,l),h>u&&(this.instructions.push([he.CUSTOM,u,h,e,i,Ga,o]),this.hitDetectionInstructions.push([he.CUSTOM,u,h,e,r||i,Ga,o]));break;case"Point":d=e.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),h=this.coordinates.length,this.instructions.push([he.CUSTOM,u,h,e,i,void 0,o]),this.hitDetectionInstructions.push([he.CUSTOM,u,h,e,r||i,void 0,o]);break;default:}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[he.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[he.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e=this.hitDetectionInstructions;e.reverse();let t,i=e.length,r,o,s=-1;for(t=0;t<i;++t)r=e[t],o=r[0],o==he.END_GEOMETRY?s=t:o==he.BEGIN_GEOMETRY&&(r[2]=t,rV(this.hitDetectionInstructions,s,t),s=-1)}fillStyleToState(e,t={}){if(e){let i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=Vi(i||wn)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){let i=e.getColor();t.strokeStyle=Vi(i||Gs);let r=e.getLineCap();t.lineCap=r!==void 0?r:$o;let o=e.getLineDash();t.lineDash=o?o.slice():ji;let s=e.getLineDashOffset();t.lineDashOffset=s||Bi;let l=e.getLineJoin();t.lineJoin=l!==void 0?l:qo;let u=e.getWidth();t.lineWidth=u!==void 0?u:$s;let d=e.getMiterLimit();t.miterLimit=d!==void 0?d:zs,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){let i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){let t=e.fillStyle,i=[he.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[he.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){let i=e.strokeStyle,r=e.lineCap,o=e.lineDash,s=e.lineDashOffset,l=e.lineJoin,u=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!ti(e.currentLineDash,o)||e.currentLineDashOffset!=s||e.currentLineJoin!=l||e.currentLineWidth!=u||e.currentMiterLimit!=d)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=s,e.currentLineJoin=l,e.currentLineWidth=u,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[he.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Ry(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;Yu(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}},Zo=FS;var LS=class extends Zo{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Qr(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),o=e.getStride(),s=this.coordinates.length,l=this.appendFlatPointCoordinates(r,o);this.instructions.push([he.DRAW_IMAGE,s,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([he.DRAW_IMAGE,s,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);let r=e.getFlatCoordinates(),o=[];for(let u=0,d=r.length;u<d;u+=e.getStride())(!this.maxExtent||Qr(this.maxExtent,r.slice(u,u+2)))&&o.push(r[u],r[u+1]);let s=this.coordinates.length,l=this.appendFlatPointCoordinates(o,2);this.instructions.push([he.DRAW_IMAGE,s,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([he.DRAW_IMAGE,s,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let i=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},Fj=LS;var kS=class extends Zo{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){let o=this.coordinates.length,s=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),l=[he.MOVE_TO_LINE_TO,o,s];return this.instructions.push(l),this.hitDetectionInstructions.push(l),i}drawLineString(e,t,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ji,Bi],Ys);let l=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(l,0,l.length,u),this.hitDetectionInstructions.push(Xo),this.endGeometry(t)}drawMultiLineString(e,t,i){let r=this.state,o=r.strokeStyle,s=r.lineWidth;if(o===void 0||s===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ji,Bi],Ys);let l=e.getEnds(),u=e.getFlatCoordinates(),d=e.getStride(),h=0;for(let p=0,g=l.length;p<g;++p)h=this.drawFlatCoordinates_(u,h,l[p],d);this.hitDetectionInstructions.push(Xo),this.endGeometry(t)}finish(){let e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Xo),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Xo),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ys)}},Lj=kS;var VS=class extends Zo{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){let o=this.state,s=o.fillStyle!==void 0,l=o.strokeStyle!==void 0,u=i.length;this.instructions.push(Ys),this.hitDetectionInstructions.push(Ys);for(let d=0;d<u;++d){let h=i[d],p=this.coordinates.length,g=this.appendFlatLineCoordinates(e,t,h,r,!0,!l),_=[he.MOVE_TO_LINE_TO,p,g];this.instructions.push(_),this.hitDetectionInstructions.push(_),l&&(this.instructions.push(PS),this.hitDetectionInstructions.push(PS)),t=h}return s&&(this.instructions.push(pp),this.hitDetectionInstructions.push(pp)),l&&(this.instructions.push(Xo),this.hitDetectionInstructions.push(Xo)),t}drawCircle(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,wn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ji,Bi]);let l=e.getFlatCoordinates(),u=e.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(l,0,l.length,u,!1,!1);let h=[he.CIRCLE,d];this.instructions.push(Ys,h),this.hitDetectionInstructions.push(Ys,h),r.fillStyle!==void 0&&(this.instructions.push(pp),this.hitDetectionInstructions.push(pp)),r.strokeStyle!==void 0&&(this.instructions.push(Xo),this.hitDetectionInstructions.push(Xo)),this.endGeometry(t)}drawPolygon(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,wn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ji,Bi]);let l=e.getEnds(),u=e.getOrientedFlatCoordinates(),d=e.getStride();this.drawFlatCoordinatess_(u,0,l,d),this.endGeometry(t)}drawMultiPolygon(e,t,i){let r=this.state,o=r.fillStyle,s=r.strokeStyle;if(o===void 0&&s===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_FILL_STYLE,wn]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([he.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ji,Bi]);let l=e.getEndss(),u=e.getOrientedFlatCoordinates(),d=e.getStride(),h=0;for(let p=0,g=l.length;p<g;++p)h=this.drawFlatCoordinatess_(u,h,l[p],d);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(e!==0){let t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Wa(t[i],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}},jS=VS;function kj(n,e,t,i,r){let o=[],s=t,l=0,u=e.slice(t,2);for(;l<n&&s+r<i;){let[d,h]=u.slice(-2),p=e[s+r],g=e[s+r+1],_=Math.sqrt((p-d)*(p-d)+(g-h)*(g-h));if(l+=_,l>=n){let v=(n-l+_)/_,w=ei(d,p,v),x=ei(h,g,v);u.push(w,x),o.push(u),u=[w,x],l==n&&(s+=r),l=0}else if(l<n)u.push(e[s+r],e[s+r+1]),s+=r;else{let v=_-l,w=ei(d,p,v/_),x=ei(h,g,v/_);u.push(w,x),o.push(u),u=[w,x],l=0,s+=r}}return l>0&&o.push(u),o}function Vj(n,e,t,i,r){let o=t,s=t,l=0,u=0,d=t,h,p,g,_,v,w,x,D,T,A;for(p=t;p<i;p+=r){let O=e[p],N=e[p+1];v!==void 0&&(T=O-v,A=N-w,_=Math.sqrt(T*T+A*A),x!==void 0&&(u+=g,h=Math.acos((x*T+D*A)/(g*_)),h>n&&(u>l&&(l=u,o=d,s=p),u=0,d=p-r)),g=_,x=T,D=A),v=O,w=N}return u+=_,u>l?[d,p]:[o,s]}var mp={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},BS=class extends Zo{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[wn]={fillStyle:wn},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){let r=this.textFillState_,o=this.textStrokeState_,s=this.textState_;if(this.text_===""||!s||!r&&!o)return;let l=this.coordinates,u=l.length,d=e.getType(),h=null,p=e.getStride();if(s.placement==="line"&&(d=="LineString"||d=="MultiLineString"||d=="Polygon"||d=="MultiPolygon")){if(!qt(this.maxExtent,e.getExtent()))return;let g;if(h=e.getFlatCoordinates(),d=="LineString")g=[h.length];else if(d=="MultiLineString")g=e.getEnds();else if(d=="Polygon")g=e.getEnds().slice(0,1);else if(d=="MultiPolygon"){let x=e.getEndss();g=[];for(let D=0,T=x.length;D<T;++D)g.push(x[D][0])}this.beginGeometry(e,t,i);let _=s.repeat,v=_?void 0:s.textAlign,w=0;for(let x=0,D=g.length;x<D;++x){let T;_?T=kj(_*this.resolution,h,w,g[x],p):T=[h.slice(w,g[x])];for(let A=0,O=T.length;A<O;++A){let N=T[A],U=0,G=N.length;if(v==null){let $=Vj(s.maxAngle,N,0,N.length,2);U=$[0],G=$[1]}for(let $=U;$<G;$+=p)l.push(N[$],N[$+1]);let W=l.length;w=g[x],this.drawChars_(u,W),u=W}}this.endGeometry(t)}else{let g=s.overflow?null:[];switch(d){case"Point":case"MultiPoint":h=e.getFlatCoordinates();break;case"LineString":h=e.getFlatMidpoint();break;case"Circle":h=e.getCenter();break;case"MultiLineString":h=e.getFlatMidpoints(),p=2;break;case"Polygon":h=e.getFlatInteriorPoint(),s.overflow||g.push(h[2]/this.resolution),p=3;break;case"MultiPolygon":let O=e.getFlatInteriorPoints();h=[];for(let N=0,U=O.length;N<U;N+=3)s.overflow||g.push(O[N+2]/this.resolution),h.push(O[N],O[N+1]);if(h.length===0)return;p=2;break;default:}let _=this.appendFlatPointCoordinates(h,p);if(_===u)return;if(g&&(_-u)/2!==h.length/p){let O=u/2;g=g.filter((N,U)=>{let G=l[(O+U)*2]===h[U*p]&&l[(O+U)*2+1]===h[U*p+1];return G||--O,G})}this.saveTextStates_();let v=s.backgroundFill?this.createFill(this.fillStyleToState(s.backgroundFill)):null,w=s.backgroundStroke?this.createStroke(this.strokeStyleToState(s.backgroundStroke)):null;this.beginGeometry(e,t,i);let x=s.padding;if(x!=Ws&&(s.scale[0]<0||s.scale[1]<0)){let O=s.padding[0],N=s.padding[1],U=s.padding[2],G=s.padding[3];s.scale[0]<0&&(N=-N,G=-G),s.scale[1]<0&&(O=-O,U=-U),x=[O,N,U,G]}let D=this.pixelRatio;this.instructions.push([he.DRAW_IMAGE,u,_,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,x==Ws?Ws:x.map(function(O){return O*D}),v,w,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]);let T=1/D,A=v?v.slice(0):null;A&&(A[1]=wn),this.hitDetectionInstructions.push([he.DRAW_IMAGE,u,_,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[T,T],NaN,this.declutterMode_,this.declutterImageWithText_,x,A,w,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?wn:this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));let o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||Za,justify:t.justify,textBaseline:t.textBaseline||hc,scale:t.scale});let s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))}drawChars_(e,t){let i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,s=this.textKey_,l=this.fillKey_;this.saveTextStates_();let u=this.pixelRatio,d=mp[r.textBaseline],h=this.textOffsetY_*u,p=this.text_,g=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([he.DRAW_CHARS,e,t,d,r.overflow,l,r.maxAngle,u,h,o,g*u,p,s,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([he.DRAW_CHARS,e,t,d,r.overflow,l&&wn,r.maxAngle,u,h,o,g*u,p,s,1/u,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,o;if(!e)this.text_="";else{let s=e.getFill();s?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Vi(s.getColor()||wn)):(r=null,this.textFillState_=r);let l=e.getStroke();if(!l)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);let w=l.getLineDash(),x=l.getLineDashOffset(),D=l.getWidth(),T=l.getMiterLimit();o.lineCap=l.getLineCap()||$o,o.lineDash=w?w.slice():ji,o.lineDashOffset=x===void 0?Bi:x,o.lineJoin=l.getLineJoin()||qo,o.lineWidth=D===void 0?$s:D,o.miterLimit=T===void 0?zs:T,o.strokeStyle=Vi(l.getColor()||Gs)}i=this.textState_;let u=e.getFont()||bv;N2(u);let d=e.getScaleArray();i.overflow=e.getOverflow(),i.font=u,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||hc,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Ws,i.scale=d===void 0?[1,1]:d;let h=e.getOffsetX(),p=e.getOffsetY(),g=e.getRotateWithView(),_=e.getKeepUpright(),v=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=h===void 0?0:h,this.textOffsetY_=p===void 0?0:p,this.textRotateWithView_=g===void 0?!1:g,this.textKeepUpright_=_===void 0?!0:_,this.textRotation_=v===void 0?0:v,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Oe(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Oe(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},jj=BS;var pee={Circle:jS,Default:Zo,Image:Fj,LineString:Lj,Polygon:jS,Text:jj},US=class{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let i=this.buildersByZIndex_[t];for(let r in i){let o=i[r].finish();e[t][r]=o}}return e}getBuilder(e,t){let i=e!==void 0?e.toString():"0",r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[t];if(o===void 0){let s=pee[t];o=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o}return o}},Bj=US;function Uj(n,e,t,i,r,o,s,l,u,d,h,p,g=!0){let _=n[e],v=n[e+1],w=0,x=0,D=0,T=0;function A(){w=_,x=v,e+=i,_=n[e],v=n[e+1],T+=D,D=Math.sqrt((_-w)*(_-w)+(v-x)*(v-x))}do A();while(e<t-i&&T+D<o);let O=D===0?0:(o-T)/D,N=ei(w,_,O),U=ei(x,v,O),G=e-i,W=T,$=o+l*u(d,r,h);for(;e<t-i&&T+D<$;)A();O=D===0?0:($-T)/D;let Z=ei(w,_,O),Ce=ei(x,v,O),ae=!1;if(g)if(p){let re=[N,U,Z,Ce];nv(re,0,4,2,p,re,re),ae=re[0]>re[2]}else ae=N>Z;let ee=Math.PI,ze=[],te=G+i===e;e=G,D=0,T=W,_=n[e],v=n[e+1];let pe;if(te){A(),pe=Math.atan2(v-x,_-w),ae&&(pe+=pe>0?-ee:ee);let re=(Z+N)/2,le=(Ce+U)/2;return ze[0]=[re,le,($-o)/2,pe,r],ze}r=r.replace(/\n/g," ");for(let re=0,le=r.length;re<le;){A();let me=Math.atan2(v-x,_-w);if(ae&&(me+=me>0?-ee:ee),pe!==void 0){let zt=me-pe;if(zt+=zt>ee?-2*ee:zt<-ee?2*ee:0,Math.abs(zt)>s)return null}pe=me;let et=re,gt=0;for(;re<le;++re){let zt=ae?le-re-1:re,mn=l*u(d,r[zt],h);if(e+i<t&&T+D<o+gt+mn/2)break;gt+=mn}if(re===et)continue;let q=ae?r.substring(le-et,le-re):r.substring(et,re);O=D===0?0:(o+gt/2-T)/D;let Ht=ei(w,_,O),dn=ei(x,v,O);ze.push([Ht,dn,gt/2,me,q]),o+=gt}return ze}var Nd=un(),el=[],Xs=[],Zs=[],tl=[];function Hj(n){return n[3].declutterBox}var zj=new RegExp("[\u0591-\u08FF\uFB1D-\uFDFF\uFE70-\uFEFC\u0800-\u0FFF\uE800-\uEFFF]");function HS(n,e){return e==="start"?e=zj.test(n)?"right":"left":e==="end"&&(e=zj.test(n)?"left":"right"),mp[e]}function mee(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}function gee(n,e,t){return t%2===0&&(n+=e),n}var zS=class{constructor(e,t,i,r,o){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=On(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new Vv:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){let o=e+t+i+r;if(this.labels_[o])return this.labels_[o];let s=r?this.strokeStates[r]:null,l=i?this.fillStates[i]:null,u=this.textStates[t],d=this.pixelRatio,h=[u.scale[0]*d,u.scale[1]*d],p=u.justify?mp[u.justify]:HS(Array.isArray(e)?e[0]:e,u.textAlign||Za),g=r&&s.lineWidth?s.lineWidth:0,_=Array.isArray(e)?e:String(e).split(`
`).reduce(mee,[]),{width:v,height:w,widths:x,heights:D,lineWidths:T}=F2(u,_),A=v+g,O=[],N=(A+2)*h[0],U=(w+g)*h[1],G={width:N<0?Math.floor(N):Math.ceil(N),height:U<0?Math.floor(U):Math.ceil(U),contextInstructions:O};(h[0]!=1||h[1]!=1)&&O.push("scale",h),r&&(O.push("strokeStyle",s.strokeStyle),O.push("lineWidth",g),O.push("lineCap",s.lineCap),O.push("lineJoin",s.lineJoin),O.push("miterLimit",s.miterLimit),O.push("setLineDash",[s.lineDash]),O.push("lineDashOffset",s.lineDashOffset)),i&&O.push("fillStyle",l.fillStyle),O.push("textBaseline","middle"),O.push("textAlign","center");let W=.5-p,$=p*A+W*g,Z=[],Ce=[],ae=0,ee=0,ze=0,te=0,pe;for(let re=0,le=_.length;re<le;re+=2){let me=_[re];if(me===`
`){ee+=ae,ae=0,$=p*A+W*g,++te;continue}let et=_[re+1]||u.font;et!==pe&&(r&&Z.push("font",et),i&&Ce.push("font",et),pe=et),ae=Math.max(ae,D[ze]);let gt=[me,$+W*x[ze]+p*(x[ze]-T[te]),.5*(g+ae)+ee];$+=x[ze],r&&Z.push("strokeText",gt),i&&Ce.push("fillText",gt),++ze}return Array.prototype.push.apply(O,Z),Array.prototype.push.apply(O,Ce),this.labels_[o]=G,G}replayTextBackground_(e,t,i,r,o,s,l){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),s&&(this.alignAndScaleFill_=s[2],e.fillStyle=s[1],this.fill_(e)),l&&(this.setStrokeStyle_(e,l),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,o,s,l,u,d,h,p,g,_,v,w,x){l*=g[0],u*=g[1];let D=i-l,T=r-u,A=o+d>e?e-d:o,O=s+h>t?t-h:s,N=v[3]+A*g[0]+v[1],U=v[0]+O*g[1]+v[2],G=D-v[3],W=T-v[0];(w||p!==0)&&(el[0]=G,tl[0]=G,el[1]=W,Xs[1]=W,Xs[0]=G+N,Zs[0]=Xs[0],Zs[1]=W+U,tl[1]=Zs[1]);let $;return p!==0?($=Hn(On(),i,r,1,1,p,-i,-r),Yt($,el),Yt($,Xs),Yt($,Zs),Yt($,tl),nr(Math.min(el[0],Xs[0],Zs[0],tl[0]),Math.min(el[1],Xs[1],Zs[1],tl[1]),Math.max(el[0],Xs[0],Zs[0],tl[0]),Math.max(el[1],Xs[1],Zs[1],tl[1]),Nd)):nr(Math.min(G,G+N),Math.min(W,W+U),Math.max(G,G+N),Math.max(W,W+U),Nd),_&&(D=Math.round(D),T=Math.round(T)),{drawImageX:D,drawImageY:T,drawImageW:A,drawImageH:O,originX:d,originY:h,declutterBox:{minX:Nd[0],minY:Nd[1],maxX:Nd[2],maxY:Nd[3],value:x},canvasTransform:$,scale:g}}replayImageOrLabel_(e,t,i,r,o,s,l){let u=!!(s||l),d=r.declutterBox,h=l?l[2]*r.scale[0]/2:0;return d.minX-h<=t[0]&&d.maxX+h>=0&&d.minY-h<=t[1]&&d.maxY+h>=0&&(u&&this.replayTextBackground_(e,el,Xs,Zs,tl,s,l),L2(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){let t=this.alignAndScaleFill_;if(t){let i=Yt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){let o=this.textStates[t],s=this.createLabel(e,t,r,i),l=this.strokeStates[i],u=this.pixelRatio,d=HS(Array.isArray(e)?e[0]:e,o.textAlign||Za),h=mp[o.textBaseline||hc],p=l&&l.lineWidth?l.lineWidth:0,g=s.width/u-2*o.scale[0],_=d*g+2*(.5-d)*p,v=h*s.height/u+2*(.5-h)*p;return{label:s,anchorX:_,anchorY:v}}execute_(e,t,i,r,o,s,l,u){let d=this.zIndexContext_,h;this.pixelCoordinates_&&ti(i,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=ki(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),wV(this.renderedTransform_,i));let p=0,g=r.length,_=0,v,w,x,D,T,A,O,N,U,G,W,$,Z,Ce=0,ae=0,ee=this.coordinateCache_,ze=this.viewRotation_,te=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,pe={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ze},re=this.instructions!=r||this.overlaps?0:200,le,me,et,gt;for(;p<g;){let q=r[p];switch(q[0]){case he.BEGIN_GEOMETRY:le=q[1],gt=q[3],le.getGeometry()?l!==void 0&&!qt(l,gt.getExtent())?p=q[2]+1:++p:p=q[2],d&&(d.zIndex=q[4]);break;case he.BEGIN_PATH:Ce>re&&(this.fill_(e),Ce=0),ae>re&&(e.stroke(),ae=0),!Ce&&!ae&&(e.beginPath(),T=NaN,A=NaN),++p;break;case he.CIRCLE:_=q[1];let dn=h[_],zt=h[_+1],mn=h[_+2],Xt=h[_+3],ar=mn-dn,Gn=Xt-zt,Cn=Math.sqrt(ar*ar+Gn*Gn);e.moveTo(dn+Cn,zt),e.arc(dn,zt,Cn,0,2*Math.PI,!0),++p;break;case he.CLOSE_PATH:e.closePath(),++p;break;case he.CUSTOM:_=q[1],v=q[2];let il=q[3],ri=q[4],Nr=q[5];pe.geometry=il,pe.feature=le,p in ee||(ee[p]=[]);let Ko=ee[p];Nr?Nr(h,_,v,2,Ko):(Ko[0]=h[_],Ko[1]=h[_+1],Ko.length=2),d&&(d.zIndex=q[6]),ri(Ko,pe),++p;break;case he.DRAW_IMAGE:_=q[1],v=q[2],U=q[3],w=q[4],x=q[5];let Zt=q[6],Hi=q[7],Ks=q[8],lr=q[9],Pn=q[10],zi=q[11],Pr=q[12],Qs=q[13];D=q[14]||"declutter";let kt=q[15];if(!U&&q.length>=20){G=q[19],W=q[20],$=q[21],Z=q[22];let oi=this.drawLabelWithPointPlacement_(G,W,$,Z);U=oi.label,q[3]=U;let Jo=q[23];w=(oi.anchorX-Jo)*this.pixelRatio,q[4]=w;let wi=q[24];x=(oi.anchorY-wi)*this.pixelRatio,q[5]=x,Zt=U.height,q[6]=Zt,Qs=U.width,q[13]=Qs}let Vd;q.length>25&&(Vd=q[25]);let Qo,Fr,Js;q.length>17?(Qo=q[16],Fr=q[17],Js=q[18]):(Qo=Ws,Fr=null,Js=null),Pn&&te?zi+=ze:!Pn&&!te&&(zi-=ze);let jd=0;for(;_<v;_+=2){if(Vd&&Vd[jd++]<Qs/this.pixelRatio)continue;let oi=this.calculateImageOrLabelDimensions_(U.width,U.height,h[_],h[_+1],Qs,Zt,w,x,Ks,lr,zi,Pr,o,Qo,!!Fr||!!Js,le),Jo=[e,t,U,oi,Hi,Fr,Js];if(u){let wi,cr,Wn;if(kt){let Vt=v-_;if(!kt[Vt]){kt[Vt]={args:Jo,declutterMode:D};continue}let Fn=kt[Vt];wi=Fn.args,cr=Fn.declutterMode,delete kt[Vt],Wn=Hj(wi)}let Lr,Gi;if(wi&&(cr!=="declutter"||!u.collides(Wn))&&(Lr=!0),(D!=="declutter"||!u.collides(oi.declutterBox))&&(Gi=!0),cr==="declutter"&&D==="declutter"){let Vt=Lr&&Gi;Lr=Vt,Gi=Vt}Lr&&(cr!=="none"&&u.insert(Wn),this.replayImageOrLabel_.apply(this,wi)),Gi&&(D!=="none"&&u.insert(oi.declutterBox),this.replayImageOrLabel_.apply(this,Jo))}else this.replayImageOrLabel_.apply(this,Jo)}++p;break;case he.DRAW_CHARS:let vc=q[1],Ec=q[2],rl=q[3],Bd=q[4];Z=q[5];let Ud=q[6],bc=q[7],wc=q[8];$=q[9];let Hd=q[10];G=q[11],Array.isArray(G)&&(G=G.reduce(gee,"")),W=q[12];let Ep=[q[13],q[13]];D=q[14]||"declutter";let Jv=q[15],Cc=this.textStates[W],ea=Cc.font,ol=[Cc.scale[0]*bc,Cc.scale[1]*bc],sl;ea in this.widths_?sl=this.widths_[ea]:(sl={},this.widths_[ea]=sl);let bp=Sj(h,vc,Ec,2),wp=Math.abs(ol[0])*AD(ea,G,sl);if(Bd||wp<=bp){let oi=this.textStates[W].textAlign,Jo=(bp-wp)*HS(G,oi),wi=Uj(h,vc,Ec,2,G,Jo,Ud,Math.abs(ol[0]),AD,ea,sl,te?0:this.viewRotation_,Jv);e:if(wi){let cr=[],Wn,Lr,Gi,Vt,Fn;if($)for(Wn=0,Lr=wi.length;Wn<Lr;++Wn){Fn=wi[Wn],Gi=Fn[4],Vt=this.createLabel(Gi,W,"",$),w=Fn[2]+(ol[0]<0?-Hd:Hd),x=rl*Vt.height+(.5-rl)*2*Hd*ol[1]/ol[0]-wc;let kr=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,Fn[0],Fn[1],Vt.width,Vt.height,w,x,0,0,Fn[3],Ep,!1,Ws,!1,le);if(u&&D==="declutter"&&u.collides(kr.declutterBox))break e;cr.push([e,t,Vt,kr,1,null,null])}if(Z)for(Wn=0,Lr=wi.length;Wn<Lr;++Wn){Fn=wi[Wn],Gi=Fn[4],Vt=this.createLabel(Gi,W,Z,""),w=Fn[2],x=rl*Vt.height-wc;let kr=this.calculateImageOrLabelDimensions_(Vt.width,Vt.height,Fn[0],Fn[1],Vt.width,Vt.height,w,x,0,0,Fn[3],Ep,!1,Ws,!1,le);if(u&&D==="declutter"&&u.collides(kr.declutterBox))break e;cr.push([e,t,Vt,kr,1,null,null])}u&&D!=="none"&&u.load(cr.map(Hj));for(let kr=0,e0=cr.length;kr<e0;++kr)this.replayImageOrLabel_.apply(this,cr[kr])}}++p;break;case he.END_GEOMETRY:if(s!==void 0){le=q[1];let oi=s(le,gt,D);if(oi)return oi}++p;break;case he.FILL:re?Ce++:this.fill_(e),++p;break;case he.MOVE_TO_LINE_TO:for(_=q[1],v=q[2],me=h[_],et=h[_+1],e.moveTo(me,et),T=me+.5|0,A=et+.5|0,_+=2;_<v;_+=2)me=h[_],et=h[_+1],O=me+.5|0,N=et+.5|0,(_==v-2||O!==T||N!==A)&&(e.lineTo(me,et),T=O,A=N);++p;break;case he.SET_FILL_STYLE:this.alignAndScaleFill_=q[2],Ce&&(this.fill_(e),Ce=0,ae&&(e.stroke(),ae=0)),e.fillStyle=q[1],++p;break;case he.SET_STROKE_STYLE:ae&&(e.stroke(),ae=0),this.setStrokeStyle_(e,q),++p;break;case he.STROKE:re?ae++:e.stroke(),++p;break;default:++p;break}}Ce&&this.fill_(e),ae&&e.stroke()}execute(e,t,i,r,o,s){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,o,void 0,void 0,s)}executeHitDetection(e,t,i,r,o){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,o)}},Gj=zS;var yc=["Polygon","Circle","LineString","Image","Text","Default"],$S=["Image","Text"],Wj=yc.filter(n=>!$S.includes(n)),WS=class{constructor(e,t,i,r,o,s,l){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=On(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,l)}clip(e,t){let i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(let i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);let o=e[i];for(let s in o){let l=o[s];r[s]=new Gj(this.resolution_,this.pixelRatio_,this.overlaps_,l,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let i=this.executorsByZIndex_[t];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,o,s){r=Math.round(r);let l=r*2+1,u=Hn(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=Et(l,l));let h=this.hitDetectionContext_;h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):d||h.clearRect(0,0,l,l);let p;this.renderBuffer_!==void 0&&(p=un(),ic(p,e),Yu(p,t*(this.renderBuffer_+r),p));let g=_ee(r),_;function v(N,U,G){let W=h.getImageData(0,0,l,l).data;for(let $=0,Z=g.length;$<Z;$++)if(W[g[$]]>0){if(!s||G==="none"||_!=="Image"&&_!=="Text"||s.includes(N)){let Ce=(g[$]-3)/4,ae=r-Ce%l,ee=r-(Ce/l|0),ze=o(N,U,ae*ae+ee*ee);if(ze)return ze}h.clearRect(0,0,l,l);break}}let w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Li);let x,D,T,A,O;for(x=w.length-1;x>=0;--x){let N=w[x].toString();for(T=this.executorsByZIndex_[N],D=yc.length-1;D>=0;--D)if(_=yc[D],A=T[_],A!==void 0&&(O=A.executeHitDetection(h,u,i,v,p),O))return O}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let i=t[0],r=t[1],o=t[2],s=t[3],l=[i,r,i,s,o,s,o,r];return ki(l,0,8,2,e,l),l}isEmpty(){return eo(this.executorsByZIndex_)}execute(e,t,i,r,o,s,l){let u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(l?iV:Li),s=s||yc;let d=yc.length;for(let h=0,p=u.length;h<p;++h){let g=u[h].toString(),_=this.executorsByZIndex_[g];for(let v=0,w=s.length;v<w;++v){let x=s[v],D=_[x];if(D!==void 0){let T=l===null?void 0:D.getZIndexContext(),A=T?T.getContext():e,O=this.maxExtent_&&x!=="Image"&&x!=="Text";if(O&&(A.save(),this.clip(A,i)),!T||x==="Text"||x==="Image"?D.execute(A,t,i,r,o,l):T.pushFunction(N=>D.execute(N,t,i,r,o,l)),O&&A.restore(),T){T.offset();let N=u[h]*d+v;this.deferredZIndexContexts_[N]||(this.deferredZIndexContexts_[N]=[]),this.deferredZIndexContexts_[N].push(T)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){let e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Li);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[t[i]].length=0}},GS={};function _ee(n){if(GS[n]!==void 0)return GS[n];let e=n*2+1,t=n*n,i=new Array(t+1);for(let o=0;o<=n;++o)for(let s=0;s<=n;++s){let l=o*o+s*s;if(l>t)break;let u=i[l];u||(u=[],i[l]=u),u.push(((n+o)*e+(n+s))*4+3),o>0&&u.push(((n-o)*e+(n+s))*4+3),s>0&&(u.push(((n+o)*e+(n-s))*4+3),o>0&&u.push(((n-o)*e+(n-s))*4+3))}let r=[];for(let o=0,s=i.length;o<s;++o)i[o]&&r.push(...i[o]);return GS[n]=r,r}var $j=WS;var lo=.5;function qj(n,e,t,i,r,o,s,l,u){let d=u?Ba(r,u):r,h=n[0]*lo,p=n[1]*lo,g=Et(h,p);g.imageSmoothingEnabled=!1;let _=g.canvas,v=new Tj(g,lo,r,null,s,l,u?ko(js(),u):null),w=t.length,x=Math.floor((256*256*256-1)/w),D={};for(let A=1;A<=w;++A){let O=t[A-1],N=O.getStyleFunction()||i;if(!N)continue;let U=N(O,o);if(!U)continue;Array.isArray(U)||(U=[U]);let W=(A*x).toString(16).padStart(7,"#00000");for(let $=0,Z=U.length;$<Z;++$){let Ce=U[$],ae=Ce.getGeometryFunction()(O);if(!ae||!qt(d,ae.getExtent()))continue;let ee=Ce.clone(),ze=ee.getFill();ze&&ze.setColor(W);let te=ee.getStroke();te&&(te.setColor(W),te.setLineDash(null)),ee.setText(void 0);let pe=Ce.getImage();if(pe){let et=pe.getImageSize();if(!et)continue;let gt=Et(et[0],et[1],void 0,{alpha:!1}),q=gt.canvas;gt.fillStyle=W,gt.fillRect(0,0,q.width,q.height),ee.setImage(new pc({img:q,anchor:pe.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:pe.getOrigin(),opacity:1,size:pe.getSize(),scale:pe.getScale(),rotation:pe.getRotation(),rotateWithView:pe.getRotateWithView()}))}let re=ee.getZIndex()||0,le=D[re];le||(le={},D[re]=le,le.Polygon=[],le.Circle=[],le.LineString=[],le.Point=[]);let me=ae.getType();if(me==="GeometryCollection"){let et=ae.getGeometriesArrayRecursive();for(let gt=0,q=et.length;gt<q;++gt){let Ht=et[gt];le[Ht.getType().replace("Multi","")].push(Ht,ee)}}else le[me.replace("Multi","")].push(ae,ee)}}let T=Object.keys(D).map(Number).sort(Li);for(let A=0,O=T.length;A<O;++A){let N=D[T[A]];for(let U in N){let G=N[U];for(let W=0,$=G.length;W<$;W+=2){v.setStyle(G[W+1]);for(let Z=0,Ce=e.length;Z<Ce;++Z)v.setTransform(e[Z]),v.drawGeometry(G[W])}}}return g.getImageData(0,0,_.width,_.height)}function Yj(n,e,t){let i=[];if(t){let r=Math.floor(Math.round(n[0])*lo),o=Math.floor(Math.round(n[1])*lo),s=(ct(r,0,t.width-1)+ct(o,0,t.height-1)*t.width)*4,l=t.data[s],u=t.data[s+1],h=t.data[s+2]+256*(u+256*l),p=Math.floor((256*256*256-1)/e.length);h&&h%p===0&&i.push(e[h/p-1])}return i}var qS=class extends jv{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=un(),this.wrappedRenderedExtent_=un(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){let r=t.extent,o=t.viewState,s=o.center,l=o.resolution,u=o.projection,d=o.rotation,h=u.getExtent(),p=this.getLayer().getSource(),g=this.getLayer().getDeclutter(),_=t.pixelRatio,v=t.viewHints,w=!(v[bn.ANIMATING]||v[bn.INTERACTING]),x=this.context,D=Math.round(Ue(r)/l*_),T=Math.round(Ut(r)/l*_),A=p.getWrapX()&&u.canWrapX(),O=A?Ue(h):null,N=A?Math.ceil((r[2]-h[2])/O)+1:1,U=A?Math.floor((r[0]-h[0])/O):0;do{let G=this.getRenderTransform(s,l,0,_,D,T,U*O);t.declutter&&(G=G.slice(0)),e.execute(x,[x.canvas.width,x.canvas.height],G,d,w,i===void 0?yc:i?$S:Wj,i?g&&t.declutter[g]:void 0)}while(++U<N)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Et(this.context.canvas.width,this.context.canvas.height,lS))}resetDrawContext_(){if(this.opacity_!==1){let e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,cc(this.context),lS.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){let i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;let r=e.viewState;this.prepareContainer(e,t);let o=this.context,s=this.replayGroup_,l=s&&!s.isEmpty();if(!l&&!(this.getLayer().hasListener(zn.PRERENDER)||this.getLayer().hasListener(zn.POSTRENDER)))return this.container;this.setDrawContext_(),this.preRender(o,e);let u=r.projection;if(this.clipped_=!1,l&&i.extent&&this.clipping){let d=Rr(i.extent,u);l=qt(d,e.extent),this.clipped_=l&&!tc(d,e.extent),this.clipped_&&this.clipUnrotated(o,e,d)}return l&&this.renderWorlds(s,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,u=this.wrappedRenderedExtent_,d=this.getLayer(),h=[],p=i[0]*lo,g=i[1]*lo;h.push(this.getRenderTransform(r,o,s,lo,p,g,0).slice());let _=d.getSource(),v=l.getExtent();if(_.getWrapX()&&l.canWrapX()&&!tc(v,u)){let x=u[0],D=Ue(v),T=0,A;for(;x<v[0];)--T,A=D*T,h.push(this.getRenderTransform(r,o,s,lo,p,g,A).slice()),x+=D;for(T=0,x=u[2];x>v[2];)++T,A=D*T,h.push(this.getRenderTransform(r,o,s,lo,p,g,A).slice()),x-=D}let w=js();this.hitDetectionImageData_=qj(i,h,this.renderedFeatures_,d.getStyleFunction(),u,o,s,DS(o,this.renderedPixelRatio_),w?l:null)}t(Yj(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,o){if(!this.replayGroup_)return;let s=t.viewState.resolution,l=t.viewState.rotation,u=this.getLayer(),d={},h=function(g,_,v){let w=Oe(g),x=d[w];if(x){if(x!==!0&&v<x.distanceSq){if(v===0)return d[w]=!0,o.splice(o.lastIndexOf(x),1),r(g,u,_);x.geometry=_,x.distanceSq=v}}else{if(v===0)return d[w]=!0,r(g,u,_);o.push(d[w]={feature:g,layer:u,geometry:_,distanceSq:v,callback:r})}},p=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,s,l,i,h,p?t.declutter?.[p]?.all().map(g=>g.value):null)}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t=this.getLayer(),i=t.getSource();if(!i)return!1;let r=e.viewHints[bn.ANIMATING],o=e.viewHints[bn.INTERACTING],s=t.getUpdateWhileAnimating(),l=t.getUpdateWhileInteracting();if(this.ready&&!s&&r||!l&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let u=e.extent,d=e.viewState,h=d.projection,p=d.resolution,g=e.pixelRatio,_=t.getRevision(),v=t.getRenderBuffer(),w=t.getRenderOrder();w===void 0&&(w=Rj);let x=d.center.slice(),D=Yu(u,v*p),T=D.slice(),A=[D.slice()],O=h.getExtent();if(i.getWrapX()&&h.canWrapX()&&!tc(O,e.extent)){let te=Ue(O),pe=Math.max(Ue(D)/2,te);D[0]=O[0]-pe,D[2]=O[2]+pe,td(x,h);let re=Bx(A[0],h);re[0]<O[0]&&re[2]<O[2]?A.push([re[0]+te,re[1],re[2]+te,re[3]]):re[0]>O[0]&&re[2]>O[2]&&A.push([re[0]-te,re[1],re[2]-te,re[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==_&&this.renderedRenderOrder_==w&&this.renderedFrameDeclutter_===!!e.declutter&&tc(this.wrappedRenderedExtent_,D))return ti(this.renderedExtent_,T)||(this.hitDetectionImageData_=null,this.renderedExtent_=T),this.renderedCenter_=x,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let N=new Bj(SS(p,g),D,p,g),U=js(),G;if(U){for(let te=0,pe=A.length;te<pe;++te){let re=A[te],le=Ba(re,h);i.loadFeatures(le,tV(p,h),U)}G=ko(U,h)}else for(let te=0,pe=A.length;te<pe;++te)i.loadFeatures(A[te],p,h);let W=DS(p,g),$=!0,Z=(te,pe)=>{let re,le=te.getStyleFunction()||t.getStyleFunction();if(le&&(re=le(te,p)),re){let me=this.renderFeature(te,W,re,N,G,this.getLayer().getDeclutter(),pe);$=$&&!me}},Ce=Ba(D,h),ae=i.getFeaturesInExtent(Ce);w&&ae.sort(w);for(let te=0,pe=ae.length;te<pe;++te)Z(ae[te],te);this.renderedFeatures_=ae,this.ready=$;let ee=N.finish(),ze=new $j(D,p,g,i.getOverlaps(),ee,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=p,this.renderedRevision_=_,this.renderedRenderOrder_=w,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=T,this.wrappedRenderedExtent_=D,this.renderedCenter_=x,this.renderedProjection_=h,this.renderedPixelRatio_=g,this.replayGroup_=ze,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,o,s,l){if(!i)return!1;let u=!1;if(Array.isArray(i))for(let d=0,h=i.length;d<h;++d)u=TS(r,e,i[d],t,this.boundHandleStyleImageChange_,o,s,l)||u;else u=TS(r,e,i,t,this.boundHandleStyleImageChange_,o,s,l);return u}},Xj=qS;var YS=class extends Av{constructor(e){super(e)}createRenderer(){return new Xj(this)}},XS=YS;var qv=class n{constructor(e){this.elementRef=e}map=null;ngOnInit(){this.map?.setTarget(this.elementRef.nativeElement)}static \u0275fac=function(t){return new(t||n)(ue(Fe))};static \u0275cmp=Xe({type:n,selectors:[["app-ol-map"]],inputs:{map:"map"},decls:0,vars:0,template:function(t,i){},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"],changeDetection:0})};function ZS(n){n||(Of(ZS),n=C(bo));let e=new de(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(dt(e))}var Kj=S3(Zj());var yee={id:"",userName:"",info:"",zoom:0,coords:{accuracy:0,altitude:null,altitudeAccuracy:null,heading:null,latitude:0,longitude:0,speed:null,toJSON:function(){throw new Error("Function not implemented.")}}},nl=class n{userPositions;removedUserPosition$=new Bt(null);userPositions$=new Bt(yee);constructor(){this.userPositions=[]}hasUserPositions(){return!!this.userPositions.length}clearUserPositions(){this.userPositions.forEach(e=>this.removeUserPosition(e.id))}addUserPosition(e){let t=j({},e);this.userPositions.push(t),this.userPositions$.next(t)}setUserCoordinatesAndOrZoom(e,t,i){let r=this.getUserPosition(e);r&&(!(0,Kj.isEqual)(r.coords,t)||r.zoom!==i)&&(r.coords=t,i&&(r.zoom=i),this.userPositions$.next(r))}getUserPosition(e){let t=this.userPositions.find(i=>i.id===e);if(t)return t}removeUserPosition(e){let t=this.userPositions.findIndex(i=>i.id===e);if(t>=0){let i=this.userPositions.splice(t,1)[0];return this.removedUserPosition$.next(i),i}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function vee(n,e){if(n&1&&(Ee(0,"div",3)(1,"textarea",4),vn(2),Re(),Ee(3,"footer"),xt(4,"app-scale-line",1)(5,"app-mouse-position",5),Re()()),n&2){let t=It();Me(2),Is(t.logMessage),Me(2),ft("map",t.map),Me(),ft("map",t.map)}}var Fd=class n{constructor(e){this.userPositions=e;this.zoomInput.pipe(ZS(this.destroyRef)).pipe(pa(300)).subscribe(()=>{this.onViewChanged()})}extendedView=!0;userId;set coordinatesChange(e){let t=this.userPositions.getUserPosition(e.id);t&&e.coords.latitude&&e.coords.longitude&&(this.userPositions.setUserCoordinatesAndOrZoom(t.id,e.coords,this.zoomLevelSingleMarker),this.logMessage=this.logMessage.concat(`coordinates changes for user "${t.userName}" to ${e.coords.latitude}/${e.coords.longitude}
`))}map=null;logMessage="";canvasStyleIsSet=!1;zoomLevelSingleMarker=14;userMarkers={};unsubscribe$=new K;zoomInput=new K;destroyRef=C(bo);markersVectorLayer=new XS;ngOnInit(){this.map||this.initializeMap()}ngAfterViewInit(){this.userPositions.userPositions$.pipe(dt(this.unsubscribe$)).subscribe(e=>{e&&this.setupMap([e])}),this.userPositions.removedUserPosition$.pipe(dt(this.unsubscribe$)).subscribe(e=>{e&&this.updateMap(e)})}ngAfterViewChecked(){if(!this.extendedView&&!this.canvasStyleIsSet){let e=this.map?.getViewport().querySelector("canvas");e&&(e.style.borderRadius="50%",this.canvasStyleIsSet=!0)}}ngOnDestroy(){this.unsubscribe$.next(void 0),this.unsubscribe$.complete()}onViewChanged=()=>{let e=this.map?.getView();this.zoomLevelSingleMarker=e?.getZoom()||13,console.log("zoom",e)};onCenterChanged=e=>{let t=this.userPositions.getUserPosition(this.userId);t&&t.id===this.userId&&(t.center=e.target.getCenter())};refreshVectorLayer(){let e=this.markersVectorLayer.getSource();e&&(e?.clear(!0),e?.addFeatures(Object.values(this.userMarkers)))}styleUser=(e,t)=>{e&&e.setStyle(new Qa({image:new pc({src:"assets/position_marker.png",size:[60,60],anchor:[.5,1],opacity:.7,scale:.5}),text:new Dv({text:t,font:"bold 12px Calibri,sans-serif",offsetY:-40,fill:new Ka({color:"blue"}),stroke:new Sd({color:"white",width:2})})}))};setupMap(e){let t=this.map?.getView();t?.setZoom(this.zoomLevelSingleMarker),e.forEach(i=>{Object.keys(this.userMarkers).includes(i.id)||(this.userMarkers[i.id]=new Wv);let r=[i.coords.longitude,i.coords.latitude];this.userMarkers[i.id].setGeometry(new zh(Wy(r))),this.styleUser(this.userMarkers[i.id],i.userName),i.id===this.userId&&i.coords.latitude&&i.coords.longitude&&t?.setCenter(Wy(r))}),this.refreshVectorLayer()}updateMap(e){Object.keys(this.userMarkers).includes(e.id)&&delete this.userMarkers[e.id],this.refreshVectorLayer()}initializeMap=()=>{this.userMarkers[this.userId]=new Wv;let e=new Wh({target:"attribution"});this.markersVectorLayer=new XS({source:new NS({features:Object.values(this.userMarkers)})}),this.map=new J2({controls:$h({attribution:!1}).extend([e]),target:"map",view:new ir({center:Wy([0,0]),zoom:this.zoomLevelSingleMarker}),layers:[new pj({source:new Dj}),this.markersVectorLayer]}),this.map.getView().on("change:resolution",t=>this.zoomInput.next(t)),this.map.getView().once("change:center",t=>this.onCenterChanged(t))};static \u0275fac=function(t){return new(t||n)(ue(nl))};static \u0275cmp=Xe({type:n,selectors:[["app-map"]],inputs:{extendedView:"extendedView",userId:"userId",coordinatesChange:"coordinatesChange"},decls:4,vars:2,consts:[[1,"map-container"],[3,"map"],["class","extended-view",4,"ngIf"],[1,"extended-view"],["rows","10",1,"log-messages"],["positionTemplate","{x}, {y} m",3,"map"]],template:function(t,i){t&1&&(Ee(0,"main")(1,"div",0),xt(2,"app-ol-map",1),Re()(),Tt(3,vee,6,3,"div",2)),t&2&&(Me(2),ft("map",i.map),Me(),ft("ngIf",i.extendedView))},dependencies:[So,Ds,Ky,Qy,qv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}main[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:400px;min-width:400px}.map-container[_ngcontent-%COMP%], .log-messages[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{display:flex;background-color:var(--header-color);padding:1em;justify-content:space-between}.extended-view[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column}"]})};function Qj(n,e){n.post("http://localhost:4000/ping",e).subscribe(t=>{console.log("ping response:",t)})}function Jj(n,e){n.post("http://localhost:4000/remove",e).subscribe(t=>{console.log("ping response:",t)})}var Yv=class n{constructor(){let e=new Pusher("409287850efe9b9b147c",{cluster:"eu"});this.channel=e.subscribe("location")}channel;init(){return this.channel}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var bee=new F("[WA_WINDOW]",{factory:()=>{let{defaultView:n}=C(Ie);if(!n)throw new Error("Window is not available");return n}}),sr=bee,yNe=new F("[WA_ANIMATION_FRAME]",{factory:()=>{let{requestAnimationFrame:n,cancelAnimationFrame:e}=C(sr);return new de(i=>{let r=NaN,o=s=>{i.next(s),r=n(o)};return r=n(o),()=>{e(r)}}).pipe(ga())}});var vNe=new F("[WA_CACHES]",{factory:()=>C(sr).caches});var ENe=new F("[WA_CRYPTO]",{factory:()=>C(sr).crypto});var bNe=new F("[WA_CSS]",{factory:()=>C(sr).CSS??{escape:n=>n,supports:()=>!1}});var wNe=new F("[WA_HISTORY]",{factory:()=>C(sr).history});var CNe=new F("[WA_LOCAL_STORAGE]",{factory:()=>C(sr).localStorage});var xNe=new F("[WA_LOCATION]",{factory:()=>C(sr).location});var Xv=new F("[WA_NAVIGATOR]",{factory:()=>C(sr).navigator}),eB=Xv,INe=new F("[WA_MEDIA_DEVICES]",{factory:()=>C(eB).mediaDevices});var DNe=new F("[WA_NETWORK_INFORMATION]",{factory:()=>C(Xv).connection||null});var SNe=new F("[WA_PAGE_VISIBILITY]",{factory:()=>{let n=C(Ie);return gf(n,"visibilitychange").pipe(ui(0),ne(()=>n.visibilityState!=="hidden"),Cl(),hs({refCount:!1,bufferSize:1}))}});var TNe=new F("[WA_PERFORMANCE]",{factory:()=>C(sr).performance});var MNe=new F("[WA_SCREEN]",{factory:()=>C(sr).screen});var RNe=new F("[WA_SESSION_STORAGE]",{factory:()=>C(sr).sessionStorage});var ANe=new F("[WA_SPEECH_RECOGNITION]: [SPEECH_RECOGNITION]",{factory:()=>{let n=C(sr);return n.speechRecognition||n.webkitSpeechRecognition||null}});var ONe=new F("[WA_SPEECH_SYNTHESIS]",{factory:()=>C(sr).speechSynthesis});var NNe=new F("[WA_USER_AGENT]",{factory:()=>C(eB).userAgent});var Zv=new F("An abstraction over window.navigator.geolocation object",{factory:()=>C(Xv).geolocation});var tB=new F("Token for an additional position options",{factory:()=>({})});var nB=new F("Is Geolocation API supported?",{factory:()=>!!C(Zv)});var Ld=class n extends de{constructor(e,t,i){let r=0;return super(o=>{t||o.error("Geolocation is not supported in your browser"),r=e.watchPosition(s=>o.next(s),s=>o.error(s),i)}),this.pipe(zr(()=>e.clearWatch(r)),hs({bufferSize:1,refCount:!0}))}static \u0275fac=function(t){return new(t||n)(ie(Zv),ie(nB),ie(tB))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function wee(n,e){if(n&1&&(Ee(0,"div"),xt(1,"app-map",4),Re()),n&2){let t=e.ngIf,i=It();Me(),ft("coordinatesChange",t)("userId",i.userId)}}var Kv=class n{constructor(e,t,i,r,o,s,l,u){this.http=e;this.route=t;this.pusher=i;this.changeDetectorRef=r;this.userPositions=o;this.authService=s;this.router=l;this.geolocation$=u}userPosition$;username="";userId="";message="";showAlert=!1;showLocationUpdate=!1;pingMyPosition(e,t){e&&Qj(this.http,{userId:this.userId,lat:e.coords.latitude,lng:e.coords.longitude,username:this.username,info:t})}ngOnInit(){if(this.route.snapshot.paramMap.has("userId")&&this.route.snapshot.paramMap.has("username")){this.userId=this.route.snapshot.paramMap.get("userId"),this.username=this.route.snapshot.paramMap.get("username");let e=this.userPositions.getUserPosition(this.userId);if(!e)this.logout();else{this.userPosition$=this.userPositions.userPositions$.asObservable(),this.authService.user$.subscribe(i=>{i?.id||this.logout()}),this.userPositions.userPositions$.next(e);let t=this.pusher.init();t.bind("ping",i=>{let r=this.userPositions.getUserPosition(i.userId);if(r)this.userPositions.setUserCoordinatesAndOrZoom(i.userId,xe(j({},r.coords),{latitude:i.lat,longitude:i.lng}));else{r={id:i.userId,userName:i.username,info:"Todo ?",coords:{latitude:i.lat,longitude:i.lng},center:[0,0],zoom:14},this.userPositions.addUserPosition(r);let o=this.userPositions.getUserPosition(this.userId);setTimeout(()=>{this.pingMyPosition(o,`Welcome ${i.username} to the Hangout`)},1e3)}this.userPositions.userPositions$.next(r),this.showLocationUpdate=!0,this.message=`User "${r.userName}" says '${i.info}'`,this.changeDetectorRef.markForCheck()}),t.bind("remove",i=>{let r=this.userPositions.removeUserPosition(i.userId);r&&(this.showLocationUpdate=!0,this.message=`User "${r.userName}" says goodbye`,this.changeDetectorRef.markForCheck())})}}}ngAfterContentInit(){let e=this.userPositions.getUserPosition(this.userId);e&&this.pingMyPosition(e,`Hello, I'm ${this.username} and I just joined the Hangout`)}logout(){this.userPositions.clearUserPositions(),this.navigateHome()}navigateHome(){this.router.navigate(["/home"])}ngOnDestroy(){Jj(this.http,{userId:this.userId}),this.userId="",this.username=""}static \u0275fac=function(t){return new(t||n)(ue(wu),ue(Oo),ue(Yv),ue(En),ue(nl),ue(La),ue(Ra),ue(Ld))};static \u0275cmp=Xe({type:n,selectors:[["app-hangout"]],decls:12,vars:6,consts:[[1,"main"],[4,"ngIf"],[1,"alert",3,"hidden"],[1,"location","alert",3,"hidden"],[3,"coordinatesChange","userId"]],template:function(t,i){t&1&&(xt(0,"app-header"),Ee(1,"div",0),Tt(2,wee,2,2,"div",1),kN(3,"async"),Ee(4,"h4"),vn(5,"Location Alerts"),Re(),Ee(6,"div",2)(7,"p"),vn(8,"This user has left"),Re()(),Ee(9,"div",3)(10,"p"),vn(11),Re()()()),t&2&&(Me(2),ft("ngIf",VN(3,4,i.userPosition$)),Me(4),ft("hidden",!i.showAlert),Me(3),ft("hidden",!i.showLocationUpdate),Me(2),Is(i.message))},dependencies:[qu,Fd,So,Ds,Kw],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:40px 2px}.main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:700;text-transform:uppercase;margin-bottom:15px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background:#f14343;color:#fff;padding:15px;border-radius:5px}.main[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.main[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{background:green;margin-top:20px}agm-map[_ngcontent-%COMP%]{height:400px;width:600px}"]})};function Cee(n,e){if(n&1&&(Ee(0,"div"),vn(1),Re()),n&2){let t=It();Me(),Uf(" Sorry, position is not available: ",t.error.message," ")}}function xee(n,e){n&1&&(Ee(0,"div"),vn(1," This is the place to be and hangout with your friends "),Re())}function Iee(n,e){if(n&1){let t=Zr();Ee(0,"div"),xt(1,"app-map",4),Ee(2,"button",5),$t("click",function(){Zn(t);let r=It(2);return Kn(r.navigateToHangout())}),vn(3,' Enter the "Hangout" '),Re()()}if(n&2){let t=It(2);Me(),ft("coordinatesChange",t.userPosition)("userId",t.userId)("extendedView",!1)}}function Dee(n,e){if(n&1&&Tt(0,Iee,4,3,"div",2),n&2){let t=It();ft("ngIf",!!t.userPosition&&!!t.userPosition.userName)}}var _p=class n{constructor(e,t,i,r,o){this.router=e;this.changeDetectorRef=t;this.authService=i;this.userPositions$=r;this.geolocation$=o}error=null;userPosition;username="";userId="";ngOnInit(){this.authService.user$.subscribe(e=>{e?.id?(this.userId&&this.userId!==e.id&&this.userPositions$.removeUserPosition(this.userId),this.username=e.name,this.userId=e.id,this.showMap()):(this.userId="",this.username="",this.userPosition=void 0,this.userPositions$.clearUserPositions())})}navigateToHangout(){this.router.navigate(["/hangout",this.userId,this.username])}showMap(){this.geolocation$.pipe(yr()).subscribe({next:e=>{this.error=null,this.userPosition={id:this.userId,userName:this.username,info:"Just created user",coords:e.coords,center:[0,0],zoom:14},this.userPositions$.addUserPosition(this.userPosition),this.changeDetectorRef.markForCheck()},error:e=>{this.error=e}})}static \u0275fac=function(t){return new(t||n)(ue(Ra),ue(En),ue(La),ue(nl),ue(Ld))};static \u0275cmp=Xe({type:n,selectors:[["app-home"]],decls:8,vars:4,consts:[["elseBlock",""],[1,"content"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"coordinatesChange","userId","extendedView"],[1,"primary-button",3,"click"]],template:function(t,i){if(t&1&&(xt(0,"app-header"),Ee(1,"div",1)(2,"h2"),vn(3),Re(),Tt(4,Cee,2,1,"div",2)(5,xee,2,0,"div",3)(6,Dee,1,1,"ng-template",null,0,Xg),Re()),t&2){let r=jl(7);Me(3),Uf(" ",i.userId?`Welcome ${i.username} to "Hangout"`:'Welcome to "Hangout" make yourself known by logging in'," "),Me(),ft("ngIf",!!i.error),Me(),ft("ngIf",!i.username)("ngIfElse",r)}},dependencies:[qu,So,Ds,Fd],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:30px 0}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:15px 0;opacity:.6}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]{width:100%;background-color:#2190e4;border:none;color:#fff;padding:10px;text-align:center;font-size:16px;margin:40px 2px;transition:.3s;display:inline-block;text-decoration:none;cursor:pointer;border-radius:4px}.content[_ngcontent-%COMP%]   .primary-button[_ngcontent-%COMP%]:hover{background-color:#1d85d4}"]})};var rB=[{path:"hangout/:userId/:username",component:Kv},{path:"home",component:_p},{path:"location",component:_p},{path:"",redirectTo:"/home",pathMatch:"full"}];var yp="Service workers are disabled or not supported by this browser",kd=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new de(i=>i.error(new Error(yp)));else{let i=null,r=new K;this.worker=new de(d=>(i!==null&&d.next(i),r.subscribe(h=>d.next(h))));let o=()=>{let{controller:d}=e;d!==null&&(i=d,r.next(i))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Qt(()=>e.getRegistration()));let s=new K;this.events=s.asObservable();let l=d=>{let{data:h}=d;h?.type&&s.next(h)};e.addEventListener("message",l),t?.get(Xn,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",l)})}}postMessage(e,t){return new Promise(i=>{this.worker.pipe(an(1)).subscribe(r=>{r.postMessage(j({action:e},t)),i()})})}postMessageWithOperation(e,t,i){let r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=i=>i.type===e:t=i=>e.includes(i.type),this.events.pipe(yt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(an(1))}waitForOperationCompleted(e){return new Promise((t,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(yt(r=>r.nonce===e),an(1),ne(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:t,error:i})})}get isEnabled(){return!!this.serviceWorker}},See=(()=>{class n{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new K;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=wl,this.notificationClicks=wl,this.subscription=wl;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ne(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ne(r=>r.data)),this.pushManager=this.sw.registration.pipe(ne(r=>r.pushManager));let i=this.pushManager.pipe(Qt(r=>r.getSubscription()));this.subscription=new de(r=>{let o=i.subscribe(r),s=this.subscriptionChanges.subscribe(r);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(yp));let i={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,new Promise((s,l)=>{this.pushManager.pipe(Qt(u=>u.subscribe(i)),an(1)).subscribe({next:u=>{this.subscriptionChanges.next(u),s(u)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(yp));let t=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return new Promise((i,r)=>{this.subscription.pipe(an(1),Qt(t)).subscribe({next:i,error:r})})}decodeBase64(t){return atob(t)}static \u0275fac=function(i){return new(i||n)(ie(kd))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Tee=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=wl,this.unrecoverable=wl;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(yp));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(yp));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(i){return new(i||n)(ie(kd))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var sB=new F("");function Mee(){let n=C(vp);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let e=C(sB),t=C(fe),i=C(Xn);t.runOutsideAngular(()=>{let r=navigator.serviceWorker,o=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",o),i.onDestroy(()=>{r.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let r,{registrationStrategy:o}=n;if(typeof o=="function")r=new Promise(s=>o().subscribe(()=>s()));else{let[s,...l]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=oB(+l[0]||0);break;case"registerWhenStable":r=Promise.race([i.whenStable(),oB(+l[0])]);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}r.then(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error("Service worker registration failed with:",s)))})}function oB(n){return new Promise(e=>setTimeout(e,n))}function Ree(n,e){return new kd(n.enabled!==!1?navigator.serviceWorker:void 0,e)}var vp=class{enabled;scope;registrationStrategy};function aB(n,e={}){return _s([See,Tee,{provide:sB,useValue:n},{provide:vp,useValue:e},{provide:kd,useFactory:Ree,deps:[vp,lt]},CN(Mee)])}var QS={providers:[UN({eventCoalescing:!0}),BC(rB),aB("ngsw-worker.js",{enabled:!zN(),registrationStrategy:"registerWhenStable:30000"}),pC(mC())]};var Qv=class n{title="app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Xe({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&xt(0,"router-outlet")},dependencies:[hh],encapsulation:2})};aC(Qv,xe(j({},QS),{providers:[...QS.providers,{provide:Dy,useValue:{subscriptSizing:"dynamic"}}]})).catch(n=>console.error(n));
